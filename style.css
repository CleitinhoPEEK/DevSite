:root {
  
  --primary: #3498db;
  --primary-soft: #6dd5fa;
  --success: #2ecc71;
  --warning: #f1c40f;
  --danger: #e74c3c;
  --highlight-value-main: #f7d774;
  --highlight-value-positive: #65e3a6;
  --highlight-value-negative: #ff8f86;
  --highlight-value-warning: #ffd166;
  
  --bg-body: #121212;
  --bg-surface: #1e1e1e;
  --bg-card: rgba(30, 30, 30, 0.6);
  --bg-input: #2d2d2d;
  --bg-sublista: #181818; /* Fundo da lista expandida ESCURO */
  
  --text-main: #e0e0e0;
  --text-muted: #a0a0a0;
  --text-destaque: #ffffff; /* Texto dos itens na lista */
  
  --border-color: #333333;
  --dark-sidebar: #000000;
  
  --badge-bg: #333333;
  --badge-text: #ffffff;
  --card-border: rgba(255, 255, 255, 0.05);
  --card-value-color: var(--highlight-value-main);
  --card-value-shadow: 0 2px 10px rgba(0,0,0,0.3);
  --warning-contrast: #2f2f2f;
  --btn-neutral: #34495e;
  --sidebar-btn-bg: #1a1a1a;
  --sidebar-btn-border: #333333;
  --sidebar-btn-text: #ffffff;
  --sidebar-btn-hover-bg: #000000;
  --poupanca-primary: #3498db;
  --poupanca-secondary: #95a5a6;
  --poupanca-accent: #9b59b6;
  --poupanca-accent-hover: #8e44ad;
  --motion-smooth: 260ms;
  --motion-theme: 380ms;
  --motion-page-open: 860ms;
  --motion-ease: cubic-bezier(0.22, 1, 0.36, 1);
  --motion-cinema: cubic-bezier(0.16, 1, 0.3, 1);
  --theme-origin-x: 50vw;
  --theme-origin-y: 50vh;
  --theme-flash-color: rgba(255, 255, 255, 0.22);
  --backup-divider: rgba(255, 255, 255, 0.18);
  --btn-export-bg: linear-gradient(135deg, rgba(46, 204, 113, 0.30), rgba(39, 174, 96, 0.16));
  --btn-export-text: #eafff4;
  --btn-export-border: rgba(46, 204, 113, 0.48);
  --btn-export-shadow: 0 8px 18px rgba(46, 204, 113, 0.22);
  --btn-import-bg: linear-gradient(135deg, rgba(52, 152, 219, 0.30), rgba(41, 128, 185, 0.16));
  --btn-import-text: #eef7ff;
  --btn-import-border: rgba(52, 152, 219, 0.48);
  --btn-import-shadow: 0 8px 18px rgba(52, 152, 219, 0.22);
  --btn-theme-bg: linear-gradient(135deg, #1f2937, #111827);
  --btn-theme-text: #eaf2ff;
  --btn-theme-border: rgba(148, 163, 184, 0.35);
  --btn-theme-shadow: 0 8px 18px rgba(15, 23, 42, 0.35);
  --btn-theme-knob: #ffffff;
  --btn-reset-bg: linear-gradient(135deg, rgba(214, 48, 49, 0.92), rgba(165, 31, 31, 0.96));
  --btn-reset-text: #ffffff;
  --btn-reset-border: rgba(255, 118, 117, 0.72);
  --btn-reset-shadow: 0 8px 18px rgba(214, 48, 49, 0.30);
  --btn-transfer-bg: linear-gradient(135deg, #f1c40f, #d4ac0d);
  --btn-transfer-bg-hover: linear-gradient(135deg, #ffd13c, #e1b019);
  --btn-transfer-text: var(--warning-contrast);
  --btn-transfer-border: rgba(241, 196, 15, 0.70);
  --btn-transfer-shadow: 0 8px 18px rgba(179, 133, 3, 0.28);
  --placar-pagar-bg1: rgba(255, 255, 255, 0.03);
  --placar-pagar-bg2: rgba(255, 255, 255, 0.03);
  --placar-pagar-border: rgba(231, 76, 60, 0.34);
  --placar-pagar-value: var(--highlight-value-negative);
  --placar-pago-bg1: rgba(255, 255, 255, 0.03);
  --placar-pago-bg2: rgba(255, 255, 255, 0.03);
  --placar-pago-border: rgba(46, 204, 113, 0.32);
  --placar-pago-value: var(--highlight-value-positive);
  --placar-geral-bg1: rgba(255, 255, 255, 0.03);
  --placar-geral-bg2: rgba(255, 255, 255, 0.03);
  --placar-geral-border: rgba(52, 152, 219, 0.36);
  --placar-geral-value: var(--highlight-value-main);
}

/* --- TEMA CORPORATIVO (LIGHT MODE - CORRIGIDO) --- */
body.light-mode {
  --primary: #4f82dd;
  --primary-soft: #7ea6ef;
  --success: #356a58;
  --warning: #9a6832;
  --danger: #8f4343;
  --highlight-value-main: #8a5f2b;
  --highlight-value-positive: #2f5e4d;
  --highlight-value-negative: #6e3636;
  --highlight-value-warning: #8f6200;
  
  --bg-body: #6c7894;
  --bg-surface: #f4f7fc;
  --bg-card: rgba(250, 252, 255, 0.92);
  --bg-input: #f7f9fd;
  --bg-sublista: #edf2f9;
  
  --text-main: #2f3d53;
  --text-muted: #5e6b81;
  --text-destaque: #1e2b3f;
  
  --border-color: #c8d2e1;
  
  --dark-sidebar: #4f5d79;
  --badge-bg: #e1e7f1;
  --badge-text: #324058;
  --card-border: rgba(83, 100, 129, 0.22);
  --card-value-color: var(--highlight-value-main);
  --card-value-shadow: none;
  --warning-contrast: #4a3500;
  --btn-neutral: #5c6f8a;
  --sidebar-btn-bg: rgba(255, 255, 255, 0.10);
  --sidebar-btn-border: rgba(225, 234, 246, 0.30);
  --sidebar-btn-text: #edf3ff;
  --sidebar-btn-hover-bg: rgba(255, 255, 255, 0.18);
  --poupanca-primary: #4f82dd;
  --poupanca-secondary: #7b8898;
  --poupanca-accent: #8f67c7;
  --poupanca-accent-hover: #7f59b2;
  --theme-flash-color: rgba(15, 23, 42, 0.18);
  --backup-divider: rgba(36, 52, 73, 0.18);
  --btn-export-bg: linear-gradient(135deg, rgba(42, 143, 100, 0.92), rgba(30, 114, 80, 0.86));
  --btn-export-text: #ffffff;
  --btn-export-border: rgba(42, 143, 100, 0.78);
  --btn-export-shadow: 0 8px 18px rgba(31, 93, 67, 0.28);
  --btn-import-bg: linear-gradient(135deg, rgba(79, 130, 221, 0.92), rgba(61, 108, 196, 0.86));
  --btn-import-text: #ffffff;
  --btn-import-border: rgba(79, 130, 221, 0.80);
  --btn-import-shadow: 0 8px 18px rgba(47, 77, 138, 0.30);
  --btn-theme-bg: linear-gradient(135deg, #5f8fdc, #4a78ca);
  --btn-theme-text: #ffffff;
  --btn-theme-border: rgba(98, 136, 204, 0.74);
  --btn-theme-shadow: 0 8px 18px rgba(50, 75, 121, 0.30);
  --btn-theme-knob: #ffffff;
  --btn-reset-bg: linear-gradient(135deg, rgba(175, 66, 66, 0.90), rgba(140, 50, 50, 0.84));
  --btn-reset-text: #ffffff;
  --btn-reset-border: rgba(175, 66, 66, 0.76);
  --btn-reset-shadow: 0 8px 18px rgba(132, 48, 48, 0.28);
  --btn-transfer-bg: linear-gradient(135deg, #cfad64, #b38737);
  --btn-transfer-bg-hover: linear-gradient(135deg, #d9b972, #bc9442);
  --btn-transfer-text: var(--warning-contrast);
  --btn-transfer-border: rgba(163, 125, 54, 0.82);
  --btn-transfer-shadow: 0 8px 16px rgba(112, 84, 35, 0.24);
  --placar-pagar-bg1: #f9f7fa;
  --placar-pagar-bg2: #f3eff5;
  --placar-pagar-border: rgba(143, 67, 67, 0.34);
  --placar-pagar-value: var(--highlight-value-negative);
  --placar-pago-bg1: #f8fbfa;
  --placar-pago-bg2: #f1f6f4;
  --placar-pago-border: rgba(53, 106, 88, 0.34);
  --placar-pago-value: var(--highlight-value-positive);
  --placar-geral-bg1: #faf8f4;
  --placar-geral-bg2: #f4f0e9;
  --placar-geral-border: rgba(154, 104, 50, 0.34);
  --placar-geral-value: var(--highlight-value-main);
}

body.light-mode .card-atrasado h3 { color: #944747; }
body.light-mode .card-pendente h3 { color: #855826; }
body.light-mode .card-recebido h3 { color: #2f5e4d; }
body.light-mode .tabs-eco-container { background: #dbe3f0; }
body.light-mode .tab-eco.active { box-shadow: 0 6px 14px rgba(53, 88, 157, 0.30); }

* { margin:0; padding:0; box-sizing:border-box; }


body {
  font-family: 'Segoe UI', sans-serif;
  background-color: var(--bg-body);
  color: var(--text-main);
  overflow-x: hidden;
  transition: background-color var(--motion-theme) ease, color var(--motion-theme) ease;
}

body.page-open-enter .main-content {
  opacity: 0;
  transform: translateY(30px) scale(0.985);
  filter: blur(8px);
  will-change: opacity, transform, filter;
}

body.page-open-enter.page-open-enter-active .main-content {
  opacity: 1;
  transform: translateY(0) scale(1);
  filter: blur(0);
  transition:
    opacity var(--motion-page-open) var(--motion-cinema),
    transform var(--motion-page-open) var(--motion-cinema),
    filter var(--motion-page-open) var(--motion-cinema);
}

body.page-open-enter .notificacoes-hoje {
  opacity: 0;
  transform: translateY(-14px) scale(0.96);
}

body.page-open-enter.page-open-enter-active .notificacoes-hoje {
  opacity: 1;
  transform: translateY(0) scale(1);
  transition:
    opacity calc(var(--motion-page-open) - 80ms) var(--motion-cinema),
    transform calc(var(--motion-page-open) - 80ms) var(--motion-cinema);
}

.brand-logo {
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.brand-logo img {
  display: block;
  width: 100%;
  height: auto;
}

.brand-logo--hero {
  display: flex;
  width: 96px;
  margin: 0 auto 14px;
  opacity: 0.94;
  filter: saturate(1.08) contrast(1.08);
  pointer-events: none;
}

.brand-logo--hero img {
  filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.28));
}

.brand-logo--watermark {
  position: fixed;
  right: 10px;
  bottom: 8px;
  width: 74px;
  z-index: 30;
  opacity: 0.34;
  filter: saturate(1.04) contrast(1.08) drop-shadow(0 10px 16px rgba(0, 0, 0, 0.32));
  pointer-events: none;
}

body.light-mode .brand-logo--hero {
  opacity: 0.84;
}

body.light-mode .brand-logo--watermark {
  opacity: 0.22;
}

@media (max-width: 600px) {
  .brand-logo--hero {
    width: 78px;
    margin-bottom: 10px;
  }

  .brand-logo--watermark {
    width: 62px;
    right: 8px;
    bottom: 6px;
  }
}

.intro-splash {
  position: fixed;
  inset: 0;
  z-index: 20000;
  background: #000;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
  isolation: isolate;
  transition: opacity 1100ms var(--motion-ease), visibility 0ms linear 1100ms;
}

.intro-splash::before {
  content: '';
  position: absolute;
  inset: 0;
  background:
    radial-gradient(circle at 50% 62%, rgba(255, 255, 255, 0.06) 0%, rgba(255, 255, 255, 0) 48%),
    radial-gradient(circle at 16% 24%, rgba(56, 189, 248, 0.1) 0%, rgba(56, 189, 248, 0) 36%),
    radial-gradient(circle at 84% 74%, rgba(236, 72, 153, 0.1) 0%, rgba(236, 72, 153, 0) 36%),
    radial-gradient(circle, rgba(255, 255, 255, 0.22) 0.9px, transparent 1.8px);
  background-size: 100% 100%, 100% 100%, 100% 100%, 150px 150px;
  animation: splash-particles-drift 12s linear infinite;
  opacity: 0.9;
  pointer-events: none;
  filter: saturate(1.15) contrast(1.06);
}

.intro-splash::after {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at 50% 55%, rgba(255,255,255,0.18), transparent 62%);
  opacity: 0;
  z-index: 1;
  pointer-events: none;
  animation: splashFlash 520ms ease 2450ms forwards;
}

.intro-splash-canvas {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
  opacity: 0.85;
  pointer-events: none;
}

.intro-splash-brand {
  width: min(92vw, 780px);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 18px;
  position: relative;
  z-index: 2;
  transition: opacity 460ms var(--motion-cinema), transform 460ms var(--motion-cinema), filter 460ms var(--motion-cinema);
}

.intro-splash-wordmark {
  position: absolute;
  inset: 0;
  z-index: 3;
  display: grid;
  place-items: center;
  opacity: 0;
  transform: translateY(14px) scale(0.94);
  filter: blur(10px);
  pointer-events: none;
  transition: opacity 560ms var(--motion-cinema), transform 560ms var(--motion-cinema), filter 560ms var(--motion-cinema);
}

.intro-splash-wordmark-text {
  font-family: 'Montserrat', sans-serif;
  font-size: clamp(58px, 18vw, 164px);
  font-weight: 900;
  letter-spacing: 0.06em;
  line-height: 1;
  text-transform: uppercase;
  background:
    radial-gradient(circle at 14% 34%, #2fd7ff 0%, transparent 34%),
    radial-gradient(circle at 36% 46%, #ff5da9 0%, transparent 36%),
    radial-gradient(circle at 62% 24%, #ffd14f 0%, transparent 35%),
    radial-gradient(circle at 84% 56%, #9a6aff 0%, transparent 38%),
    linear-gradient(110deg, #33d6ff 0%, #5aaeff 18%, #ff4fa8 44%, #ffc54f 66%, #9ce86b 79%, #b05fff 100%);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  filter: drop-shadow(0 0 18px rgba(255, 89, 184, 0.2));
}

.intro-splash.splash-show-wordmark .intro-splash-brand {
  opacity: 0;
  transform: translateY(-10px) scale(0.95);
  filter: blur(4px);
  pointer-events: none;
}

.intro-splash.splash-show-wordmark .intro-splash-wordmark {
  opacity: 1;
  transform: translateY(0) scale(1);
  filter: blur(0);
}

.intro-splash-logo-svg {
  display: grid;
  place-items: center;
}

.logo-svg-pro {
  width: 200px;
  opacity: 0;
  transform: scale(0.75) rotate(-8deg);
  filter: blur(15px);
  animation:
    logoProEnter 1.2s cubic-bezier(0.16,1,0.3,1) forwards,
    pulseProGlow 2.5s ease 2s infinite;
}

@keyframes logoProEnter {
  0% {
    opacity: 0;
    transform: scale(0.75) rotate(-8deg);
    filter: blur(15px);
  }
  60% {
    transform: scale(1.08) rotate(3deg);
  }
  100% {
    opacity: 1;
    transform: scale(1) rotate(0);
    filter: blur(0);
  }
}

.hex-outer {
  opacity: 0;
  animation: hexGlow 0.8s ease 0.4s forwards;
}

@keyframes hexGlow {
  to { opacity: 1; }
}

.bar-pro {
  fill: #f7d774;
  transform-box: fill-box;
  transform-origin: bottom;
  transform: scaleY(0);
}

.bar1 { animation: growBar 0.4s ease 0.9s forwards; }
.bar2 { animation: growBar 0.4s ease 1.05s forwards; }
.bar3 { animation: growBar 0.4s ease 1.2s forwards; }

@keyframes growBar {
  to { transform: scaleY(1); }
}

.arrow-pro {
  stroke-dasharray: 240;
  stroke-dashoffset: 240;
  animation: drawArrow 0.7s ease 1.3s forwards;
}

@keyframes drawArrow {
  to { stroke-dashoffset: 0; }
}

.arrow-head-pro {
  opacity: 0;
  transform: scale(0.7);
  transform-origin: center;
  animation: arrowHeadPop 0.3s ease 1.8s forwards;
}

@keyframes arrowHeadPop {
  to { opacity: 1; transform: scale(1); }
}

@keyframes pulseProGlow {
  0% { filter: drop-shadow(0 0 0px rgba(255,60,166,0)); }
  50% { filter: drop-shadow(0 0 28px rgba(255,60,166,0.55)); }
  100% { filter: drop-shadow(0 0 0px rgba(255,60,166,0)); }
}

.intro-splash-progress {
  width: min(68%, 520px);
  min-width: 210px;
  height: 10px;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, 0.22);
  background: rgba(255, 255, 255, 0.08);
  overflow: hidden;
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.06), 0 0 16px rgba(236, 72, 153, 0.16);
}

.intro-splash-progress-fill {
  display: block;
  width: 100%;
  height: 100%;
  transform: scaleX(0);
  transform-origin: left center;
  background: linear-gradient(90deg, #30d2ff 0%, #63b4ff 20%, #ff4ca8 48%, #ffc44d 68%, #9d65ff 100%);
  background-size: 220% 100%;
  box-shadow: 0 0 16px rgba(236, 72, 153, 0.34);
  will-change: transform;
  animation: splash-progress-hue 2.4s linear infinite;
}

.intro-splash-sound {
  margin-top: 8px;
  padding: 10px 14px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.18);
  background: rgba(255,255,255,0.06);
  color: rgba(255,255,255,0.78);
  font-weight: 700;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  cursor: pointer;
  transition: transform 220ms var(--motion-cinema), background 220ms var(--motion-cinema);
  backdrop-filter: blur(10px);
}

.intro-splash-sound:hover {
  transform: translateY(-1px);
  background: rgba(255,255,255,0.10);
}

.intro-splash.splash-fade {
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
}

.intro-splash.splash-hidden {
  display: none;
}

@keyframes splash-particles-drift {
  0% { transform: translate3d(0, 0, 0); }
  50% { transform: translate3d(0, -8px, 0); }
  100% { transform: translate3d(0, 0, 0); }
}

@keyframes splash-progress-hue {
  0% { background-position: 0% 50%; }
  100% { background-position: 100% 50%; }
}

@keyframes splashFlash {
  to { opacity: 1; }
}

@media (prefers-reduced-motion: reduce) {
  .intro-splash,
  .intro-splash::before,
  .intro-splash::after,
  .logo-svg-pro,
  .intro-splash-wordmark,
  .intro-splash-wordmark-text,
  .hex-outer,
  .hex-inner,
  .bar-pro,
  .arrow-pro,
  .arrow-head-pro,
  .intro-splash-progress-fill {
    animation: none !important;
    transition: none !important;
  }

  .logo-svg-pro {
    opacity: 1 !important;
    transform: none !important;
    filter: none !important;
  }

  .intro-splash-wordmark {
    opacity: 1 !important;
    transform: none !important;
    filter: none !important;
  }

  .intro-splash-canvas {
    display: none;
  }
}

body.theme-switching,
body.theme-switching .app-container,
body.theme-switching .sidebar,
body.theme-switching .main-content,
body.theme-switching .card,
body.theme-switching .tab-btn,
body.theme-switching .tab-eco,
body.theme-switching .tabs-eco-container,
body.theme-switching .item-extrato,
body.theme-switching .lista-item,
body.theme-switching .modal-content,
body.theme-switching button,
body.theme-switching input,
body.theme-switching select,
body.theme-switching textarea {
  transition: background-color var(--motion-theme) var(--motion-ease),
              color var(--motion-theme) var(--motion-ease),
              border-color var(--motion-theme) var(--motion-ease),
              box-shadow var(--motion-theme) var(--motion-ease),
              fill var(--motion-theme) var(--motion-ease),
              stroke var(--motion-theme) var(--motion-ease) !important;
}

body.theme-switching::after {
  content: '';
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 9999;
  background: radial-gradient(circle 170px at var(--theme-origin-x) var(--theme-origin-y), var(--theme-flash-color) 0%, rgba(255, 255, 255, 0) 68%);
  animation: theme-flash var(--motion-theme) var(--motion-ease);
}

@keyframes theme-flash {
  0% { opacity: 0; transform: scale(0.88); }
  35% { opacity: 0.9; }
  100% { opacity: 0; transform: scale(1.24); }
}

@media (prefers-reduced-motion: reduce) {
  body.theme-switching,
  body.theme-switching .app-container,
  body.theme-switching .sidebar,
  body.theme-switching .main-content,
  body.theme-switching .card,
  body.theme-switching .tab-btn,
  body.theme-switching .tab-eco,
  body.theme-switching .tabs-eco-container,
  body.theme-switching .item-extrato,
  body.theme-switching .lista-item,
  body.theme-switching .modal-content,
  body.theme-switching button,
  body.theme-switching input,
  body.theme-switching select,
  body.theme-switching textarea {
    transition-duration: 1ms !important;
  }

  body.theme-switching::after {
    animation: none;
    opacity: 0;
  }

  body.page-open-enter .main-content,
  body.page-open-enter .notificacoes-hoje,
  body.page-open-enter.page-open-enter-active .main-content,
  body.page-open-enter.page-open-enter-active .notificacoes-hoje {
    opacity: 1 !important;
    transform: none !important;
    filter: none !important;
    transition: none !important;
  }

}

.app-container { display: flex; min-height: 100vh; height: 100dvh; transition: 0.3s; }

/* SIDEBAR */
#toggle-sidebar { 
  position: fixed; top: 15px; left: 15px; z-index: 1100; 
  background: var(--bg-surface); color: var(--primary); border: 1px solid var(--border-color);
  width: 42px; height: 42px; border-radius: 10px; cursor: pointer; 
  box-shadow: 0 4px 10px rgba(0,0,0,0.1); 
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  line-height: 0;
  overflow: visible;
}

#toggle-sidebar img {
  width: 56px;
  height: 56px;
  object-fit: contain;
  display: block;
  pointer-events: none;
  filter: drop-shadow(0 2px 5px rgba(0, 0, 0, 0.35));
}

.btn-voltar-flutuante {
  position: fixed;
  top: 15px;
  left: 15px;
  z-index: 1101;
  width: 42px;
  height: 42px;
  border-radius: 10px;
  border: 1px solid var(--border-color);
  background: var(--bg-surface);
  color: var(--primary);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  opacity: 0;
  transform: translateY(-6px);
  pointer-events: none;
  transition: opacity 0.2s ease, transform 0.2s ease, background var(--motion-theme) ease, color var(--motion-theme) ease, border-color var(--motion-theme) ease;
}

.btn-voltar-flutuante:hover {
  transform: translateY(-8px);
  filter: brightness(1.05);
}

.sidebar { 
  width: 260px; 
  background: var(--dark-sidebar); 
  color: white; 
  padding: 80px 15px 20px; 
  display: flex; 
  flex-direction: column; 
  transition: 0.3s; 
  flex-shrink: 0; 
  overflow-y: auto; 
  border-right: 1px solid var(--border-color);
  
  
  z-index: 1050; 
  position: relative; 
}

.sidebar .backup-area {
    margin-top: auto;
    padding-top: 12px;
}

/* ADICIONE ISTO PARA O MENU FLUTUAR NO CELULAR */
@media (max-width: 768px) {
    .sidebar {
        position: fixed; /* Flutua por cima de tudo */
        height: 100vh;   /* Fallback */
        height: 100dvh;  /* Ocupa altura total sem tremer no mobile */
        left: 0;
        top: 0;
        box-shadow: 5px 0 15px rgba(0,0,0,0.5); /* Sombra lateral */
        padding-bottom: max(12px, env(safe-area-inset-bottom));
    }

    .sidebar .backup-area {
        margin-top: auto !important;
        padding-top: 12px;
    }
    
    /* Quando fechada no mobile, sai da tela pela esquerda */
    .sidebar-closed .sidebar {
        transform: translateX(calc(-100% - 4px)); /* Move totalmente para fora */
        margin-left: 0 !important; /* Ignora regra de desktop */
        box-shadow: none;
        border-right-color: transparent;
    }
}
.menu-meses-grid { display: flex; flex-direction: column; gap: 8px; margin-bottom: 20px; }

.menu-meses-grid button,
.menu-meses-lista button,
.menu-ano-toggle {
  width: 100%;
  padding: 12px 15px;
  border: 1px solid color-mix(in srgb, var(--poupanca-primary) 44%, rgba(255, 255, 255, 0.24));
  border-radius: 10px;
  background: linear-gradient(
    135deg,
    color-mix(in srgb, var(--poupanca-primary) 30%, transparent),
    color-mix(in srgb, var(--poupanca-primary) 10%, transparent)
  );
  color: #d9eaff;
  box-shadow: 0 8px 18px rgba(31, 83, 156, 0.22);
  cursor: pointer;
  text-align: left;
  font-size: 0.82rem;
  transition: all 0.25s ease;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.menu-meses-grid button:hover,
.menu-meses-lista button:hover,
.menu-ano-toggle:hover {
  border-color: color-mix(in srgb, var(--poupanca-primary) 72%, #c7e5ff);
  color: #f3f9ff;
  background: linear-gradient(
    135deg,
    color-mix(in srgb, var(--poupanca-primary) 48%, transparent),
    color-mix(in srgb, var(--poupanca-primary) 18%, transparent)
  );
  transform: translateY(-1px);
}
.menu-meses-grid button.active,
.menu-meses-lista button.active {
  background: linear-gradient(
    135deg,
    color-mix(in srgb, var(--poupanca-primary) 52%, transparent),
    color-mix(in srgb, var(--poupanca-primary) 24%, transparent)
  );
  color: #f8fbff;
  font-weight: 700;
  border-color: color-mix(in srgb, var(--poupanca-primary) 76%, #d6ecff);
  box-shadow: 0 10px 22px rgba(31, 83, 156, 0.30);
}

.menu-meses-lista button {
  border-color: rgba(255, 255, 255, 0.14);
  background: rgba(255, 255, 255, 0.05);
  color: rgba(223, 235, 255, 0.74);
  box-shadow: none;
}

.menu-ano-toggle {
  flex: 1;
  min-width: 0;
  justify-content: space-between;
  align-items: center;
  padding: 12px 15px;
  font-weight: 700;
  letter-spacing: 0.3px;
}

.menu-ano-header {
  display: grid;
  grid-template-columns: 1fr;
  gap: 8px;
}

.menu-ano-header.menu-ano-header--single {
  grid-template-columns: 1fr;
}

.menu-meses-grid .menu-ano-link {
  width: 100%;
  height: 40px;
  padding: 0 14px;
  border: 1px solid var(--sidebar-btn-border);
  border-radius: 8px;
  background-color: var(--sidebar-btn-bg);
  color: var(--sidebar-btn-text);
  box-shadow: none;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  text-align: center;
  font-family: 'Montserrat', sans-serif;
  font-size: 0.85rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 2px;
  transition: all 0.3s ease;
}

.menu-meses-grid .menu-ano-link i {
  order: -1;
  font-size: 0.86rem;
}

.menu-meses-grid .menu-ano-link:hover {
  border-color: color-mix(in srgb, var(--sidebar-btn-border) 56%, rgba(255, 255, 255, 0.56));
  color: var(--sidebar-btn-text);
  background-color: var(--sidebar-btn-hover-bg);
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.24);
  transform: translateY(-2px);
}

body.light-mode .menu-meses-grid .menu-ano-link {
  border-color: var(--sidebar-btn-border);
  background-color: var(--sidebar-btn-bg);
  color: var(--sidebar-btn-text);
  box-shadow: none;
}

body.light-mode .menu-meses-grid .menu-ano-link:hover {
  border-color: color-mix(in srgb, var(--sidebar-btn-border) 56%, rgba(255, 255, 255, 0.72));
  color: var(--sidebar-btn-text);
  background-color: var(--sidebar-btn-hover-bg);
}
body.light-mode .menu-meses-grid button,
body.light-mode .menu-meses-lista button,
body.light-mode .menu-ano-toggle {
  color: #204d85;
  border-color: color-mix(in srgb, var(--poupanca-primary) 46%, rgba(43, 74, 118, 0.24));
  background: linear-gradient(
    135deg,
    color-mix(in srgb, var(--poupanca-primary) 24%, #ffffff),
    color-mix(in srgb, var(--poupanca-primary) 10%, #ffffff)
  );
  box-shadow: 0 8px 16px rgba(66, 109, 177, 0.18);
}

body.light-mode .menu-meses-grid button:hover,
body.light-mode .menu-meses-lista button:hover,
body.light-mode .menu-ano-toggle:hover {
  color: #173d6b;
  border-color: color-mix(in srgb, var(--poupanca-primary) 66%, #8cb8ff);
  background: linear-gradient(
    135deg,
    color-mix(in srgb, var(--poupanca-primary) 34%, #ffffff),
    color-mix(in srgb, var(--poupanca-primary) 16%, #ffffff)
  );
}

body.light-mode .menu-meses-grid button.active,
body.light-mode .menu-meses-lista button.active {
  color: #ffffff;
  border-color: rgba(122, 157, 225, 0.88);
  background: linear-gradient(135deg, #5f95ef, #467bd5);
  box-shadow: 0 8px 18px rgba(36, 64, 116, 0.34);
}

body.light-mode .menu-meses-lista button {
  color: #5b6f8f;
  border-color: rgba(95, 112, 140, 0.36);
  background: linear-gradient(180deg, rgba(214, 223, 237, 0.56), rgba(194, 205, 223, 0.58));
  box-shadow: none;
}

.menu-ano-toggle-label {
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}

.menu-ano-toggle i {
  transition: transform 220ms ease;
}

.menu-ano-toggle.expanded i {
  transform: rotate(180deg);
}

.menu-meses-lista {
  display: flex;
  flex-direction: column;
  gap: 8px;
  overflow: hidden;
  max-height: 640px;
  opacity: 1;
  margin-top: 0;
  transition: max-height 260ms var(--motion-ease), opacity 220ms ease, margin 220ms ease;
}

.menu-meses-lista.is-collapsed {
  max-height: 0;
  opacity: 0;
  margin-top: -2px;
  pointer-events: none;
}

body.pagina-resumo-ano .resumo-ano-main {
  max-width: 1160px;
  margin: 0 auto;
  padding-top: 26px;
  position: relative;
  z-index: 1;
}

body.pagina-resumo-ano {
  isolation: isolate;
}

body.pagina-resumo-ano .resumo-ano-header {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-bottom: 22px;
  position: relative;
  z-index: 2;
}

body.pagina-resumo-ano .brand-logo--hero {
  position: fixed;
  inset: 0;
  z-index: -1;
  width: auto;
  margin: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0.05;
  pointer-events: none;
}

body.pagina-resumo-ano .brand-logo--hero img {
  width: min(120vmin, 1600px);
  height: auto;
  max-width: none;
  filter: none;
}

body.pagina-resumo-ano #titulo-resumo-ano {
  font-size: clamp(1.9rem, 4.6vw, 2.2rem);
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 2px;
  margin: 0 0 10px;
  text-align: center;
  background: linear-gradient(90deg, #c7d59a 0%, #9aae5b 45%, #6f7f39 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.22));
}

body.light-mode.pagina-resumo-ano #titulo-resumo-ano {
  background: linear-gradient(90deg, #6e7b3f 0%, #7f8f49 45%, #93a85a 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

body.pagina-resumo-ano #titulo-resumo-ano::after {
  content: '';
  display: block;
  width: 92px;
  height: 3px;
  margin: 8px auto 0;
  border-radius: 999px;
  background: linear-gradient(90deg, #b8c98b, #7f8f49);
}

body.pagina-resumo-ano .subtitulo-resumo-ano {
  margin: 0 auto;
  text-align: center;
  max-width: 820px;
  font-family: 'Montserrat', 'Segoe UI', sans-serif;
  font-size: 0.92rem;
  font-weight: 500;
  line-height: 1.45;
  color: var(--text-muted);
  opacity: 0;
  max-height: 64px;
  overflow: hidden;
  transform: translateY(8px);
  animation: subtitulo-despesas-entrada 2100ms var(--motion-ease) 260ms forwards;
  transition: opacity 760ms ease, max-height 760ms ease, margin 760ms ease, transform 760ms ease;
}

body.pagina-resumo-ano .subtitulo-resumo-ano.oculto {
  opacity: 0;
  max-height: 0;
  margin-top: 0;
  margin-bottom: 0;
  transform: translateY(-4px);
  animation: none;
  pointer-events: none;
}

.resumo-ano-visualizacao {
  display: flex;
  justify-content: center;
  margin: 4px 0 16px;
}

.resumo-ano-tabela-controles {
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
  margin: 0 0 10px;
  overflow: hidden;
  max-height: 220px;
  opacity: 1;
  transform: translateY(0);
  transition: max-height 620ms var(--motion-ease), opacity 520ms ease, transform 560ms var(--motion-ease), margin 560ms var(--motion-ease);
}

.resumo-ano-tabela-controles.oculto-grafico {
  max-height: 0;
  opacity: 0;
  transform: translateY(-8px);
  margin-bottom: 0;
  pointer-events: none;
}

.resumo-ano-tabela-controles label {
  font-size: 0.82rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.45px;
  color: var(--text-muted);
}

.resumo-ano-tabela-controles select {
  border: 1px solid var(--border-color);
  background: var(--bg-card);
  color: var(--text-main);
  border-radius: 10px;
  padding: 8px 10px;
  min-width: min(320px, 92vw);
  max-width: 100%;
  font-size: 0.85rem;
  font-weight: 700;
  outline: none;
}

.resumo-ano-tabela-controles select:focus {
  border-color: var(--primary);
}

.btn-resumo-grafico {
  width: fit-content;
  min-width: 160px;
  padding: 10px 16px;
  gap: 8px;
  border-radius: 999px;
  border: 1px solid var(--border-color);
  background: var(--bg-card);
  color: var(--text-main);
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.18);
}

.btn-resumo-grafico:hover {
  border-color: var(--primary);
  color: var(--primary);
  transform: translateY(-2px);
}

.btn-resumo-ordenar {
  width: fit-content;
  min-width: 152px;
  padding: 9px 14px;
  gap: 8px;
  border-radius: 999px;
  border: 1px solid var(--border-color);
  background: var(--bg-card);
  color: var(--text-main);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.16);
}

.btn-resumo-ordenar:hover {
  border-color: var(--primary);
  color: var(--primary);
  transform: translateY(-2px);
}

.resumo-ano-oculto {
  display: none !important;
}

.resumo-ano-cards {
  grid-template-columns: repeat(auto-fit, minmax(210px, 1fr));
  margin-bottom: 20px;
}

.resumo-ano-tabela-wrap {
  border: 1px solid var(--border-color);
  border-radius: 14px;
  overflow: hidden;
  background: var(--bg-surface);
  box-shadow: 0 10px 22px rgba(0,0,0,0.18);
  max-height: 1900px;
  opacity: 1;
  transform: translateY(0);
  transform-origin: top center;
  will-change: max-height, opacity, transform;
  transition: max-height 760ms var(--motion-ease), opacity 680ms ease, transform 700ms var(--motion-ease), margin 700ms var(--motion-ease), border-color 420ms ease, box-shadow 420ms ease;
}

.resumo-ano-tabela {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  table-layout: auto;
}

.resumo-ano-tabela th,
.resumo-ano-tabela td {
  padding: 13px 12px;
  border-bottom: 1px solid color-mix(in srgb, var(--border-color) 78%, rgba(255, 255, 255, 0.08));
  text-align: left;
  font-size: 0.9rem;
  transition: background-color 180ms ease, box-shadow 180ms ease, color 180ms ease;
}

.resumo-ano-tabela th {
  font-size: 0.76rem;
  letter-spacing: 0.38px;
  text-transform: uppercase;
  color: var(--text-muted);
  background: color-mix(in srgb, var(--bg-card) 86%, var(--bg-surface));
}

.resumo-ano-tabela td {
  background: rgba(12, 17, 27, 0.90);
}

.resumo-ano-tabela tbody tr:nth-child(even) td {
  background: rgba(10, 15, 24, 0.94);
}

.resumo-ano-tabela tbody tr:hover td {
  background: rgba(20, 29, 44, 0.96);
}

.resumo-ano-tabela th:nth-child(1),
.resumo-ano-tabela td:nth-child(1) {
  text-align: left;
}

.resumo-ano-tabela tbody td:nth-child(1) {
  color: #e6eefc;
  font-weight: 700;
}

.resumo-ano-tabela th:nth-child(2),
.resumo-ano-tabela th:nth-child(3),
.resumo-ano-tabela th:nth-child(4),
.resumo-ano-tabela th:nth-child(5),
.resumo-ano-tabela td:nth-child(2),
.resumo-ano-tabela td:nth-child(3),
.resumo-ano-tabela td:nth-child(4),
.resumo-ano-tabela td:nth-child(5) {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

.resumo-ano-tabela th:nth-child(6),
.resumo-ano-tabela td:nth-child(6) {
  text-align: center;
}

.resumo-ano-tabela[data-metrica-ordenacao="mes"] thead th:nth-child(1),
.resumo-ano-tabela[data-metrica-ordenacao="mes"] tbody td:nth-child(1) {
  color: #d7e2ff;
}

.resumo-ano-tabela[data-metrica-ordenacao="recebido"] thead th:nth-child(2),
.resumo-ano-tabela[data-metrica-ordenacao="recebido"] tbody td:nth-child(2) {
  color: #7fceff;
  font-weight: 800;
}

.resumo-ano-tabela[data-metrica-ordenacao="pendente"] thead th:nth-child(3),
.resumo-ano-tabela[data-metrica-ordenacao="pendente"] tbody td:nth-child(3) {
  color: #ffd67f;
  font-weight: 800;
}

.resumo-ano-tabela[data-metrica-ordenacao="liquido"] thead th:nth-child(4),
.resumo-ano-tabela[data-metrica-ordenacao="liquido"] tbody td:nth-child(4) {
  font-weight: 800;
}

.resumo-ano-tabela[data-metrica-ordenacao="despesasPagas"] thead th:nth-child(5),
.resumo-ano-tabela[data-metrica-ordenacao="despesasPagas"] tbody td:nth-child(5) {
  color: #ff9d94;
  font-weight: 800;
}

.resumo-ano-tabela[data-metrica-ordenacao="mes"] .resumo-tabela-linha-topo td:nth-child(1),
.resumo-ano-tabela[data-metrica-ordenacao="recebido"] .resumo-tabela-linha-topo td:nth-child(2),
.resumo-ano-tabela[data-metrica-ordenacao="pendente"] .resumo-tabela-linha-topo td:nth-child(3),
.resumo-ano-tabela[data-metrica-ordenacao="liquido"] .resumo-tabela-linha-topo td:nth-child(4),
.resumo-ano-tabela[data-metrica-ordenacao="despesasPagas"] .resumo-tabela-linha-topo td:nth-child(5) {
  box-shadow: inset 0 0 0 1px color-mix(in srgb, var(--primary) 68%, rgba(255, 255, 255, 0.18));
  font-weight: 800;
}

body.light-mode .resumo-ano-tabela[data-metrica-ordenacao="mes"] thead th:nth-child(1),
body.light-mode .resumo-ano-tabela[data-metrica-ordenacao="mes"] tbody td:nth-child(1) {
  color: #34557f;
}

body.light-mode .resumo-ano-tabela[data-metrica-ordenacao="recebido"] thead th:nth-child(2),
body.light-mode .resumo-ano-tabela[data-metrica-ordenacao="recebido"] tbody td:nth-child(2) {
  color: #1f6ca9;
}

body.light-mode .resumo-ano-tabela[data-metrica-ordenacao="pendente"] thead th:nth-child(3),
body.light-mode .resumo-ano-tabela[data-metrica-ordenacao="pendente"] tbody td:nth-child(3) {
  color: #8d5f1f;
}

body.light-mode .resumo-ano-tabela[data-metrica-ordenacao="despesasPagas"] thead th:nth-child(5),
body.light-mode .resumo-ano-tabela[data-metrica-ordenacao="despesasPagas"] tbody td:nth-child(5) {
  color: #9c3936;
}

.resumo-ano-grafico-wrap {
  border: 1px solid var(--border-color);
  border-radius: 14px;
  background: var(--bg-surface);
  box-shadow: 0 10px 22px rgba(0,0,0,0.18);
  padding: 16px 14px;
  --grafico-accent: rgba(88, 214, 141, 0.95);
  --grafico-accent-2: rgba(39, 174, 96, 0.92);
  --grafico-accent-text: var(--highlight-value-positive);
  --grafico-track-highlight: rgba(39, 174, 96, 0.58);
  --grafico-track-glow: rgba(39, 174, 96, 0.20);
  max-height: 1200px;
  opacity: 1;
  transform: translateY(0);
  transform-origin: top center;
  overflow: hidden;
  will-change: max-height, opacity, transform;
  transition: max-height 760ms var(--motion-ease), opacity 680ms ease, transform 700ms var(--motion-ease), margin 700ms var(--motion-ease), border-color 420ms ease, box-shadow 420ms ease, padding 700ms var(--motion-ease);
}

.resumo-ano-grafico-wrap[data-metrica="recebido"] {
  --grafico-accent: rgba(93, 192, 255, 0.96);
  --grafico-accent-2: rgba(44, 135, 212, 0.92);
  --grafico-accent-text: #7fceff;
  --grafico-track-highlight: rgba(52, 152, 219, 0.64);
  --grafico-track-glow: rgba(52, 152, 219, 0.22);
}

.resumo-ano-grafico-wrap[data-metrica="pendente"] {
  --grafico-accent: rgba(255, 214, 127, 0.96);
  --grafico-accent-2: rgba(209, 150, 34, 0.92);
  --grafico-accent-text: #ffd67f;
  --grafico-track-highlight: rgba(241, 196, 15, 0.66);
  --grafico-track-glow: rgba(241, 196, 15, 0.22);
}

.resumo-ano-grafico-wrap[data-metrica="despesasPagas"] {
  --grafico-accent: rgba(255, 157, 148, 0.95);
  --grafico-accent-2: rgba(231, 76, 60, 0.95);
  --grafico-accent-text: #ff9d94;
  --grafico-track-highlight: rgba(231, 76, 60, 0.66);
  --grafico-track-glow: rgba(231, 76, 60, 0.24);
}

.resumo-ano-tabela-wrap.resumo-ano-painel-oculto,
.resumo-ano-grafico-wrap.resumo-ano-painel-oculto {
  max-height: 0 !important;
  opacity: 0;
  transform: translateY(-12px) scale(0.99);
  margin-top: 0 !important;
  margin-bottom: 0 !important;
  border-color: transparent;
  box-shadow: none;
  pointer-events: none;
  overflow: hidden !important;
}

.resumo-ano-grafico-wrap.resumo-ano-painel-oculto {
  padding-top: 0;
  padding-bottom: 0;
}

.resumo-ano-grafico-titulo {
  margin: 0 0 6px;
  text-align: center;
  font-size: 0.96rem;
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: 0.8px;
}

.resumo-ano-grafico-controles {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  margin: 0 0 10px;
}

.resumo-ano-grafico-controles label {
  font-size: 0.82rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.45px;
  color: var(--text-muted);
}

.resumo-ano-grafico-controles select {
  border: 1px solid var(--border-color);
  background: var(--bg-card);
  color: var(--text-main);
  border-radius: 10px;
  padding: 8px 10px;
  min-width: min(380px, 92vw);
  max-width: 100%;
  font-size: 0.85rem;
  font-weight: 700;
  outline: none;
}

.resumo-ano-grafico-controles select:focus {
  border-color: var(--primary);
}

.resumo-ano-melhor-mes {
  text-align: center;
  margin: 0 0 6px;
  font-size: 0.9rem;
  font-weight: 700;
}

.resumo-ano-melhor-mes.destaque-positivo {
  color: var(--success);
}

.resumo-ano-melhor-mes.destaque-neutro {
  color: var(--text-muted);
}

.resumo-ano-insights {
  margin: 0 0 12px;
  text-align: center;
  font-size: 0.82rem;
  color: var(--text-muted);
  font-weight: 600;
}

.resumo-ano-grafico-lista {
  display: grid;
  grid-template-columns: repeat(12, minmax(76px, 1fr));
  align-items: end;
  gap: 10px;
  min-height: 280px;
  overflow-x: auto;
  padding: 4px 2px 8px;
}

.resumo-ano-coluna {
  min-width: 72px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 7px;
}

.resumo-ano-coluna-valor {
  font-size: 0.74rem;
  font-weight: 800;
  white-space: nowrap;
}

.resumo-ano-coluna-valor.positivo {
  color: var(--grafico-accent-text, var(--highlight-value-positive));
}

.resumo-ano-coluna-valor.negativo {
  color: var(--highlight-value-negative);
}

.resumo-ano-coluna-valor.neutro {
  color: var(--text-muted);
}

.resumo-ano-coluna-track {
  position: relative;
  width: min(64px, 100%);
  height: 216px;
  border-radius: 12px;
  border: 1px solid var(--border-color);
  background: color-mix(in srgb, var(--bg-card) 62%, transparent);
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

.resumo-ano-coluna-track.tem-negativo::after {
  content: '';
  position: absolute;
  left: 2px;
  right: 2px;
  top: var(--zero-line, 50%);
  border-top: 1px dashed rgba(255, 255, 255, 0.20);
  pointer-events: none;
}

.resumo-ano-coluna-regiao {
  display: flex;
  justify-content: center;
  width: 100%;
  min-height: 0;
}

.resumo-ano-coluna-regiao.positivo {
  align-items: flex-end;
  padding: 4px 0 2px;
}

.resumo-ano-coluna-regiao.negativo {
  align-items: flex-start;
  padding: 2px 0 4px;
}

.resumo-ano-coluna-bar {
  display: block;
  width: 72%;
  min-height: 2px;
  border-radius: 8px;
  transition: height 260ms ease;
}

.resumo-ano-coluna-bar.positivo {
  background: linear-gradient(180deg, var(--grafico-accent), var(--grafico-accent-2));
}

.resumo-ano-coluna-bar.negativo {
  background: linear-gradient(180deg, rgba(255, 118, 102, 0.92), rgba(231, 76, 60, 0.95));
}

.resumo-ano-coluna-bar.neutro {
  background: linear-gradient(180deg, rgba(162, 175, 196, 0.92), rgba(119, 136, 163, 0.90));
}

.resumo-ano-coluna-mes {
  font-size: 0.80rem;
  font-weight: 800;
  letter-spacing: 0.3px;
  text-transform: uppercase;
  color: var(--text-main);
}

.resumo-ano-grafico-vazio {
  grid-column: 1 / -1;
  text-align: center;
  color: var(--text-muted);
  font-weight: 600;
  padding: 18px 10px;
}

.resumo-ano-coluna.destaque .resumo-ano-coluna-track {
  border-color: var(--grafico-track-highlight);
  box-shadow: 0 0 0 1px var(--grafico-track-glow);
}

body.light-mode .resumo-ano-grafico-wrap[data-metrica="recebido"] {
  --grafico-accent-text: #1f6ca9;
}

body.light-mode .resumo-ano-grafico-wrap[data-metrica="pendente"] {
  --grafico-accent-text: #8d5f1f;
}

body.light-mode .resumo-ano-grafico-wrap[data-metrica="despesasPagas"] {
  --grafico-accent-text: #9c3936;
}

.resumo-liquido-positivo {
  color: var(--highlight-value-positive);
  font-weight: 700;
}

.resumo-liquido-negativo {
  color: var(--highlight-value-negative);
  font-weight: 700;
}

.resumo-acoes-mes {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 6px;
}

.btn-mini {
  border: 1px solid var(--border-color);
  background: var(--bg-card);
  color: var(--text-main);
  padding: 6px 10px;
  border-radius: 999px;
  cursor: pointer;
  font-size: 0.78rem;
  font-weight: 700;
}

.btn-mini:hover {
  border-color: var(--primary);
  color: var(--primary);
}

.btn-mini-alt:hover {
  border-color: var(--danger);
  color: var(--danger);
}

.btn-mini-eco:hover {
  border-color: #f1c40f;
  color: #fff3c4;
  filter: brightness(1.06);
}

body.light-mode .btn-mini-eco:hover {
  border-color: #b8860b;
  color: #5f4300;
}

@media (max-width: 900px) {
  body.pagina-resumo-ano .brand-logo--hero img {
    width: min(130vmin, 980px);
  }

  .resumo-ano-grafico-controles {
    flex-direction: column;
    align-items: stretch;
  }

  .resumo-ano-grafico-controles select {
    min-width: 0;
    width: 100%;
  }

  .resumo-ano-grafico-lista {
    grid-template-columns: repeat(12, minmax(64px, 1fr));
    min-height: 250px;
  }

  .resumo-ano-tabela-controles {
    flex-direction: column;
    align-items: stretch;
  }

  .resumo-ano-tabela-controles select {
    min-width: 0;
    width: 100%;
  }

  .btn-resumo-ordenar {
    width: 100%;
    justify-content: center;
  }

  .resumo-ano-coluna {
    min-width: 62px;
  }

  .resumo-ano-coluna-track {
    width: min(54px, 100%);
    height: 188px;
  }

  .resumo-ano-coluna-mes,
  .resumo-ano-coluna-valor {
    font-size: 0.74rem;
  }

  .resumo-ano-tabela-wrap {
    overflow-x: auto;
  }

  .resumo-ano-tabela {
    min-width: 760px;
  }
}


.btn-backup { 
  width: min(210px, 92%);
  padding: 10px 14px;
  margin: 8px auto 0;
  border-radius: 999px;
  border: 1px solid transparent;
  cursor: pointer;
  font-size: 0.88rem;
  font-weight: 600;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  transition: transform var(--motion-smooth) var(--motion-ease), box-shadow var(--motion-smooth) var(--motion-ease), filter var(--motion-smooth) ease, background var(--motion-theme) ease, border-color var(--motion-theme) ease, color var(--motion-theme) ease;
  will-change: transform;
}

.btn-backup i {
  width: 16px;
  text-align: center;
}

.btn-backup span {
  white-space: nowrap;
}

.btn-backup-export {
  background: var(--btn-export-bg);
  color: var(--btn-export-text);
  border-color: var(--btn-export-border);
  box-shadow: var(--btn-export-shadow);
}

.btn-backup-import {
  background: var(--btn-import-bg);
  color: var(--btn-import-text);
  border-color: var(--btn-import-border);
  box-shadow: var(--btn-import-shadow);
}

.btn-backup:hover {
  transform: translateY(-2px);
  filter: saturate(1.08) brightness(1.04);
}

.btn-backup:active {
  transform: translateY(0);
  filter: saturate(1.02);
}

.btn-tema-toggle {
  width: min(210px, 92%);
  min-height: 42px;
  padding: 10px 16px;
  margin: 0 auto 15px;
  background: var(--btn-theme-bg);
  color: var(--btn-theme-text);
  border: 1px solid var(--btn-theme-border);
  border-radius: 999px;
  cursor: pointer;
  font-weight: 700;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  position: relative;
  overflow: hidden;
  background-size: 140% 140%;
  transition: transform var(--motion-smooth) var(--motion-ease), filter var(--motion-smooth) ease, box-shadow var(--motion-smooth) var(--motion-ease), background var(--motion-theme) ease, color var(--motion-theme) ease, border-color var(--motion-theme) ease;
  box-shadow: var(--btn-theme-shadow);
  will-change: transform;
}

.btn-tema-toggle::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 8px;
  width: 22px;
  height: 22px;
  border-radius: 50%;
  background: var(--btn-theme-knob);
  transform: translateY(-50%);
  box-shadow: 0 3px 10px rgba(15, 23, 42, 0.32);
  transition: left var(--motion-theme) var(--motion-ease), background var(--motion-theme) ease, box-shadow var(--motion-theme) ease;
}

.btn-tema-toggle:hover {
  transform: translateY(-2px);
  filter: saturate(1.06) brightness(1.03);
}

.btn-tema-toggle:active {
  transform: translateY(0);
}

body.light-mode .btn-tema-toggle::before {
  left: calc(100% - 34px);
}

.backup-divider {
  border: 0;
  border-top: 1px solid var(--backup-divider);
  margin: 15px 0;
  transition: border-color var(--motion-theme) ease;
}

.configuracoes-menu {
  width: min(210px, 92%);
  margin: 10px auto 0;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.btn-configuracoes-toggle {
  width: 100%;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid var(--border-color);
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.07), rgba(255, 255, 255, 0.03));
  color: var(--text-main);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  cursor: pointer;
  font-size: 0.88rem;
  font-weight: 700;
  transition: transform var(--motion-smooth) var(--motion-ease), box-shadow var(--motion-smooth) var(--motion-ease), background var(--motion-theme) ease, border-color var(--motion-theme) ease;
  box-shadow: 0 8px 18px rgba(0, 0, 0, 0.22);
}

.btn-configuracoes-principal {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  gap: 9px;
}

.btn-configuracoes-principal i {
  color: var(--primary);
}

.btn-configuracoes-toggle .config-seta {
  display: none;
  font-size: 0.88rem;
  color: var(--primary);
  transition: transform 220ms var(--motion-ease), opacity 180ms ease;
}

.btn-configuracoes-toggle:hover {
  transform: translateY(-2px);
  border-color: var(--primary);
}

.configuracoes-menu-conteudo {
  display: grid;
  gap: 8px;
  max-height: 0;
  opacity: 0;
  overflow: hidden;
  transform: translateY(-6px);
  transition: max-height 280ms var(--motion-ease), opacity 220ms ease, transform 220ms ease, padding 220ms ease;
}

.configuracoes-menu.expanded .configuracoes-menu-conteudo {
  max-height: 260px;
  opacity: 1;
  transform: translateY(0);
  padding-top: 2px;
}

.configuracoes-menu.expanded .btn-configuracoes-toggle {
  width: 52px;
  min-width: 52px;
  height: 42px;
  border-radius: 999px;
  padding: 0;
  margin: 0 auto;
  justify-content: center;
  box-shadow: 0 8px 18px rgba(0, 0, 0, 0.26);
}

.configuracoes-menu.expanded .btn-configuracoes-principal {
  display: none;
}

.configuracoes-menu.expanded .btn-configuracoes-toggle .config-seta {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  opacity: 1;
  transform: rotate(180deg);
}

.configuracoes-menu .btn-backup,
.configuracoes-menu .btn-reset {
  width: 100%;
  margin: 0;
  display: grid;
  grid-template-columns: 18px max-content;
  align-items: center;
  justify-content: center;
  column-gap: 10px;
  text-align: center;
  line-height: 1.15;
}

.configuracoes-menu .btn-backup i,
.configuracoes-menu .btn-reset i {
  width: 18px;
  min-width: 18px;
  margin: 0;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.configuracoes-menu .btn-backup span,
.configuracoes-menu .btn-reset span {
  display: block;
  text-align: left;
  line-height: 1.15;
}

.configuracoes-menu .backup-divider {
  margin: 6px 0 2px;
}

body.light-mode .btn-configuracoes-toggle {
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.82), rgba(246, 249, 255, 0.70));
  border-color: rgba(91, 107, 135, 0.30);
  box-shadow: 0 8px 18px rgba(33, 46, 71, 0.14);
}

body.light-mode .btn-configuracoes-principal i {
  color: #3f6db1;
}

/* Na aba economias, mantem respiro entre navegacao e bloco de acoes inferiores */
body.pagina-economias .botoes-financeiros {
  gap: 24px;
}



/* --- ESTILO BASE (DESKTOP) --- */
#btn-abrir-cadastro {
    /* Reset e Base */
    all: unset; /* Remove estilos nativos feios */
    background: linear-gradient(135deg, var(--primary), var(--primary-soft)); /* Gradiente */
    color: white;
    
    /* Tamanho e Forma */
    padding: 12px 24px;
    border-radius: 12px;
    margin-bottom: 25px;
    
    /* Alinhamento Perfeito (Evita ficar torto) */
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    
    /* Comportamento */
    cursor: pointer;
    font-weight: 600;
    font-family: inherit;
    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    
    /* Sombra Bonita (Colorida e difusa) */
    box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
    animation: pulse-glow 2s infinite, cadastro-pisca 1.6s ease-in-out infinite;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

#btn-abrir-cadastro:hover {
    animation: none;
    transform: translateY(-3px); /* Flutua ao passar o mouse */
    box-shadow: 0 8px 25px rgba(52, 152, 219, 0.4);
    filter: brightness(1.05);
}

#btn-abrir-cadastro:active {
    transform: scale(0.95); /* Efeito de clique */
}


#btn-abrir-cadastro .btn-icon { display: none; }


/* =========================================
   AJUSTES MOBILE (TRANSFORMA EM FAB)
   ========================================= */
@media (max-width: 600px) {
    #btn-abrir-cadastro {
        /* Posicionamento Fixo */
        position: fixed;
        bottom: 25px;
        right: 25px;
        margin: 0;
        z-index: 9999;
        
        
        width: 60px;
        height: 60px;
        aspect-ratio: 1 / 1;
        border-radius: 50%;
        padding: 0;
        display: grid;
        place-items: center;
        line-height: 0;
        
        /* Sombra mais forte para destacar do fundo */
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
        animation: pulse-glow 2s infinite, cadastro-pisca 1.6s ease-in-out infinite !important;
    }

    /* Esconde o TEXTO no mobile */
    #btn-abrir-cadastro .btn-text {
        display: none;
    }

    
    #btn-abrir-cadastro .btn-icon {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 100%;
        height: 100%;
        margin: 0;
        transform: none;
    }

    #btn-abrir-cadastro .btn-icon i {
        display: block;
        font-size: 24px;
        line-height: 1;
        transform: translateY(-0.5px);
    }

    #btn-abrir-cadastro:hover,
    #btn-abrir-cadastro:active {
        transform: none !important;
    }

    
    .main-content {
        padding-bottom: 120px !important;
    }
}


/* =========================================
   DASHBOARD & LAYOUT GERAL
   ========================================= */
.main-content { 
    flex: 1; 
    padding: 30px; 
    padding-top: 80px; 
    overflow-y: auto; 
    overflow-x: hidden;
    -webkit-overflow-scrolling: touch;
    overscroll-behavior-y: contain;
}

.dashboard { 
    display: grid; 
    /* Responsivo inteligente: ajusta colunas automaticamente */
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); 
    gap: 20px; 
    margin-bottom: 30px; 
}

/* Ajuste fino para telas muito pequenas (iPhone SE, etc) */
@media (max-width: 400px) {
    .dashboard {
        grid-template-columns: 1fr; 
    }
}
/* --- CARDS DE VALORES (ESTILO NEON GLASS) --- */
.card {
    background: var(--bg-card); 
    backdrop-filter: blur(10px);        /* Desfoque do fundo */
    -webkit-backdrop-filter: blur(10px);
    padding: 20px;
    border-radius: 20px;
    text-align: center;
    position: relative;
    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    border: 1px solid var(--card-border);
    overflow: hidden;
}

.card h3 {
    font-size: 0.85rem;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    margin-bottom: 5px;
    opacity: 0.9;
    font-weight: 700;
}

.card p {
    font-size: 1.8rem;
    font-weight: 800;
    color: var(--card-value-color);
    text-shadow: var(--card-value-shadow);
}

/* --- PLACAR DE DESPESAS --- */
.dashboard-despesas {
    grid-template-columns: repeat(3, minmax(220px, 1fr));
    gap: 12px;
    margin-top: 10px;
    margin-bottom: 24px;
}

.dashboard-despesas .card {
    min-height: 108px;
    padding: 14px 16px;
    text-align: left;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    justify-content: center;
    gap: 6px;
    border-radius: 14px;
    border: 1px solid var(--border-color);
    position: relative;
    overflow: visible;
    box-shadow: 0 6px 14px rgba(0, 0, 0, 0.14);
    transition: transform 180ms ease, box-shadow 220ms ease, border-color var(--motion-theme) ease, background-color var(--motion-theme) ease;
}

body.light-mode .dashboard-despesas .card {
    box-shadow: 0 4px 12px rgba(44, 62, 80, 0.08);
}

.dashboard-despesas .card::before,
.dashboard-despesas .card::after {
    content: none;
}

.dashboard-despesas .card h3 {
    margin: 0;
    font-size: 0.74rem;
    letter-spacing: 1px;
    text-transform: uppercase;
    opacity: 0.92;
    display: flex;
    align-items: center;
    gap: 8px;
}

.dashboard-despesas .card h3::before {
    content: '';
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: currentColor;
}

.dashboard-despesas .card p {
    margin: 0;
    font-size: clamp(1.18rem, 1.95vw, 1.75rem);
    line-height: 1.15;
    letter-spacing: 0.2px;
    text-shadow: none;
}

.dashboard-despesas .card:hover {
    transform: translateY(-2px);
    filter: none;
    box-shadow: 0 10px 18px rgba(0, 0, 0, 0.18);
}

body.light-mode .dashboard-despesas .card:hover {
    box-shadow: 0 8px 16px rgba(44, 62, 80, 0.12);
}

.dashboard-despesas .card-pagar {
    background: linear-gradient(180deg, var(--placar-pagar-bg1), var(--placar-pagar-bg2));
    border-color: var(--placar-pagar-border);
}

.dashboard-despesas .card-pagar h3 {
    color: #e57373;
}

.dashboard-despesas .card-pagar p {
    color: var(--placar-pagar-value);
}

.dashboard-despesas .card-pago {
    background: linear-gradient(180deg, var(--placar-pago-bg1), var(--placar-pago-bg2));
    border-color: var(--placar-pago-border);
}

.dashboard-despesas .card-pago h3 {
    color: #55c18a;
}

.dashboard-despesas .card-pago p {
    color: var(--placar-pago-value);
}

.dashboard-despesas .card-geral {
    background: linear-gradient(180deg, var(--placar-geral-bg1), var(--placar-geral-bg2));
    border-color: var(--placar-geral-border);
}

.dashboard-despesas .card-geral h3 {
    color: #f6d365;
}

.dashboard-despesas .card-geral p {
    color: var(--placar-geral-value);
}

body.light-mode .dashboard-despesas .card-pagar h3 {
    color: #c0392b;
}

body.light-mode .dashboard-despesas .card-pago h3 {
    color: #0f9f77;
}

body.light-mode .dashboard-despesas .card-geral h3 {
    color: #b8860b;
}

@media (max-width: 980px) {
    .dashboard-despesas {
        grid-template-columns: repeat(2, minmax(190px, 1fr));
    }
}

@media (max-width: 720px) {
    .dashboard-despesas {
        grid-template-columns: 1fr;
    }
}

/* CARD ATRASADO (Vermelho Neon) */
.card-atrasado {
    box-shadow: 0 10px 30px -10px rgba(231, 76, 60, 0.3);
    border-bottom: 2px solid var(--danger);
}
.card-atrasado::before {
    content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background: linear-gradient(180deg, rgba(231, 76, 60, 0.15) 0%, rgba(0,0,0,0) 100%);
    pointer-events: none;
}
.card-atrasado h3 { color: #ff6b6b; }

/* CARD PENDENTE/RESTANTE (Amarelo Neon) */
.card-pendente {
    box-shadow: 0 10px 30px -10px rgba(241, 196, 15, 0.3);
    border-bottom: 2px solid var(--warning);
}
.card-pendente::before {
    content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background: linear-gradient(180deg, rgba(241, 196, 15, 0.15) 0%, rgba(0,0,0,0) 100%);
    pointer-events: none;
}
.card-pendente h3 { color: #f1c40f; }

/* CARD RECEBIDO/PAGO (Verde Neon) */
.card-recebido {
    box-shadow: 0 10px 30px -10px rgba(46, 204, 113, 0.3);
    border-bottom: 2px solid var(--success);
}
.card-recebido::before {
    content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background: linear-gradient(180deg, rgba(46, 204, 113, 0.15) 0%, rgba(0,0,0,0) 100%);
    pointer-events: none;
}
.card-recebido h3 { color: #2ecc71; }

/* Efeito Hover nos Cards */
.card:hover {
    transform: translateY(-5px) scale(1.02);
    filter: brightness(1.2);
}

/* LISTAS E PASTAS */
.busca-container input { 
  width: 100%; padding: 15px; border-radius: 12px; 
  border: 1px solid var(--border-color); background: var(--bg-surface); 
  color: var(--text-main); margin-bottom: 20px; outline: none;
  box-shadow: 0 2px 5px rgba(0,0,0,0.02);
}

.item-agrupado { 
  border-radius: 12px; margin-bottom: 15px; 
  border: 1px solid var(--border-color); overflow: hidden; 
  background: var(--bg-surface); box-shadow: 0 2px 5px rgba(0,0,0,0.02); 
}

.pasta-header-parcela { 
  display: flex; justify-content: center; align-items: center; 
  padding: 18px 25px; cursor: pointer; background: var(--bg-surface); color: var(--text-main);
  font-weight: bold; border-left: 6px solid var(--dark-sidebar); transition: 0.2s;
}
.pasta-header-parcela:hover { filter: brightness(0.95); }


.pasta-header-parcela span:last-child {
  background-color: var(--badge-bg) !important;
  color: var(--badge-text) !important;
  border: 1px solid var(--border-color);
  padding: 4px 10px; border-radius: 15px; font-size: 0.8rem;
}


.sub-lista { 
  display: none; 
  border-top: 1px solid var(--border-color); 
  background: var(--bg-sublista); /* Agora muda cor conforme o tema */
  padding: 5px 0;
}
.item-agrupado.aberto .sub-lista { display: block; }

/* ITENS DA LISTA - Ajustados para legibilidade em ambos os temas */
.atrasado-row, .pendente-row, .pago-row { 
    padding: 15px; 
    border-bottom: 1px solid var(--border-color) !important;
    color: var(--text-destaque) !important; /* Cor do texto principal */
}


body:not(.light-mode) .atrasado-row { background: rgba(231, 76, 60, 0.1); border-left: 4px solid var(--danger); }
body:not(.light-mode) .pendente-row { background: rgba(241, 196, 15, 0.1); border-left: 4px solid var(--warning); }
body:not(.light-mode) .pago-row { background: rgba(46, 204, 113, 0.1); border-left: 4px solid var(--success); }


body.light-mode .sub-lista {
  background: #f3ead2;
}

body.light-mode .item-agrupado {
  background: #f3ead2;
  border-color: rgba(136, 112, 72, 0.32);
  box-shadow: 0 4px 10px rgba(74, 57, 28, 0.08);
}

body.light-mode .pasta-header-parcela {
  background: #f3ead2;
  color: #4f3f25;
  border-left-color: #a1844d;
}

body.light-mode .pasta-header-parcela span:last-child {
  background-color: #e7d8b5 !important;
  color: #5f4a27 !important;
  border-color: rgba(124, 101, 58, 0.35);
}

body.light-mode .atrasado-row { background: #f3ead2; border-left: 4px solid var(--danger); }
body.light-mode .pendente-row { background: #f3ead2; border-left: 4px solid var(--warning); }
body.light-mode .pago-row { background: #f3ead2; border-left: 4px solid var(--success); }

.progress-container { height: 8px; background: rgba(0,0,0,0.1); border-radius: 10px; margin: 12px 0 6px; overflow: hidden; }
.progress-bar { height: 100%; background: linear-gradient(90deg, var(--success), #27ae60); border-radius: 10px; }

.info-valores {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  align-items: center;
  gap: 8px;
  font-size: 0.8rem;
  font-weight: 700;
  color: var(--text-muted);
  margin-top: 6px;
}

.info-valores span {
  min-width: 0;
  white-space: nowrap;
  font-variant-numeric: tabular-nums;
}

.info-valores span:nth-child(1) {
  text-align: left;
}

.info-valores span:nth-child(2) {
  text-align: center;
}

.info-valores span:nth-child(3) {
  text-align: right;
}

/* MODAL */
.modal-geral { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.7); backdrop-filter: blur(4px); z-index: 2000; align-items: center; justify-content: center; }

.modal-content { 
  background: var(--bg-surface); padding: 40px; border-radius: 20px; 
  width: 95%; max-width: 450px; position: relative; 
  box-shadow: 0 25px 50px rgba(0,0,0,0.2); border: 1px solid var(--border-color);
  color: var(--text-main);
}

.form-grid input, .form-edit input, select { 
  padding: 15px; border: 1px solid var(--border-color); border-radius: 10px; 
  font-size: 1rem; width: 100%; outline: none; transition: 0.3s;
  background: var(--bg-input); color: var(--text-main);
}
.form-grid input:focus { border-color: var(--primary); }

.btn-acao-principal, .btn-salvar-modal { 
  background: var(--primary); color: white; padding: 16px; border: none; 
  border-radius: 10px; font-weight: bold; cursor: pointer; font-size: 0.95rem; 
}
.btn-salvar-modal { background: var(--success); }
.close-modal { position: absolute; right: 20px; top: 15px; font-size: 28px; cursor: pointer; color: var(--text-muted); }


.acoes { display: flex; gap: 6px; }
.acoes button { 
  width: 36px; height: 36px; border: none; border-radius: 8px; 
  cursor: pointer; color: white; font-size: 1rem; transition: 0.2s; 
  display: flex; align-items: center; justify-content: center; 
}
.acoes button:hover { transform: scale(1.1); }
.btn-proximo { background: var(--warning); color: var(--warning-contrast) !important; }
.btn-whatsapp { background: #25D366; }
.btn-editar { background: var(--primary); }
.btn-pagar { background: var(--btn-neutral); }
.btn-excluir { background: var(--danger); color: #fff !important; }

/* TABS */
.tabs { display: flex; gap: 12px; margin-bottom: 25px; overflow-x: auto; padding: 10px 5px; scrollbar-width: none; }
.tab-btn { 
  padding: 12px 25px; border: 1px solid var(--border-color); 
  background: var(--bg-surface); color: var(--text-muted); 
  cursor: pointer; border-radius: 50px; white-space: nowrap; 
  font-weight: 700; font-size: 0.95rem; 
  transition: 0.3s; display: flex; align-items: center; gap: 8px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.05);
}
.tab-btn:hover { transform: translateY(-3px); border-color: var(--primary); color: var(--primary); }
.tab-btn.active { 
  background: var(--dark-sidebar); color: white; border-color: transparent;
  transform: scale(1.05); box-shadow: 0 5px 15px rgba(0,0,0,0.1); 
}

body:not(.pagina-despesas):not(.pagina-economias):not(.pagina-resumo-ano) .tabs .tab-btn:hover:not(.active) {
  border-color: #3498db;
  color: #8fd3ff;
}

body:not(.pagina-despesas):not(.pagina-economias):not(.pagina-resumo-ano) .tabs .tab-btn.active,
body:not(.pagina-despesas):not(.pagina-economias):not(.pagina-resumo-ano) .tabs .tab-btn.active:hover {
  background: linear-gradient(135deg, #3498db, #2980b9);
  color: #ffffff;
  border-color: transparent;
  box-shadow: 0 5px 15px rgba(52, 152, 219, 0.30);
}

.contador-busca {
  margin-left: auto;
  align-self: center;
  padding: 8px 12px;
  border-radius: 999px;
  border: 1px solid rgba(52, 152, 219, 0.35);
  background: rgba(52, 152, 219, 0.12);
  color: #dbeeff;
  font-size: 0.82rem;
  font-weight: 700;
  letter-spacing: 0.3px;
  white-space: nowrap;
  flex-shrink: 0;
}

body.light-mode .contador-busca {
  border-color: rgba(125, 141, 170, 0.55);
  background: rgba(102, 117, 144, 0.26);
  color: #eef3ff;
}

.contador-busca[hidden] {
  display: none !important;
}

.notificacoes-hoje {
  position: fixed !important;
  inset: 0 !important;
  z-index: 1250;
  display: block;
  pointer-events: none;
  transform: none !important;
}

.notificacoes-trigger {
  position: absolute !important;
  top: 10px !important;
  right: 10px !important;
  width: 44px;
  height: 44px;
  border-radius: 12px;
  border: 1px solid var(--border-color);
  background: var(--bg-surface);
  color: var(--warning);
  box-shadow: 0 8px 18px rgba(0, 0, 0, 0.22);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  pointer-events: auto;
  transition: filter 180ms ease, border-color 180ms ease;
}

.notificacoes-trigger:hover {
  transform: none;
  filter: brightness(1.05);
}

.notificacoes-trigger i {
  font-size: 0.82rem;
  color: var(--warning);
}

.notificacoes-trigger.balancando {
  animation: sino-balance 1.05s ease-in-out infinite;
  transform-origin: 50% 8px;
}

.notificacoes-hoje.aberto .notificacoes-trigger {
  border-color: rgba(241, 196, 15, 0.58);
}

@keyframes sino-balance {
  0%, 100% { transform: rotate(0deg); }
  15% { transform: rotate(14deg); }
  30% { transform: rotate(-12deg); }
  45% { transform: rotate(10deg); }
  60% { transform: rotate(-8deg); }
  75% { transform: rotate(4deg); }
}

@media (prefers-reduced-motion: reduce) {
  .notificacoes-trigger.balancando {
    animation: none !important;
  }
}

.notificacoes-painel {
  position: absolute !important;
  top: 60px !important;
  right: 10px !important;
  width: min(330px, calc(100vw - 24px));
  border-radius: 16px;
  border: 1px solid color-mix(in srgb, var(--border-color) 70%, rgba(255, 255, 255, 0.14));
  border-top: 2px solid rgba(241, 196, 15, 0.86);
  background:
    linear-gradient(180deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0)),
    color-mix(in srgb, var(--bg-surface) 90%, rgba(7, 10, 16, 0.82));
  box-shadow:
    0 16px 32px rgba(0, 0, 0, 0.34),
    inset 0 1px 0 rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  padding: 10px 10px 10px;
  pointer-events: auto;
}

.notificacoes-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  margin-bottom: 10px;
  padding: 0 2px 10px;
  border-bottom: 1px solid color-mix(in srgb, var(--border-color) 70%, rgba(241, 196, 15, 0.36));
  color: var(--text-main);
  font-size: 0.9rem;
}

.notificacoes-header-principal {
  display: inline-flex;
  align-items: center;
  gap: 9px;
  min-width: 0;
}

.notificacoes-header i {
  color: var(--warning);
}

.notificacoes-header strong {
  font-size: 0.9rem;
  letter-spacing: 0.36px;
  text-transform: uppercase;
  line-height: 1.1;
}

.notificacoes-header-toggle {
  width: 30px;
  height: 30px;
  border-radius: 9px;
  border: 1px solid color-mix(in srgb, var(--border-color) 62%, rgba(241, 196, 15, 0.45));
  background: color-mix(in srgb, var(--bg-card) 74%, rgba(255, 255, 255, 0.04));
  color: var(--warning);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  flex-shrink: 0;
  transition: transform 180ms ease, filter 180ms ease, border-color 180ms ease, color 180ms ease;
}

.notificacoes-header-toggle:hover {
  transform: translateY(-1px);
  border-color: rgba(241, 196, 15, 0.7);
  filter: brightness(1.08);
}

.notificacoes-header-toggle i {
  font-size: 0.8rem;
  color: currentColor;
}

.notificacoes-painel[data-modo="vencidas"] {
  border-top-color: var(--danger);
}

.notificacoes-painel[data-modo="vencidas"] .notificacoes-header i,
.notificacoes-painel[data-modo="vencidas"] .notificacoes-header-toggle {
  color: var(--danger);
}

.notificacoes-painel[data-modo="vencidas"] .notificacoes-header {
  border-bottom-color: color-mix(in srgb, var(--border-color) 70%, rgba(231, 76, 60, 0.36));
}

.notificacoes-painel[data-modo="vencidas"] .notificacoes-item-valor {
  color: var(--highlight-value-negative);
}

.notificacoes-painel[data-modo="vencidas"] .notificacoes-header-toggle {
  border-color: color-mix(in srgb, var(--danger) 52%, var(--border-color));
}

.notificacoes-badge {
  position: absolute;
  top: -6px;
  right: -6px;
  min-width: 20px;
  height: 20px;
  padding: 0 6px;
  border-radius: 999px;
  border: 1px solid rgba(241, 196, 15, 0.55);
  background: rgba(241, 196, 15, 0.15);
  color: #ffe59e;
  font-size: 0.72rem;
  font-weight: 800;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  pointer-events: none;
}

.notificacoes-lista {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 8px;
  max-height: min(45vh, 290px);
  overflow-y: auto;
}

.notificacoes-secao {
  list-style: none;
  margin-top: 4px;
}

.notificacoes-secao-titulo {
  display: block;
  padding: 2px 2px 0;
  font-size: 0.73rem;
  font-weight: 800;
  letter-spacing: 0.45px;
  text-transform: uppercase;
  color: var(--text-muted);
}

.notificacoes-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  border: 1px solid color-mix(in srgb, var(--border-color) 70%, rgba(255, 255, 255, 0.12));
  border-left: 4px solid var(--warning);
  border-radius: 12px;
  padding: 10px 10px;
  background:
    linear-gradient(180deg, rgba(255, 255, 255, 0.03), rgba(255, 255, 255, 0)),
    color-mix(in srgb, var(--bg-card) 82%, rgba(9, 13, 20, 0.70));
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.04);
  transition: border-color 160ms ease, transform 160ms ease, background 200ms ease;
}

.notificacoes-item:hover {
  border-color: color-mix(in srgb, var(--border-color) 60%, rgba(255, 255, 255, 0.4));
  transform: translateY(-1px);
}

.notificacoes-item.notificacao-atrasada {
  border-left-color: var(--danger);
}

.notificacoes-item.notificacao-hoje {
  border-left-color: var(--warning);
}

.notificacoes-item.notificacao-amanha {
  border-left-color: var(--primary);
}

body:not(.light-mode) .notificacoes-item.notificacao-atrasada {
  background:
    linear-gradient(180deg, rgba(231, 76, 60, 0.12), rgba(231, 76, 60, 0.02)),
    color-mix(in srgb, var(--bg-card) 82%, rgba(9, 13, 20, 0.70));
}

body:not(.light-mode) .notificacoes-item.notificacao-hoje {
  background:
    linear-gradient(180deg, rgba(241, 196, 15, 0.12), rgba(241, 196, 15, 0.02)),
    color-mix(in srgb, var(--bg-card) 82%, rgba(9, 13, 20, 0.70));
}

body:not(.light-mode) .notificacoes-item.notificacao-amanha {
  background:
    linear-gradient(180deg, rgba(52, 152, 219, 0.12), rgba(52, 152, 219, 0.02)),
    color-mix(in srgb, var(--bg-card) 82%, rgba(9, 13, 20, 0.70));
}

.notificacoes-item-info {
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.notificacoes-item-nome {
  display: block;
  font-size: 0.94rem;
  font-weight: 800;
  color: var(--text-main);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  letter-spacing: 0.1px;
}

.notificacoes-item-data {
  display: block;
  margin-top: 1px;
  font-size: 0.78rem;
  color: var(--text-muted);
  line-height: 1.25;
}

.notificacoes-item-atraso-texto {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  margin-left: 6px;
  color: color-mix(in srgb, var(--danger) 82%, white 6%);
  font-weight: 700;
  white-space: nowrap;
}

.notificacoes-item-atraso-texto i {
  font-size: 0.72rem;
}

.notificacoes-item-acoes {
  flex-shrink: 0;
  min-width: 92px;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 6px;
}

.notificacoes-item-valor {
  text-align: right;
  font-size: 0.9rem;
  font-weight: 800;
  font-variant-numeric: tabular-nums;
  color: var(--highlight-value-warning);
}

.notificacoes-item-cobrar {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 5px;
  white-space: nowrap;
  min-height: 26px;
  padding: 0 9px;
  border-radius: 999px;
  border: 1px solid color-mix(in srgb, var(--success) 45%, rgba(255,255,255,0.18));
  background:
    linear-gradient(180deg, rgba(46, 204, 113, 0.12), rgba(46, 204, 113, 0.04)),
    rgba(10, 18, 32, 0.45);
  color: color-mix(in srgb, var(--success) 90%, white 8%);
  font-size: 0.72rem;
  font-weight: 800;
  cursor: pointer;
  transition: transform 140ms ease, filter 140ms ease, border-color 140ms ease;
}

.notificacoes-item-cobrar:hover:not(:disabled),
.notificacoes-item-cobrar:focus-visible:not(:disabled) {
  transform: translateY(-1px);
  filter: brightness(1.04);
  border-color: color-mix(in srgb, var(--success) 70%, rgba(255,255,255,0.24));
}

.notificacoes-item-cobrar:disabled {
  cursor: not-allowed;
  opacity: 0.55;
  filter: grayscale(0.2);
}

.notificacoes-item-cobrar i {
  font-size: 0.84rem;
}

body.light-mode .notificacoes-trigger {
  color: #b8860b;
}

body.light-mode .notificacoes-trigger i {
  color: #b8860b;
}

body.light-mode .notificacoes-painel {
  background: rgba(244, 249, 255, 0.95);
  box-shadow: 0 10px 24px rgba(44, 62, 80, 0.18);
}

body.light-mode .notificacoes-badge {
  background: rgba(253, 203, 110, 0.22);
  color: #7a5800;
  border-color: rgba(214, 148, 0, 0.45);
}

body.light-mode .notificacoes-item-valor {
  color: var(--highlight-value-warning);
}

body.light-mode .notificacoes-item-atraso-texto {
  color: #c0392b;
}

body.light-mode .notificacoes-item-cobrar {
  background:
    linear-gradient(180deg, rgba(46, 204, 113, 0.18), rgba(46, 204, 113, 0.08)),
    rgba(255, 255, 255, 0.85);
  border-color: rgba(39, 174, 96, 0.35);
  color: #1f8b4d;
}

/* Scanner de despesas (QR / codigo de barras / foto OCR) */
#modalDespesa .btn-escanear-despesa-form {
  width: 100%;
  margin-top: 2px;
  min-height: 42px;
  border-radius: 12px;
  border: 1px solid color-mix(in srgb, var(--primary) 40%, rgba(255,255,255,0.12));
  background:
    linear-gradient(180deg, rgba(66, 133, 244, 0.16), rgba(66, 133, 244, 0.06)),
    color-mix(in srgb, var(--bg-card) 88%, transparent);
  color: var(--text-main);
  font-weight: 700;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  cursor: pointer;
}

#modalDespesa .btn-escanear-despesa-form:hover {
  filter: brightness(1.04);
}

.modal-escanear-despesa.active {
  display: flex;
}

.modal-escanear-despesa .modal-escanear-despesa-content {
  width: min(1060px, calc(100vw - 20px));
  max-height: calc(100vh - 16px);
  overflow: auto;
  position: relative;
  padding: 18px 18px 14px;
  border-radius: 16px;
  border: 1px solid color-mix(in srgb, var(--primary) 26%, rgba(255,255,255,0.1));
  background:
    radial-gradient(120% 140% at 0% 0%, color-mix(in srgb, var(--primary) 18%, transparent), transparent 54%),
    radial-gradient(120% 140% at 100% 0%, color-mix(in srgb, var(--primary-soft) 14%, transparent), transparent 58%),
    color-mix(in srgb, var(--bg-surface) 94%, transparent);
  box-shadow: 0 20px 46px rgba(0, 0, 0, 0.42);
}

.modal-escanear-despesa .close-modal {
  cursor: pointer;
  position: absolute;
  top: 10px;
  right: 10px;
  width: 34px;
  height: 34px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 11px;
  border: 1px solid color-mix(in srgb, var(--border-color) 72%, transparent);
  background: color-mix(in srgb, var(--bg-main) 82%, transparent);
  color: var(--text-main);
  font-size: 1.15rem;
  line-height: 1;
}

.modal-escanear-despesa .close-modal:hover {
  filter: brightness(1.08);
}

.scanner-despesa-subtitulo {
  margin: 4px 0 14px;
  color: var(--text-muted);
  font-size: 0.95rem;
  line-height: 1.42;
  max-width: 760px;
}

.scanner-despesa-grid {
  display: grid;
  grid-template-columns: minmax(360px, 1.15fr) minmax(320px, 0.95fr);
  gap: 14px;
  align-items: stretch;
}

.scanner-despesa-painel {
  border: 1px solid color-mix(in srgb, var(--border-color) 82%, transparent);
  border-radius: 14px;
  background: color-mix(in srgb, var(--bg-card) 94%, transparent);
  padding: 12px 12px 11px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  min-width: 0;
}

.scanner-despesa-preview {
  position: relative;
  min-height: 250px;
  border-radius: 14px;
  border: 1px dashed color-mix(in srgb, var(--border-color) 72%, transparent);
  background: color-mix(in srgb, var(--bg-main) 84%, transparent);
  overflow: hidden;
  display: grid;
  place-items: center;
}

.scanner-despesa-preview video,
.scanner-despesa-preview img {
  width: 100%;
  height: 100%;
  object-fit: contain;
  background: #000;
}

.scanner-despesa-placeholder {
  display: flex;
  flex-direction: column;
  gap: 11px;
  align-items: center;
  justify-content: center;
  text-align: center;
  color: var(--text-muted);
  padding: 18px 14px;
}

.scanner-despesa-placeholder i {
  color: var(--primary);
  font-size: 1.5rem;
}

.scanner-despesa-acoes {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 10px;
  margin-top: 0;
}

.scanner-despesa-acoes .btn-acao-secundaria,
.scanner-despesa-acoes .btn-acao-principal,
.scanner-despesa-rodape .btn-acao-secundaria,
.scanner-despesa-rodape .btn-acao-principal {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  min-height: 44px;
  border-radius: 10px;
  font-weight: 700;
  line-height: 1.2;
  text-align: center;
  white-space: normal;
  padding: 0 11px;
}

.scanner-despesa-acoes .btn-acao-secundaria,
.scanner-despesa-rodape .btn-acao-secundaria {
  border: 1px solid color-mix(in srgb, var(--border-color) 78%, transparent);
  background: color-mix(in srgb, var(--bg-surface) 86%, transparent);
  color: var(--text-main);
  font-weight: 700;
  cursor: pointer;
}

.scanner-despesa-acoes .btn-acao-secundaria:hover,
.scanner-despesa-rodape .btn-acao-secundaria:hover {
  filter: brightness(1.04);
}

.scanner-despesa-status {
  min-height: 24px;
  color: var(--text-main);
  font-weight: 800;
  font-size: 0.92rem;
  line-height: 1.35;
}

.scanner-despesa-status--erro {
  color: var(--danger);
}

.scanner-despesa-status--ok {
  color: var(--success);
}

.scanner-despesa-progresso-wrap {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-top: 0;
}

.scanner-despesa-progresso-bar {
  flex: 1;
  height: 9px;
  border-radius: 999px;
  border: 1px solid color-mix(in srgb, var(--border-color) 76%, transparent);
  background: color-mix(in srgb, var(--bg-main) 80%, transparent);
  overflow: hidden;
}

.scanner-despesa-progresso-fill {
  height: 100%;
  width: 0%;
  background: linear-gradient(90deg, var(--primary), color-mix(in srgb, var(--primary) 68%, white 22%));
  transition: width 160ms ease;
}

.scanner-despesa-progresso-texto {
  min-width: 40px;
  text-align: right;
  color: var(--text-muted);
  font-size: 0.84rem;
  font-variant-numeric: tabular-nums;
}

.scanner-despesa-preview-campos {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 9px;
  margin-top: 0;
}

.scanner-despesa-campo-preview {
  border: 1px solid color-mix(in srgb, var(--border-color) 82%, transparent);
  border-radius: 10px;
  padding: 8px 10px;
  background: color-mix(in srgb, var(--bg-main) 85%, transparent);
  min-width: 0;
}

.scanner-despesa-campo-preview small {
  display: block;
  color: var(--text-muted);
  font-size: 0.7rem;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  font-weight: 700;
}

.scanner-despesa-campo-preview strong {
  display: block;
  margin-top: 3px;
  color: var(--text-main);
  font-size: 0.92rem;
  line-height: 1.32;
  word-break: normal;
  overflow-wrap: anywhere;
  hyphens: auto;
  text-wrap: pretty;
}

.scanner-despesa-texto-label {
  display: block;
  margin-top: 0;
  margin-bottom: 6px;
  color: var(--text-muted);
  font-size: 0.8rem;
  font-weight: 700;
  letter-spacing: 0.03em;
}

.scanner-despesa-textarea {
  width: 100%;
  min-height: 184px;
  border-radius: 10px;
  border: 1px solid color-mix(in srgb, var(--border-color) 82%, transparent);
  background: color-mix(in srgb, var(--bg-main) 84%, transparent);
  color: var(--text-main);
  padding: 10px 11px;
  resize: vertical;
  line-height: 1.4;
  font-size: 0.9rem;
}

.scanner-despesa-rodape {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 10px;
  margin-top: 13px;
  padding-top: 10px;
  border-top: 1px solid color-mix(in srgb, var(--border-color) 66%, transparent);
}

.scanner-despesa-rodape .btn-acao-principal {
  min-width: 220px;
}

.scanner-despesa-rodape .btn-acao-secundaria {
  min-width: 126px;
}

@media (min-width: 981px) {
  .scanner-despesa-preview-campos {
    grid-template-columns: repeat(2, minmax(170px, 1fr));
  }

  .scanner-despesa-preview-campos .scanner-despesa-campo-preview:nth-child(1),
  .scanner-despesa-preview-campos .scanner-despesa-campo-preview:nth-child(4) {
    grid-column: 1 / -1;
  }
}

@media (max-width: 980px) {
  .modal-escanear-despesa .modal-escanear-despesa-content {
    width: min(860px, calc(100vw - 16px));
    max-height: calc(100vh - 12px);
    padding: 15px 14px 12px;
  }

  .scanner-despesa-grid {
    grid-template-columns: 1fr;
  }

  .scanner-despesa-preview {
    min-height: 228px;
  }
}

@media (max-width: 560px) {
  .modal-escanear-despesa .modal-escanear-despesa-content {
    width: calc(100vw - 10px);
    padding: 12px 10px 10px;
    border-radius: 14px;
  }

  .scanner-despesa-subtitulo {
    margin-bottom: 10px;
    font-size: 0.87rem;
  }

  .scanner-despesa-painel {
    padding: 10px;
    gap: 9px;
  }

  .scanner-despesa-acoes,
  .scanner-despesa-preview-campos {
    grid-template-columns: 1fr;
  }

  .scanner-despesa-acoes .btn-acao-secundaria,
  .scanner-despesa-acoes .btn-acao-principal,
  .scanner-despesa-rodape .btn-acao-principal,
  .scanner-despesa-rodape .btn-acao-secundaria {
    min-height: 46px;
    width: 100%;
  }

  .scanner-despesa-textarea {
    min-height: 150px;
  }
}

.notificacoes-vazio {
  font-size: 0.84rem;
  color: var(--text-muted);
  text-align: center;
  padding: 14px 8px;
}

@media (max-width: 768px) {
  .notificacoes-trigger {
    top: 10px !important;
    right: 10px !important;
  }

  .notificacoes-painel {
    top: 60px !important;
    right: 10px !important;
    width: min(290px, calc(100vw - 22px));
    padding: 9px 9px 8px;
  }

  .notificacoes-item {
    align-items: flex-start;
  }

  .notificacoes-item-acoes {
    min-width: 86px;
  }

  .notificacoes-item-cobrar {
    padding: 0 8px;
    font-size: 0.69rem;
  }

  .notificacoes-lista {
    max-height: min(38vh, 240px);
  }
}




.painel-economias {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 30px;
    background: var(--bg-surface);
    padding: 40px;
    border-radius: 20px;
    border: 1px solid var(--border-color);
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
}

.saldo-grande small { color: var(--text-muted); font-size: 1rem; text-transform: uppercase; letter-spacing: 1px; }
.saldo-grande h2 { font-size: 3.5rem; color: var(--highlight-value-main); margin-top: 10px; }

.controles-economias { display: flex; flex-direction: column; gap: 15px; }

.input-grupo input {
    background: var(--bg-input); color: var(--text-main);
    border: 1px solid var(--border-color); padding: 15px;
    border-radius: 10px; width: 100%; margin-bottom: 10px;
    font-size: 1rem; outline: none;
}
.input-grupo input:focus { border-color: var(--primary); }

.botoes-acao { display: flex; gap: 15px; align-items: stretch; }
.botoes-acao button {
    flex: 1 1 0;
    min-height: 52px;
    padding: 0 14px;
    border: none;
    border-radius: 10px;
    font-weight: bold; cursor: pointer; font-size: 1rem; color: white;
    display: flex; align-items: center; justify-content: center; gap: 10px;
    line-height: 1.1;
    transition: transform 0.2s;
}
.botoes-acao button:hover { transform: translateY(-3px); }

.btn-depositar { background: var(--success); box-shadow: 0 4px 15px rgba(46, 204, 113, 0.3); }
.btn-sacar { background: var(--danger); box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3); }

/* Item do Extrato */
.item-extrato {
    display: flex; justify-content: space-between; align-items: center;
    padding: 20px; background: var(--bg-surface);
    border-bottom: 1px solid var(--border-color);
    margin-bottom: 5px; border-radius: 8px;
}
.tipo-deposito { color: var(--success); font-weight: bold; }
.tipo-saque { color: var(--danger); font-weight: bold; }
.data-extrato { font-size: 0.8rem; color: var(--text-muted); margin-top: 4px; }

body.light-mode.pagina-economias .titulo-extrato {
    color: #5f4a27;
}

body.light-mode.pagina-economias .item-extrato {
    background: #f3ead2;
    border: 1px solid rgba(136, 112, 72, 0.30);
    box-shadow: 0 4px 10px rgba(74, 57, 28, 0.08);
}

body.light-mode.pagina-economias .item-extrato > div > div:first-child {
    background: #e7d8b5 !important;
    color: #5f4a27;
}

/* Responsivo para celular */
@media (max-width: 768px) {
    .painel-economias { grid-template-columns: 1fr; }
    .saldo-grande h2 { font-size: 2.5rem; }
}


.tabs-eco-container {
    display: flex;
    gap: 10px;
    margin-bottom: 20px;
    background: var(--bg-card);
    padding: 5px;
    border-radius: 10px;
    border: 1px solid var(--border-color);
}

.tab-eco {
    flex: 1;
    padding: 12px;
    border: none;
    background: transparent;
    color: var(--text-muted);
    font-weight: bold;
    cursor: pointer;
    border-radius: 8px;
    transition: 0.3s;
    font-size: 1rem;
}

.tab-eco.active {
    background: var(--primary);
    color: #fff;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}


.tab-eco i {
    margin-right: 8px;
}






.btn-reset {
    width: min(210px, 92%);
    margin: 12px auto 0;
    padding: 10px 14px;
    background: var(--btn-reset-bg);
    color: var(--btn-reset-text);
    border: 1px solid var(--btn-reset-border);
    border-radius: 999px;
    cursor: pointer;
    font-weight: 700;
    letter-spacing: 0.3px;
    transition: transform var(--motion-smooth) var(--motion-ease), box-shadow var(--motion-smooth) var(--motion-ease), filter var(--motion-smooth) ease, background var(--motion-theme) ease, border-color var(--motion-theme) ease, color var(--motion-theme) ease;
    box-shadow: var(--btn-reset-shadow);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    will-change: transform;
}

.btn-reset:hover {
    transform: translateY(-2px);
    filter: saturate(1.08) brightness(1.04);
}

.btn-reset:active {
    transform: translateY(0);
}

.btn-reset i {
    width: 16px;
    text-align: center;
}

.btn-reset span {
    white-space: nowrap;
}


@media (max-width: 600px) {
  
  .main-content {
    padding: 15px;
    padding-top: 70px; 
    padding-bottom: 120px !important; 
  }

  /* 2. Cards do Dashboard em Grid 2x2 ou 1x1 */
  .dashboard {
    grid-template-columns: 1fr; /* Um por linha para facilitar leitura */
    gap: 10px;
  }
  
  .card {
    padding: 15px;
  }
  
  .card p {
    font-size: 1.5rem;
  }

  
  .atrasado-row > div:first-child,
  .pendente-row > div:first-child,
  .pago-row > div:first-child {
    flex-wrap: wrap;
    row-gap: 10px;
  }

  .atrasado-row .acoes,
  .pendente-row .acoes,
  .pago-row .acoes {
    display: grid;
    grid-template-columns: repeat(5, minmax(0, 1fr));
    gap: 8px;
    margin-top: 8px;
    width: 100%;
  }

  .atrasado-row .acoes button,
  .pendente-row .acoes button,
  .pago-row .acoes button {
    width: 100%;
    height: 40px;
    border-radius: 10px;
    font-size: 1rem;
    line-height: 1;
  }

  /* 4. Tabs com Scroll Suave */
  .tabs {
    gap: 8px;
    padding-bottom: 15px;
  }
  
  .tab-btn {
    padding: 10px 18px;
    font-size: 0.85rem;
  }

  
  .modal-content {
    padding: 25px 15px;
    width: 90%;
    max-height: 90vh;
    overflow-y: auto;
  }

  .form-grid, .form-edit {
    gap: 12px;
  }
  
  
  .info-valores {
    grid-template-columns: 1fr;
    gap: 4px;
    justify-items: start;
  }

  .info-valores span:nth-child(1),
  .info-valores span:nth-child(2),
  .info-valores span:nth-child(3) {
    text-align: left;
  }

  
}



.titulo-mes-nav {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 14px;
    margin: -40px 0 20px;
}

#titulo-pagina {
    font-size: 2.2rem;
    font-weight: 900;
    text-transform: uppercase;
    letter-spacing: 2px;
    margin: 0;
    text-align: center;
    color: var(--text-main);
    background: linear-gradient(90deg, var(--text-main), var(--text-muted));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
}

.btn-mes-nav {
    width: 34px;
    height: 34px;
    border-radius: 10px;
    border: 1px solid var(--border-color);
    background: var(--bg-surface);
    color: var(--text-muted);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: transform 180ms ease, border-color 180ms ease, color 180ms ease, filter 180ms ease;
}

.btn-mes-nav:hover {
    transform: translateY(-1px);
    color: var(--primary);
    border-color: var(--primary);
    filter: brightness(1.06);
}

.btn-mes-nav:active {
    transform: translateY(0);
}

@media (max-width: 600px) {
    .titulo-mes-nav {
        gap: 10px;
        margin: -20px 0 16px;
    }

    #titulo-pagina {
        font-size: 1.85rem;
        letter-spacing: 1.2px;
    }

    .btn-mes-nav {
        width: 30px;
        height: 30px;
        border-radius: 9px;
    }
}

.titulo-despesas {
    margin: 0 0 18px;
    text-align: center;
    font-family: 'Montserrat', 'Segoe UI', sans-serif;
    font-size: clamp(1.45rem, 2.1vw, 2.15rem);
    font-weight: 800;
    letter-spacing: 0.6px;
    color: var(--text-main);
    line-height: 1.2;
}

.titulo-despesas::after {
    content: '';
    display: block;
    width: 78px;
    height: 3px;
    margin: 10px auto 0;
    border-radius: 999px;
    background: linear-gradient(90deg, var(--primary), var(--primary-soft));
    opacity: 0.85;
}

body.light-mode .titulo-despesas {
    color: #1f2d3d;
}

.cabecalho-despesas {
    max-width: 1080px;
    margin: 0 auto 24px;
}

.titulo-despesas-wrap {
    margin: 0 auto 18px;
    padding: 16px 18px 14px;
    border-radius: 16px;
    border: 1px solid var(--border-color);
    background: var(--bg-surface);
    box-shadow: 0 8px 18px rgba(0, 0, 0, 0.14);
    position: relative;
    overflow: hidden;
    opacity: 0;
    transform: perspective(900px) translateY(28px) scale(0.97) rotateX(5deg);
    transform-origin: center top;
    filter: blur(8px) saturate(0.92);
    animation: entrada-cinematica 980ms var(--motion-cinema) 40ms forwards;
}

.titulo-despesas-wrap::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, var(--primary), var(--primary-soft));
    opacity: 0.9;
}

.subtitulo-despesas {
    margin: -2px auto 0;
    max-width: 740px;
    text-align: center;
    font-family: 'Montserrat', 'Segoe UI', sans-serif;
    font-size: 0.92rem;
    font-weight: 500;
    line-height: 1.45;
    color: var(--text-muted);
}

.cabecalho-despesas .dashboard-despesas {
    margin-top: 0;
}

.cabecalho-despesas #btn-abrir-cadastro {
    margin: 2px auto 18px;
}

.tabs-despesas {
    justify-content: center;
    padding-top: 0;
}

body.light-mode .titulo-despesas-wrap {
    box-shadow: 0 8px 16px rgba(44, 62, 80, 0.08);
}

.dashboard-despesas .card {
    opacity: 0;
    transform: perspective(900px) translateY(30px) scale(0.97) rotateX(4deg);
    transform-origin: center top;
    filter: blur(8px) saturate(0.94);
    animation: entrada-cinematica 900ms var(--motion-cinema) forwards;
}

.dashboard-despesas .card:nth-child(1) { animation-delay: 180ms; }
.dashboard-despesas .card:nth-child(2) { animation-delay: 300ms; }
.dashboard-despesas .card:nth-child(3) { animation-delay: 420ms; }

.tabs-despesas .tab-btn {
    opacity: 0;
    transform: translateY(16px) scale(0.98);
    filter: none;
    animation: entrada-cinematica-botoes 720ms var(--motion-cinema) forwards;
}

.tabs-despesas .tab-btn:nth-child(1) { animation-delay: 520ms; }
.tabs-despesas .tab-btn:nth-child(2) { animation-delay: 590ms; }
.tabs-despesas .tab-btn:nth-child(3) { animation-delay: 660ms; }
.tabs-despesas .tab-btn:nth-child(4) { animation-delay: 730ms; }

/* Mesma entrada de botoes de Despesas aplicada nas demais paginas */
body:not(.pagina-despesas) .sidebar .botoes-financeiros .btn-card,
body:not(.pagina-despesas) .sidebar .backup-area .btn-tema-toggle,
body:not(.pagina-despesas) .sidebar .backup-area .btn-backup,
body:not(.pagina-despesas) .sidebar .backup-area .btn-configuracoes-toggle,
body:not(.pagina-despesas) .sidebar .backup-area .btn-reset,
body:not(.pagina-despesas) .menu-ano-header .menu-ano-link,
body:not(.pagina-despesas) .menu-ano-header .menu-ano-toggle,
body:not(.pagina-despesas) #btn-abrir-cadastro,
body:not(.pagina-despesas) .tabs:not(.tabs-despesas) .tab-btn,
body.pagina-economias .tabs-eco-container .tab-eco,
body.pagina-economias .botoes-acao > button,
body.pagina-resumo-ano .resumo-ano-visualizacao .btn-resumo-grafico,
body.pagina-resumo-ano .resumo-ano-tabela-controles .btn-resumo-ordenar {
    opacity: 0;
    transform: translateY(16px) scale(0.98);
    filter: none;
    animation: entrada-cinematica-botoes 720ms var(--motion-cinema) forwards;
}

body:not(.pagina-despesas) .sidebar .botoes-financeiros .btn-card:nth-child(1) { animation-delay: 120ms; }
body:not(.pagina-despesas) .sidebar .botoes-financeiros .btn-card:nth-child(2) { animation-delay: 190ms; }
body:not(.pagina-despesas) .sidebar .botoes-financeiros .btn-card:nth-child(3) { animation-delay: 260ms; }

body:not(.pagina-despesas) .menu-ano-header .menu-meses-grid .menu-ano-link { animation-delay: 330ms; }
body:not(.pagina-despesas) .menu-ano-header .menu-ano-toggle { animation-delay: 390ms; }

/* Economias: evita "pulo" ao selecionar mes (menu recriado em JS) */
body.pagina-economias .menu-ano-header .menu-ano-toggle,
body.pagina-economias .menu-meses-lista button {
    animation: none !important;
    opacity: 1 !important;
    transform: none !important;
    filter: none !important;
}

body:not(.pagina-despesas) .sidebar .backup-area .btn-tema-toggle { animation-delay: 450ms; }
body:not(.pagina-despesas) .sidebar .backup-area .btn-configuracoes-toggle { animation-delay: 560ms; }
body:not(.pagina-despesas) .sidebar .backup-area .btn-backup-export { animation-delay: 620ms; }
body:not(.pagina-despesas) .sidebar .backup-area .btn-backup-import { animation-delay: 690ms; }
body:not(.pagina-despesas) .sidebar .backup-area .btn-reset { animation-delay: 760ms; }

body:not(.pagina-despesas) #btn-abrir-cadastro { animation-delay: 430ms; }
body:not(.pagina-despesas) .tabs:not(.tabs-despesas) .tab-btn:nth-child(1) { animation-delay: 500ms; }
body:not(.pagina-despesas) .tabs:not(.tabs-despesas) .tab-btn:nth-child(2) { animation-delay: 570ms; }
body:not(.pagina-despesas) .tabs:not(.tabs-despesas) .tab-btn:nth-child(3) { animation-delay: 640ms; }
body:not(.pagina-despesas) .tabs:not(.tabs-despesas) .tab-btn:nth-child(4) { animation-delay: 710ms; }
body:not(.pagina-despesas) .tabs:not(.tabs-despesas) .tab-btn:nth-child(5) { animation-delay: 780ms; }

body.pagina-economias .tabs-eco-container .tab-eco:nth-child(1) { animation-delay: 440ms; }
body.pagina-economias .tabs-eco-container .tab-eco:nth-child(2) { animation-delay: 520ms; }
body.pagina-economias .botoes-acao > button:nth-child(1) { animation-delay: 600ms; }
body.pagina-economias .botoes-acao > button:nth-child(2) { animation-delay: 670ms; }
body.pagina-economias .botoes-acao > button:nth-child(3) { animation-delay: 740ms; }

body.pagina-resumo-ano .resumo-ano-visualizacao .btn-resumo-grafico { animation-delay: 480ms; }
body.pagina-resumo-ano .resumo-ano-tabela-controles .btn-resumo-ordenar { animation-delay: 560ms; }

#listaDespesas .lista-item {
    opacity: 0;
    transform: translateY(18px) scale(0.985);
    filter: blur(4px);
    animation: entrada-item-lista 620ms var(--motion-cinema) forwards;
}

#listaDespesas .lista-item:nth-child(1) { animation-delay: 180ms; }
#listaDespesas .lista-item:nth-child(2) { animation-delay: 240ms; }
#listaDespesas .lista-item:nth-child(3) { animation-delay: 300ms; }
#listaDespesas .lista-item:nth-child(4) { animation-delay: 360ms; }
#listaDespesas .lista-item:nth-child(5) { animation-delay: 420ms; }
#listaDespesas .lista-item:nth-child(6) { animation-delay: 480ms; }
#listaDespesas .lista-item:nth-child(7) { animation-delay: 540ms; }
#listaDespesas .lista-item:nth-child(8) { animation-delay: 600ms; }
#listaDespesas .lista-item:nth-child(9) { animation-delay: 660ms; }
#listaDespesas .lista-item:nth-child(10) { animation-delay: 720ms; }

@keyframes entrada-cinematica {
    from {
        opacity: 0;
        transform: perspective(900px) translateY(28px) scale(0.97) rotateX(5deg);
        filter: blur(8px) saturate(0.92);
    }
    58% {
        opacity: 1;
        filter: blur(1px) saturate(0.98);
    }
    to {
        opacity: 1;
        transform: perspective(900px) translateY(0) scale(1) rotateX(0);
        filter: blur(0) saturate(1);
    }
}

@keyframes entrada-cinematica-botoes {
    from {
        opacity: 0;
        transform: perspective(900px) translateY(22px) scale(0.97) rotateX(3deg);
    }
    58% {
        opacity: 1;
    }
    to {
        opacity: 1;
        transform: perspective(900px) translateY(0) scale(1) rotateX(0);
    }
}

@keyframes entrada-item-lista {
    from {
        opacity: 0;
        transform: translateY(18px) scale(0.985);
        filter: blur(4px);
    }
    65% {
        opacity: 1;
        filter: blur(0.8px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
        filter: blur(0);
    }
}

@media (prefers-reduced-motion: reduce) {
    .titulo-despesas-wrap,
    .dashboard-despesas .card,
    .tabs-despesas .tab-btn,
    #listaDespesas .lista-item,
    body:not(.pagina-despesas) .sidebar .botoes-financeiros .btn-card,
    body:not(.pagina-despesas) .sidebar .backup-area .btn-tema-toggle,
    body:not(.pagina-despesas) .sidebar .backup-area .btn-backup,
    body:not(.pagina-despesas) .sidebar .backup-area .btn-configuracoes-toggle,
    body:not(.pagina-despesas) .sidebar .backup-area .btn-reset,
    body:not(.pagina-despesas) .menu-ano-header .menu-ano-link,
    body:not(.pagina-despesas) .menu-ano-header .menu-ano-toggle,
    body:not(.pagina-despesas) #btn-abrir-cadastro,
    body:not(.pagina-despesas) .tabs:not(.tabs-despesas) .tab-btn,
    body.pagina-economias .tabs-eco-container .tab-eco,
    body.pagina-economias .botoes-acao > button,
    body.pagina-resumo-ano .resumo-ano-visualizacao .btn-resumo-grafico,
    body.pagina-resumo-ano .resumo-ano-tabela-controles .btn-resumo-ordenar {
        animation: none !important;
        opacity: 1 !important;
        transform: none !important;
        filter: none !important;
    }
}

@media (max-width: 768px) {
    .titulo-despesas-wrap,
    .dashboard-despesas .card,
    .tabs-despesas .tab-btn,
    #listaDespesas .lista-item,
    body:not(.pagina-despesas) .sidebar .botoes-financeiros .btn-card,
    body:not(.pagina-despesas) .sidebar .backup-area .btn-tema-toggle,
    body:not(.pagina-despesas) .sidebar .backup-area .btn-backup,
    body:not(.pagina-despesas) .sidebar .backup-area .btn-configuracoes-toggle,
    body:not(.pagina-despesas) .sidebar .backup-area .btn-reset,
    body:not(.pagina-despesas) .menu-ano-header .menu-ano-link,
    body:not(.pagina-despesas) .menu-ano-header .menu-ano-toggle,
    body:not(.pagina-despesas) #btn-abrir-cadastro,
    body:not(.pagina-despesas) .tabs:not(.tabs-despesas) .tab-btn,
    body.pagina-economias .tabs-eco-container .tab-eco,
    body.pagina-economias .botoes-acao > button,
    body.pagina-resumo-ano .resumo-ano-visualizacao .btn-resumo-grafico,
    body.pagina-resumo-ano .resumo-ano-tabela-controles .btn-resumo-ordenar {
        animation: none !important;
        opacity: 1 !important;
        transform: none !important;
        filter: none !important;
        -webkit-filter: none !important;
    }

    .titulo-despesas-wrap,
    .dashboard-despesas .card {
        backdrop-filter: none;
        -webkit-backdrop-filter: none;
    }
}

@keyframes pulse-glow {
    0% { box-shadow: 0 0 0 0 rgba(52, 152, 219, 0.4); }
    70% { box-shadow: 0 0 0 15px rgba(52, 152, 219, 0); }
    100% { box-shadow: 0 0 0 0 rgba(52, 152, 219, 0); }
}

@keyframes cadastro-pisca {
    0%, 100% {
        opacity: 1;
        filter: brightness(1);
    }
    50% {
        opacity: 0.88;
        filter: brightness(1.16);
    }
}

@keyframes pulse-glow-despesas {
    0% { box-shadow: 0 0 0 0 rgba(231, 76, 60, 0.45); }
    70% { box-shadow: 0 0 0 16px rgba(231, 76, 60, 0); }
    100% { box-shadow: 0 0 0 0 rgba(231, 76, 60, 0); }
}

/* --- SCROLLBAR MODERNA (Estilo iOS/Mac) --- */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: transparent; 
}

::-webkit-scrollbar-thumb {
    background-color: rgba(128, 128, 128, 0.3); /* Discreto */
    border-radius: 20px;
    border: 2px solid transparent; /* Cria uma margem interna */
    background-clip: content-box;
}

::-webkit-scrollbar-thumb:hover {
    background-color: var(--primary); /* Cor ao passar o rato */
}





/* --- OVERLAY MOBILE (FUNDO ESCURO) --- */
#overlay-mobile {
    display: none; 
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;   /* Fallback */
    height: 100dvh;
    background: rgba(0, 0, 0, 0.6); /* Preto transparente */
    backdrop-filter: blur(4px);      /* Desfoque elegante */
    z-index: 1040; 
    opacity: 0;
    transition: opacity 0.3s ease;
}

/* MOSTRAR OVERLAY APENAS NO MOBILE E QUANDO ABERTO */
@media (max-width: 768px) {
    
    #app-wrapper:not(.sidebar-closed) #overlay-mobile {
        display: block;
        opacity: 1;
        pointer-events: auto; /* Permite clicar para fechar */
    }
}

@keyframes fadeIn { to { opacity: 1; } }

/* --- INPUTS PREMIUM --- */
input, select, textarea {
    transition: all 0.2s ease-in-out;
    border: 1px solid var(--border-color);
}

input:focus, select:focus, textarea:focus {
    border-color: var(--primary);
    box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.15); /* Anel de luz suave */
    outline: none;
    background-color: var(--bg-surface); /* Garante contraste */
}

body.pagina-economias .titulo-economias {
    margin: 0 0 18px;
    text-align: center;
    font-family: 'Montserrat', 'Segoe UI', sans-serif;
    font-size: clamp(1.9rem, 2.8vw, 2.4rem);
    font-weight: 900;
    letter-spacing: 2px;
    text-transform: uppercase;
    line-height: 1.15;
    background: linear-gradient(90deg, #fff1b8 0%, #ffd166 45%, #d4a63a 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.24));
}

body.pagina-economias .titulo-economias::after {
    content: '';
    display: block;
    width: 92px;
    height: 3px;
    margin: 8px auto 0;
    border-radius: 999px;
    background: linear-gradient(90deg, #ffd166, #c9972e);
    opacity: 0.9;
}

body.light-mode.pagina-economias .titulo-economias {
    background: linear-gradient(90deg, #7c5908 0%, #ac7a0c 45%, #d08e00 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

body.pagina-economias .subtitulo-economias {
    margin: 2px auto 18px;
    max-width: 760px;
    text-align: center;
    font-family: 'Montserrat', 'Segoe UI', sans-serif;
    font-size: 0.92rem;
    font-weight: 500;
    line-height: 1.45;
    color: var(--text-muted);
    opacity: 0;
    max-height: 64px;
    overflow: hidden;
    transform: translateY(8px);
    animation: subtitulo-despesas-entrada 2100ms var(--motion-ease) 260ms forwards;
    transition: opacity 760ms ease, max-height 760ms ease, margin 760ms ease, transform 760ms ease;
}

body.pagina-economias .subtitulo-economias.oculto {
    opacity: 0;
    max-height: 0;
    margin-top: 0;
    margin-bottom: 0;
    transform: translateY(-4px);
    animation: none;
    pointer-events: none;
}

.titulo-extrato {
    margin-top: 30px;
    margin-bottom: 15px;
}

.painel-poupanca {
    border-color: var(--poupanca-primary);
}

#saldo-poupanca {
    color: #ffd474;
}

body.light-mode #saldo-poupanca {
    color: var(--poupanca-primary);
}

.btn-poupanca-depositar {
    background: var(--poupanca-primary);
}

.btn-poupanca-resgatar {
    background: var(--poupanca-secondary);
}

.painel-poupanca .botoes-acao button {
    border: 1px solid rgba(255, 255, 255, 0.14);
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.14);
    transition: transform 0.2s ease, box-shadow 0.2s ease, filter 0.2s ease, background var(--motion-theme) var(--motion-ease), border-color var(--motion-theme) var(--motion-ease), color var(--motion-theme) var(--motion-ease);
}

.painel-poupanca .botoes-acao button:hover {
    box-shadow: 0 6px 14px rgba(0, 0, 0, 0.18);
}

body.light-mode .painel-poupanca .botoes-acao button {
    border-color: rgba(44, 62, 80, 0.16);
    box-shadow: 0 3px 10px rgba(44, 62, 80, 0.12);
}

.painel-poupanca .botoes-acao .btn-poupanca-depositar {
    border-color: rgba(52, 152, 219, 0.52);
    box-shadow: 0 4px 12px rgba(52, 152, 219, 0.30), 0 0 14px rgba(52, 152, 219, 0.24);
}

.painel-poupanca .botoes-acao .btn-poupanca-depositar:hover {
    box-shadow: 0 7px 16px rgba(52, 152, 219, 0.36), 0 0 18px rgba(52, 152, 219, 0.30);
}

.painel-poupanca .botoes-acao .btn-poupanca-resgatar {
    border-color: rgba(149, 165, 166, 0.55);
    box-shadow: 0 4px 12px rgba(149, 165, 166, 0.28), 0 0 14px rgba(149, 165, 166, 0.20);
}

.painel-poupanca .botoes-acao .btn-poupanca-resgatar:hover {
    box-shadow: 0 7px 16px rgba(149, 165, 166, 0.34), 0 0 18px rgba(149, 165, 166, 0.24);
}

.painel-poupanca .botoes-acao .btn-resgatar-total {
    border-color: rgba(155, 89, 182, 0.55);
    box-shadow: 0 4px 12px rgba(155, 89, 182, 0.30), 0 0 14px rgba(155, 89, 182, 0.24);
}

.painel-poupanca .botoes-acao .btn-resgatar-total:hover {
    box-shadow: 0 7px 16px rgba(155, 89, 182, 0.36), 0 0 18px rgba(155, 89, 182, 0.30);
}

body.light-mode .painel-poupanca .botoes-acao .btn-poupanca-depositar {
    box-shadow: 0 4px 10px rgba(9, 132, 227, 0.24), 0 0 10px rgba(9, 132, 227, 0.20);
}

body.light-mode .painel-poupanca .botoes-acao .btn-poupanca-resgatar {
    box-shadow: 0 4px 10px rgba(127, 140, 141, 0.24), 0 0 10px rgba(127, 140, 141, 0.18);
}

body.light-mode .painel-poupanca .botoes-acao .btn-resgatar-total {
    box-shadow: 0 4px 10px rgba(138, 99, 210, 0.25), 0 0 10px rgba(138, 99, 210, 0.18);
}


/* No seu style.css, substitua ou adicione estas regras */
@media (max-width: 600px) {
    .painel-economias {
        grid-template-columns: 1fr; 
        padding: 20px;
        gap: 20px;
    }

    .botoes-acao {
        flex-direction: column; 
    }

    .botoes-acao button {
        width: 100%;
        flex: 0 0 auto;
    }

    .saldo-grande h2 {
        font-size: 2.2rem; /* Evita que o saldo "vaze" da tela */
    }
}

.botoes-acao .btn-transferir {
    background: var(--btn-transfer-bg);
    color: var(--btn-transfer-text);
    margin-top: 0;
    font-weight: 600;
    letter-spacing: 0;
    border: 1px solid var(--btn-transfer-border);
    cursor: pointer;
    flex: 1.28 1 0;
    white-space: nowrap;
    font-size: 0.82rem;
    line-height: 1;
    transition: transform 180ms ease,
                background var(--motion-theme) var(--motion-ease),
                border-color var(--motion-theme) var(--motion-ease),
                color var(--motion-theme) var(--motion-ease),
                box-shadow 180ms ease;
    box-shadow: var(--btn-transfer-shadow);
}

.botoes-acao .btn-transferir:hover {
    transform: translateY(-2px);
    background: var(--btn-transfer-bg-hover);
    border-color: var(--warning);
    box-shadow: 0 10px 20px rgba(179, 133, 3, 0.32);
}

.botoes-acao .btn-transferir:active {
    transform: translateY(0) scale(0.99);
}

.botoes-acao .btn-transferir:focus-visible {
    outline: 2px solid var(--warning);
    outline-offset: 2px;
}

.botoes-acao .btn-transferir i {
    opacity: 0.9;
}

.btn-resgatar-total {
    background: var(--poupanca-accent);
    color: #fff;
    margin-top: 0;
    font-weight: bold;
    border: 1px solid rgba(255, 255, 255, 0.14);
    cursor: pointer;
    transition: transform 0.2s ease, background var(--motion-theme) var(--motion-ease), border-color var(--motion-theme) var(--motion-ease), color var(--motion-theme) var(--motion-ease), box-shadow 0.2s ease;
}
.btn-resgatar-total:hover {
    transform: translateY(-2px);
    background: var(--poupanca-accent-hover);
}

#lista-mensagens button {
    background: var(--bg-input, #f8f9fa);
    color: var(--text-main, #333);
    border: 1px solid var(--border-color, #ddd);
    border-radius: 8px;
    cursor: pointer;
    transition: 0.2s;
}

#lista-mensagens button:hover {
    border-color: #25d366; /* Cor do WhatsApp */
    background: rgba(37, 211, 102, 0.1);
}

#lista-mensagens .btn-opcao-mercado-pago {
    border-color: rgba(0, 158, 227, 0.58);
    background: linear-gradient(135deg, rgba(0, 158, 227, 0.18), rgba(0, 103, 184, 0.10));
}

#lista-mensagens .btn-opcao-mercado-pago:hover {
    border-color: rgba(0, 179, 255, 0.78);
    background: linear-gradient(135deg, rgba(0, 170, 243, 0.28), rgba(0, 118, 210, 0.14));
}

#lista-mensagens .btn-opcao-mercado-pago-qr {
    border-color: rgba(80, 212, 168, 0.46);
    background: linear-gradient(135deg, rgba(28, 188, 147, 0.20), rgba(20, 132, 114, 0.10));
}

#lista-mensagens .btn-opcao-mercado-pago-qr:hover {
    border-color: rgba(97, 231, 186, 0.66);
    background: linear-gradient(135deg, rgba(35, 212, 166, 0.28), rgba(24, 153, 132, 0.14));
}

#lista-mensagens button:disabled {
    opacity: 0.72;
    cursor: wait;
}

.modal-geral {
    display: none; 
    position: fixed;
    z-index: 1000;
    left: 0; top: 0; width: 100%; height: 100%;
    background-color: rgba(0,0,0,0.5);
    align-items: center; justify-content: center;
}







.botoes-financeiros {
    display: flex;
    flex-direction: column;
    gap: 15px;
    width: 100%;
    margin-bottom: 20px;
}

.btn-card {
    font-family: 'Montserrat', sans-serif; /* Fonte bonita */
    
    width: 100%;
    height: 40px; 
    border: 1px solid var(--sidebar-btn-border); /* Borda sutil */
    border-radius: 8px;
    
    
    background-color: var(--sidebar-btn-bg);
    color: var(--sidebar-btn-text);
    /* ------------------------------ */

    cursor: pointer;
    
    /* Layout */
    display: flex;
    flex-direction: row; 
    align-items: center;     
    justify-content: center; 
    gap: 12px;               
    
    /* Texto */
    font-size: 0.85rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 2px; 
    
    transition: all 0.3s ease;
}

/* --- CORES APENAS NOS DETALHES (HOVER) --- */


.btn-economias:hover {
    border-color: #f39c12;
    color: #f39c12;
    background-color: var(--sidebar-btn-hover-bg);
    transform: translateY(-2px);
}

.btn-voltar-sidebar:hover {
    border-color: var(--primary);
    color: var(--primary);
    background-color: var(--sidebar-btn-hover-bg);
    transform: translateY(-2px);
}

.btn-resumo-ano-sidebar:hover {
    border-color: color-mix(in srgb, var(--sidebar-btn-border) 56%, rgba(255, 255, 255, 0.56));
    color: var(--sidebar-btn-text);
    background-color: var(--sidebar-btn-hover-bg);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.24);
    transform: translateY(-2px);
}

.btn-despesas:hover {
    border-color: #e74c3c;
    color: #e74c3c;
    background-color: var(--sidebar-btn-hover-bg);
    transform: translateY(-2px);
}


/* --- FECHAMENTO DA SIDEBAR APENAS NO DESKTOP --- */
@media (min-width: 769px) {
    .sidebar-closed .sidebar {
        margin-left: -260px;
    }
}


.sidebar-closed #toggle-sidebar {
    left: 15px; 
}

#app-wrapper.has-floating-back.sidebar-closed .btn-voltar-flutuante {
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
}

#app-wrapper.has-floating-back.sidebar-closed #toggle-sidebar {
    left: 64px;
}

.modal-geral {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.5);
  justify-content: center;
  align-items: center;
  z-index: 999;
}

.modal-geral.active {
  display: flex;
}

.modal-content {
  background: var(--bg-surface);
  padding: 25px;
  border-radius: 12px;
  width: 95%;
  max-width: 420px;
  animation: fadeIn .2s ease;
}

@keyframes fadeIn {
  from { transform: scale(.95); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

.linha-dupla {
  display: flex;
  gap: 10px;
}

.recorrente-label {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 14px;
}

.lista-item {
  background: var(--bg-surface);
  padding: 15px;
  margin-bottom: 12px;
  border-radius: 10px;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 14px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.08);
  border-left: 5px solid var(--danger);
}

.lista-item.pago {
  border-left-color: var(--success);
}

.lista-item.pendente {
  border-left-color: var(--warning);
}

.lista-item.atrasado {
  border-left-color: var(--danger);
}

.lista-info {
  flex: 1;
  min-width: 0;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
}

.lista-texto {
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.despesa-nome {
  color: var(--text-main);
  font-size: 0.88rem;
  line-height: 1.25;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.despesa-data {
  color: var(--text-muted);
  font-size: 0.82rem;
  line-height: 1.2;
}

.despesa-valor {
  color: var(--danger);
  font-weight: 700;
  font-size: 0.88rem;
  white-space: nowrap;
  margin-left: 8px;
}

.lista-acoes {
  display: flex;
  gap: 8px;
  flex-shrink: 0;
}

.lista-acoes button {
  border: none;
  padding: 8px;
  border-radius: 6px;
  cursor: pointer;
  color: white;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 34px;
  min-height: 34px;
}

.lista-item.pago .despesa-valor {
  color: var(--success);
}

body.light-mode.pagina-despesas .lista-item {
  background: #f3ead2;
  border-color: rgba(136, 112, 72, 0.30);
  box-shadow: 0 4px 10px rgba(74, 57, 28, 0.08);
}

body.light-mode.pagina-despesas .lista-item.atrasado {
  background: #f3dfd9;
  border-left-color: #b6504a;
}

body.light-mode.pagina-despesas .lista-item.pendente {
  background: #f3ead2;
  border-left-color: #b8860b;
}

body.light-mode.pagina-despesas .lista-item.pago {
  background: #e4efe7;
  border-left-color: #3f8b63;
}

body.light-mode.pagina-despesas .despesa-nome {
  color: #433622;
}

body.light-mode.pagina-despesas .despesa-data {
  color: #735f3b;
}

body.light-mode.pagina-despesas .despesa-valor {
  color: #8e4638;
}

body.light-mode.pagina-despesas .lista-item.pendente .despesa-valor {
  color: #8d5f1f;
}

body.light-mode.pagina-despesas .lista-item.pago .despesa-valor {
  color: #2f6b4d;
}

@media (max-width: 600px) {
  .lista-item {
    align-items: flex-start;
    flex-direction: column;
  }

  .lista-info {
    width: 100%;
  }

  .lista-acoes {
    width: 100%;
    justify-content: flex-end;
  }
}

.btn-editar { background: var(--primary); }
.btn-check { background: var(--success); }
.btn-check.pago { background: var(--warning); color: var(--warning-contrast); }
.btn-excluir { background: var(--danger); color: #fff; }

/* ==============================
   Aba Despesas no estilo do Index
   com enfase visual da secao
   ============================== */
body.pagina-despesas .cabecalho-despesas {
  max-width: none;
  margin: 0 0 24px;
}

body.pagina-despesas .titulo-despesas-wrap {
  margin: 0 0 14px;
  padding: 0;
  border: 0;
  background: transparent;
  box-shadow: none;
  overflow: visible;
  opacity: 1;
  transform: none;
  filter: none;
  animation: none;
}

body.pagina-despesas .titulo-despesas-wrap::before {
  content: none;
}

body.pagina-despesas .titulo-despesas {
  font-size: 2.2rem;
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 2px;
  margin: 0 0 10px;
  text-align: center;
  background: linear-gradient(90deg, #ffd0d0, #ff8f87);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.22));
}

body.light-mode.pagina-despesas .titulo-despesas {
  background: linear-gradient(90deg, #9f2222, #d63031);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

body.pagina-despesas .titulo-despesas::after {
  width: 92px;
  height: 3px;
  margin: 8px auto 0;
  background: linear-gradient(90deg, #e74c3c, #ff8f87);
}

body.pagina-despesas .subtitulo-despesas {
  margin: 0 auto;
  text-align: center;
  max-width: 820px;
  opacity: 0;
  max-height: 64px;
  overflow: hidden;
  transform: translateY(8px);
  animation: subtitulo-despesas-entrada 2100ms var(--motion-ease) 260ms forwards;
  transition: opacity 760ms ease, max-height 760ms ease, margin 760ms ease, transform 760ms ease;
}

body.pagina-despesas .subtitulo-despesas.oculto {
  opacity: 0;
  max-height: 0;
  margin-top: 0;
  margin-bottom: 0;
  transform: translateY(-4px);
  animation: none;
  pointer-events: none;
}

@keyframes subtitulo-despesas-entrada {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

body.pagina-despesas .dashboard-despesas {
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 20px;
  margin: 0 0 28px;
}

body.pagina-despesas .dashboard-despesas .card {
  min-height: auto;
  padding: 20px;
  text-align: center;
  display: block;
  border-radius: 20px;
  border: 1px solid var(--card-border);
  overflow: hidden;
  opacity: 1;
  transform: none;
  filter: none;
  animation: none;
}

body.pagina-despesas .dashboard-despesas .card h3 {
  font-size: 0.85rem;
  letter-spacing: 1.5px;
  margin-bottom: 5px;
  display: block;
}

body.pagina-despesas .dashboard-despesas .card h3::before {
  content: none;
}

body.pagina-despesas .dashboard-despesas .card p {
  font-size: 1.8rem;
  line-height: 1.2;
  text-shadow: var(--card-value-shadow);
}

body.pagina-despesas .dashboard-despesas .card-pagar {
  border-bottom: 2px solid var(--danger);
  box-shadow: 0 10px 30px -10px rgba(231, 76, 60, 0.30);
}

body.pagina-despesas .dashboard-despesas .card-pago {
  border-bottom: 2px solid var(--success);
  box-shadow: 0 10px 30px -10px rgba(46, 204, 113, 0.30);
}

body.pagina-despesas .dashboard-despesas .card-geral {
  border-bottom: 2px solid #ff9f43;
  box-shadow: 0 10px 30px -10px rgba(255, 159, 67, 0.30);
}

body.pagina-despesas .tabs-despesas {
  justify-content: center;
  padding-top: 10px;
}

body.pagina-despesas .tabs-despesas .tab-btn:hover {
  border-color: #e74c3c;
  color: #ff8f87;
}

body.pagina-despesas .tabs-despesas .tab-btn.active {
  background: linear-gradient(135deg, #e74c3c, #c0392b);
  color: #ffffff;
  border-color: transparent;
  box-shadow: 0 5px 15px rgba(231, 76, 60, 0.30);
}

body.pagina-despesas #btn-abrir-cadastro {
  background: linear-gradient(135deg, #e74c3c, #c0392b);
  border-color: rgba(255, 143, 135, 0.58);
  box-shadow: 0 8px 18px rgba(231, 76, 60, 0.30);
  animation: pulse-glow-despesas 2s infinite !important;
}

body.pagina-despesas #btn-abrir-cadastro:hover {
  animation: none !important;
  background: linear-gradient(135deg, #ef5a4f, #d73b2f);
}

body.pagina-despesas #toggle-sidebar,
body.pagina-despesas .btn-voltar-flutuante {
  position: fixed;
  top: max(12px, env(safe-area-inset-top));
}

body.pagina-despesas #toggle-sidebar {
  left: 15px;
  background: var(--bg-surface);
  color: var(--primary);
  border-color: var(--border-color);
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}

body.pagina-despesas #app-wrapper.sidebar-closed #toggle-sidebar,
body.pagina-despesas .btn-voltar-flutuante {
  background: var(--bg-surface);
  color: #e74c3c;
  border-color: rgba(231, 76, 60, 0.72);
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}

body.pagina-despesas #app-wrapper.has-floating-back.sidebar-closed #toggle-sidebar {
  left: 15px;
}

body.pagina-despesas #app-wrapper.has-floating-back.sidebar-closed .btn-voltar-flutuante {
  left: 64px;
  transform: none;
}

body.pagina-despesas #app-wrapper.sidebar-closed #toggle-sidebar:hover,
body.pagina-despesas .btn-voltar-flutuante:hover {
  transform: none;
  filter: brightness(1.07);
}

body.pagina-economias #toggle-sidebar,
body.pagina-economias .btn-voltar-flutuante {
  position: fixed;
  top: max(12px, env(safe-area-inset-top));
}

body.pagina-economias .btn-voltar-flutuante {
  background: var(--bg-surface);
  color: #f1c40f;
  border-color: rgba(241, 196, 15, 0.78);
  box-shadow: 0 8px 18px rgba(179, 133, 3, 0.18);
  transform: none;
}

body.pagina-economias #toggle-sidebar {
  left: 15px;
}

body.pagina-economias #app-wrapper:not(.sidebar-closed) #toggle-sidebar {
  background: var(--bg-surface);
  color: var(--primary);
  border-color: var(--border-color);
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}

body.pagina-economias #app-wrapper.sidebar-closed #toggle-sidebar {
  background: var(--bg-surface);
  color: #f1c40f;
  border-color: rgba(241, 196, 15, 0.78);
  box-shadow: 0 8px 18px rgba(179, 133, 3, 0.18);
}

body.pagina-economias #app-wrapper.has-floating-back.sidebar-closed #toggle-sidebar {
  left: 15px;
}

body.pagina-economias #app-wrapper.has-floating-back.sidebar-closed .btn-voltar-flutuante {
  left: 64px;
  transform: none;
}

body.pagina-economias #toggle-sidebar:hover,
body.pagina-economias .btn-voltar-flutuante:hover {
  transform: none;
  filter: brightness(1.04);
}

body.light-mode.pagina-economias .btn-voltar-flutuante {
  color: #b8860b;
  border-color: rgba(184, 134, 11, 0.62);
}

body.light-mode.pagina-economias #app-wrapper.sidebar-closed #toggle-sidebar {
  color: #b8860b;
  border-color: rgba(184, 134, 11, 0.62);
}

body:not(.pagina-despesas):not(.pagina-economias) #app-wrapper:not(.sidebar-closed) #toggle-sidebar {
  background: var(--bg-surface);
  color: var(--primary);
  border-color: var(--border-color);
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}

body:not(.pagina-despesas):not(.pagina-economias) #app-wrapper.sidebar-closed #toggle-sidebar {
  background: rgba(255,255,255,0.05);
  color: rgba(255,255,255,0.7);
  border-color: rgba(255,255,255,0.1);
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}

body:not(.pagina-despesas):not(.pagina-economias) #app-wrapper.sidebar-closed #toggle-sidebar:hover {
  background: rgba(255,255,255,0.15);
  color: #ffffff;
}

/* =========================================
   LIGHT MODE - REFINO GLOBAL
   ========================================= */
body.light-mode {
  background-color: var(--bg-body);
  background-image:
    radial-gradient(circle at 12% 18%, rgba(255, 255, 255, 0.10) 0%, rgba(255, 255, 255, 0) 40%),
    radial-gradient(circle at 88% 84%, rgba(255, 255, 255, 0.07) 0%, rgba(255, 255, 255, 0) 44%),
    linear-gradient(180deg, #6f7c98 0%, #66738f 100%);
  background-attachment: fixed;
}

body.light-mode .main-content {
  background:
    repeating-linear-gradient(135deg, rgba(255, 255, 255, 0.022) 0 2px, rgba(255, 255, 255, 0) 2px 8px),
    linear-gradient(180deg, rgba(112, 124, 149, 0.38), rgba(102, 114, 138, 0.30));
}

body.light-mode #titulo-pagina {
  background: linear-gradient(180deg, #f4f7ff 0%, #dde4f1 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  filter: drop-shadow(0 2px 5px rgba(30, 45, 71, 0.28));
}

body.light-mode .sidebar {
  box-shadow: 6px 0 20px rgba(26, 39, 61, 0.34);
  border-right-color: rgba(224, 232, 245, 0.22);
}

body.light-mode .card {
  background: linear-gradient(160deg, rgba(255, 255, 255, 0.95), rgba(246, 249, 255, 0.90));
  border-color: rgba(91, 107, 135, 0.28);
  box-shadow: 0 12px 26px rgba(33, 46, 71, 0.18);
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}

body.light-mode .card:hover {
  filter: none;
  transform: translateY(-3px) scale(1.01);
}

body.light-mode .card-atrasado,
body.light-mode .card-pendente,
body.light-mode .card-recebido {
  border-bottom-width: 1px;
  box-shadow: 0 12px 24px rgba(31, 44, 69, 0.18);
}

body.light-mode .card-atrasado::before,
body.light-mode .card-pendente::before,
body.light-mode .card-recebido::before {
  content: none;
}

body.light-mode .card-atrasado p { color: #6b3535; }
body.light-mode .card-pendente p { color: #875b27; }
body.light-mode .card-recebido p { color: #2d5949; }

body.light-mode #btn-abrir-cadastro {
  background: linear-gradient(135deg, #5d91ea, #4478d2);
  box-shadow: 0 10px 22px rgba(35, 63, 115, 0.34);
}

body.light-mode #btn-abrir-cadastro:hover {
  box-shadow: 0 12px 24px rgba(35, 63, 115, 0.42);
}

body.light-mode .busca-container input {
  background: rgba(255, 255, 255, 0.94);
  border-color: rgba(101, 116, 141, 0.32);
  color: #4a5771;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.72), 0 8px 16px rgba(36, 49, 73, 0.16);
}

body.light-mode .busca-container input::placeholder {
  color: #6c7891;
}

body.light-mode .tab-btn {
  background: linear-gradient(180deg, rgba(120, 132, 157, 0.96), rgba(105, 118, 143, 0.97));
  border-color: rgba(148, 161, 187, 0.75);
  color: #e8edf8;
  box-shadow: 0 4px 10px rgba(30, 42, 65, 0.22);
}

body.light-mode .tab-btn.active,
body.light-mode .tab-eco.active {
  background: linear-gradient(135deg, #5f95ef, #467bd5);
  color: #ffffff;
  border-color: rgba(122, 157, 225, 0.88);
  box-shadow: 0 8px 18px rgba(36, 64, 116, 0.34);
}

body.light-mode .tab-btn:hover {
  border-color: rgba(150, 176, 223, 0.84);
  color: #ffffff;
  transform: translateY(-2px);
}

body.light-mode:not(.pagina-despesas):not(.pagina-economias):not(.pagina-resumo-ano) .tabs .tab-btn:hover:not(.active) {
  border-color: #5f95ef;
  color: #5f95ef;
}

body.light-mode:not(.pagina-despesas):not(.pagina-economias):not(.pagina-resumo-ano) .tabs .tab-btn.active,
body.light-mode:not(.pagina-despesas):not(.pagina-economias):not(.pagina-resumo-ano) .tabs .tab-btn.active:hover {
  background: linear-gradient(135deg, #5f95ef, #467bd5);
  border-color: transparent;
  color: #ffffff;
  box-shadow: 0 5px 15px rgba(52, 115, 206, 0.32);
}

body.light-mode .tabs-eco-container {
  background: #d8e0ee;
  border: 1px solid rgba(87, 105, 133, 0.22);
}

body.light-mode .painel-economias,
body.light-mode .resumo-ano-tabela-wrap,
body.light-mode .resumo-ano-grafico-wrap,
body.light-mode .modal-content,
body.light-mode .notificacoes-painel,
body.light-mode .lista-item {
  box-shadow: 0 10px 24px rgba(27, 41, 64, 0.22);
  border-color: rgba(91, 109, 137, 0.22);
}

body.light-mode .notificacoes-trigger {
  background: linear-gradient(160deg, #7e8ca8, #697791);
  border-color: rgba(214, 224, 239, 0.30);
  color: #f4e9c9;
  box-shadow: 0 10px 20px rgba(27, 39, 60, 0.30);
}

body.light-mode .notificacoes-trigger i {
  color: #f4e9c9;
}

body.light-mode .notificacoes-badge {
  background: #efe3c4;
  color: #705a2f;
  border-color: rgba(112, 90, 47, 0.34);
}

body.light-mode .resumo-ano-tabela tbody tr:hover {
  background: rgba(70, 102, 158, 0.10);
}

body.light-mode .btn-mini:hover,
body.light-mode .btn-mini-alt:hover,
body.light-mode .btn-mini-eco:hover {
  background: rgba(74, 112, 176, 0.12);
}

body.light-mode.pagina-despesas #btn-abrir-cadastro {
  background: linear-gradient(135deg, #c84c43, #ab352d);
  border: 1px solid rgba(182, 80, 74, 0.56);
  color: #ffffff;
  box-shadow: 0 10px 20px rgba(156, 57, 54, 0.28);
}

body.light-mode.pagina-despesas #btn-abrir-cadastro:hover {
  background: linear-gradient(135deg, #d25a50, #b83e35);
  box-shadow: 0 12px 24px rgba(156, 57, 54, 0.34);
}

/* =========================================
   DESPESAS - NOTIFICACOES (LIGHT MODE)
   ========================================= */
body.light-mode.pagina-despesas .notificacoes-trigger {
  background: #e7d8b5;
  border-color: rgba(124, 101, 58, 0.40);
  color: #8d5f1f;
  box-shadow: 0 8px 16px rgba(74, 57, 28, 0.18);
}

body.light-mode.pagina-despesas .notificacoes-trigger i {
  color: #8d5f1f;
}

body.light-mode.pagina-despesas .notificacoes-hoje.aberto .notificacoes-trigger {
  border-color: rgba(141, 95, 31, 0.62);
}

body.light-mode.pagina-despesas .notificacoes-badge {
  background: #d9c38d;
  color: #5a431e;
  border-color: rgba(124, 101, 58, 0.46);
}

body.light-mode.pagina-despesas .notificacoes-painel {
  background: #f3ead2;
  border-color: rgba(124, 101, 58, 0.34);
  border-top-color: #b8860b;
  box-shadow: 0 12px 24px rgba(74, 57, 28, 0.16);
}

body.light-mode.pagina-despesas .notificacoes-header {
  color: #4f3f25;
}

body.light-mode.pagina-despesas .notificacoes-header i {
  color: #8d5f1f;
}

body.light-mode.pagina-despesas .notificacoes-secao-titulo {
  color: #6a5430;
}

body.light-mode.pagina-despesas .notificacoes-secao.notificacao-atrasada .notificacoes-secao-titulo {
  color: #9c3936;
}

body.light-mode.pagina-despesas .notificacoes-secao.notificacao-hoje .notificacoes-secao-titulo {
  color: #8d5f1f;
}

body.light-mode.pagina-despesas .notificacoes-secao.notificacao-amanha .notificacoes-secao-titulo {
  color: #48638f;
}

body.light-mode.pagina-despesas .notificacoes-item {
  background: #efe2c4;
  border-color: rgba(124, 101, 58, 0.28);
  border-left-width: 6px;
  border-left-style: solid;
}

body.light-mode.pagina-despesas .notificacoes-item.notificacao-atrasada {
  background: #f3dfd9;
  border-left-color: #b6504a;
}

body.light-mode.pagina-despesas .notificacoes-item.notificacao-hoje {
  background: #f3ead2;
  border-left-color: #b8860b;
}

body.light-mode.pagina-despesas .notificacoes-item.notificacao-amanha {
  background: #e1e8f5;
  border-left-color: #6383c7;
}

body.light-mode.pagina-despesas .notificacoes-item-nome {
  color: #433622;
}

body.light-mode.pagina-despesas .notificacoes-item-data {
  color: #735f3b;
}

body.light-mode.pagina-despesas .notificacoes-item.notificacao-atrasada .notificacoes-item-valor {
  color: #9c3936;
}

body.light-mode.pagina-despesas .notificacoes-item.notificacao-hoje .notificacoes-item-valor {
  color: #8d5f1f;
}

body.light-mode.pagina-despesas .notificacoes-item.notificacao-amanha .notificacoes-item-valor {
  color: #48638f;
}

/* =========================================
   LIGHT MODE - RESUMO ANUAL EM TOM PALHA
   ========================================= */
body.light-mode.pagina-resumo-ano .resumo-ano-tabela-wrap,
body.light-mode.pagina-resumo-ano .resumo-ano-grafico-wrap {
  background: #f3ead2;
  border-color: rgba(136, 112, 72, 0.32);
  box-shadow: 0 8px 16px rgba(74, 57, 28, 0.12);
}

body.light-mode.pagina-resumo-ano .resumo-ano-tabela-controles select,
body.light-mode.pagina-resumo-ano .resumo-ano-grafico-controles select,
body.light-mode.pagina-resumo-ano .btn-resumo-grafico,
body.light-mode.pagina-resumo-ano .btn-resumo-ordenar,
body.light-mode.pagina-resumo-ano .btn-mini {
  background: #e7d8b5;
  color: #4f3f25;
  border-color: rgba(124, 101, 58, 0.38);
  box-shadow: 0 4px 10px rgba(74, 57, 28, 0.10);
}

body.light-mode.pagina-resumo-ano .btn-resumo-grafico:hover,
body.light-mode.pagina-resumo-ano .btn-resumo-ordenar:hover,
body.light-mode.pagina-resumo-ano .btn-mini:hover {
  background: #dcc89a;
  border-color: rgba(124, 101, 58, 0.46);
  color: #4a3a20;
}

body.light-mode.pagina-resumo-ano .resumo-ano-tabela th {
  background: #e7d8b5;
  color: #5f4a27;
  border-bottom-color: rgba(124, 101, 58, 0.34);
}

body.light-mode.pagina-resumo-ano .resumo-ano-tabela td {
  color: #4b3c25;
  border-bottom-color: rgba(124, 101, 58, 0.24);
  background: rgba(245, 236, 214, 0.92);
}

body.light-mode.pagina-resumo-ano .resumo-ano-tabela tbody tr:nth-child(even) td {
  background: rgba(240, 230, 206, 0.94);
}

body.light-mode.pagina-resumo-ano .resumo-ano-tabela[data-metrica-ordenacao="mes"] thead th:nth-child(1),
body.light-mode.pagina-resumo-ano .resumo-ano-tabela[data-metrica-ordenacao="mes"] tbody td:nth-child(1),
body.light-mode.pagina-resumo-ano .resumo-ano-tabela[data-metrica-ordenacao="recebido"] thead th:nth-child(2),
body.light-mode.pagina-resumo-ano .resumo-ano-tabela[data-metrica-ordenacao="recebido"] tbody td:nth-child(2),
body.light-mode.pagina-resumo-ano .resumo-ano-tabela[data-metrica-ordenacao="pendente"] thead th:nth-child(3),
body.light-mode.pagina-resumo-ano .resumo-ano-tabela[data-metrica-ordenacao="pendente"] tbody td:nth-child(3),
body.light-mode.pagina-resumo-ano .resumo-ano-tabela[data-metrica-ordenacao="liquido"] thead th:nth-child(4),
body.light-mode.pagina-resumo-ano .resumo-ano-tabela[data-metrica-ordenacao="liquido"] tbody td:nth-child(4),
body.light-mode.pagina-resumo-ano .resumo-ano-tabela[data-metrica-ordenacao="despesasPagas"] thead th:nth-child(5),
body.light-mode.pagina-resumo-ano .resumo-ano-tabela[data-metrica-ordenacao="despesasPagas"] tbody td:nth-child(5) {
  background: transparent;
}

body.light-mode.pagina-resumo-ano .resumo-ano-tabela[data-metrica-ordenacao="mes"] .resumo-tabela-linha-topo td:nth-child(1),
body.light-mode.pagina-resumo-ano .resumo-ano-tabela[data-metrica-ordenacao="recebido"] .resumo-tabela-linha-topo td:nth-child(2),
body.light-mode.pagina-resumo-ano .resumo-ano-tabela[data-metrica-ordenacao="pendente"] .resumo-tabela-linha-topo td:nth-child(3),
body.light-mode.pagina-resumo-ano .resumo-ano-tabela[data-metrica-ordenacao="liquido"] .resumo-tabela-linha-topo td:nth-child(4),
body.light-mode.pagina-resumo-ano .resumo-ano-tabela[data-metrica-ordenacao="despesasPagas"] .resumo-tabela-linha-topo td:nth-child(5) {
  box-shadow: inset 0 0 0 1px rgba(124, 101, 58, 0.58);
}

body.light-mode.pagina-resumo-ano .resumo-ano-tabela tbody tr:hover td {
  background: rgba(228, 209, 170, 0.78);
}

body.light-mode.pagina-resumo-ano .resumo-ano-coluna-track {
  background: #eadfc3;
  border-color: rgba(124, 101, 58, 0.36);
}

body.light-mode.pagina-resumo-ano .resumo-ano-coluna-track.tem-negativo::after {
  border-top-color: rgba(95, 74, 39, 0.35);
}

body.light-mode.pagina-resumo-ano .resumo-ano-coluna-mes,
body.light-mode.pagina-resumo-ano .resumo-ano-coluna-valor.neutro,
body.light-mode.pagina-resumo-ano .resumo-ano-insights,
body.light-mode.pagina-resumo-ano .resumo-ano-melhor-mes.destaque-neutro {
  color: #6a5430;
}

/* =========================================
   LIGHT MODE - CONTRASTE GERAL (RESTANTE)
   ========================================= */
body.light-mode {
  --text-main: #223146;
  --text-muted: #4f6079;
  --border-color: #98a8bf;
  --card-border: rgba(70, 87, 114, 0.36);
}

body.light-mode .main-content,
body.light-mode .card,
body.light-mode .modal-content,
body.light-mode .painel-economias,
body.light-mode .item-agrupado,
body.light-mode .item-extrato,
body.light-mode .lista-item {
  color: var(--text-main);
}

body.light-mode .busca-container input,
body.light-mode input,
body.light-mode select,
body.light-mode textarea {
  border-color: rgba(95, 112, 140, 0.46);
  color: #24344a;
}

body.light-mode .busca-container input::placeholder,
body.light-mode input::placeholder,
body.light-mode textarea::placeholder {
  color: #5d6f89;
}

body.light-mode .tab-btn:not(.active):not(:hover) {
  background: linear-gradient(180deg, rgba(110, 124, 150, 0.98), rgba(97, 111, 137, 0.99));
  border-color: rgba(107, 126, 157, 0.62);
  color: #f5f8ff;
}

body.light-mode .contador-busca {
  border-color: rgba(83, 99, 126, 0.50);
  background: rgba(214, 223, 237, 0.74);
  color: #1f2f44;
}

body.light-mode .info-valores,
body.light-mode .data-extrato,
body.light-mode .notificacoes-item-data,
body.light-mode .despesa-data {
  color: #556780;
}

body.light-mode .notificacoes-item-nome {
  color: #24344a;
}

body.light-mode .notificacoes-item {
  border-color: rgba(95, 112, 140, 0.34);
}

body.light-mode .close-modal {
  color: #44556f;
}

/* =========================================
   LIGHT MODE - BOTOES DA CARTEIRA (ECONOMIAS)
   ========================================= */
body.light-mode.pagina-economias #aba-carteira .botoes-acao {
  align-items: stretch;
  gap: 14px;
}

body.light-mode.pagina-economias #aba-carteira .botoes-acao button {
  min-height: 56px;
  border: 1px solid rgba(60, 74, 97, 0.22);
  box-shadow: 0 6px 14px rgba(45, 60, 86, 0.16);
}

body.light-mode.pagina-economias #aba-carteira .botoes-acao .btn-depositar,
body.light-mode.pagina-economias #aba-carteira .botoes-acao .btn-sacar {
  flex: 0.94 1 0;
  color: #f8fbff;
}

body.light-mode.pagina-economias #aba-carteira .botoes-acao .btn-depositar {
  background: linear-gradient(135deg, #3d7d67, #2f6654);
  border-color: rgba(47, 102, 84, 0.55);
}

body.light-mode.pagina-economias #aba-carteira .botoes-acao .btn-sacar {
  background: linear-gradient(135deg, #944b4b, #7a3e3e);
  border-color: rgba(122, 62, 62, 0.56);
}

body.light-mode.pagina-economias #aba-carteira .botoes-acao .btn-transferir {
  flex: 1.22 1 0;
  background: linear-gradient(135deg, #c9a04d, #b48938);
  border-color: rgba(129, 96, 35, 0.56);
  color: #3f2f10;
  font-size: 0.93rem;
  line-height: 1.15;
  text-align: center;
  white-space: normal;
  text-wrap: balance;
  padding: 8px 12px;
}

body.light-mode.pagina-economias #aba-carteira .botoes-acao .btn-transferir i {
  color: #5e4315;
}

body.light-mode.pagina-economias #aba-carteira .botoes-acao .btn-depositar:hover,
body.light-mode.pagina-economias #aba-carteira .botoes-acao .btn-sacar:hover,
body.light-mode.pagina-economias #aba-carteira .botoes-acao .btn-transferir:hover {
  filter: brightness(1.05);
  box-shadow: 0 10px 18px rgba(45, 60, 86, 0.20);
}

/* =========================================
   SUBTITULOS - CONTRASTE LEGIVEL
   ========================================= */
body.pagina-despesas .subtitulo-despesas,
body.pagina-economias .subtitulo-economias,
body.pagina-resumo-ano .subtitulo-resumo-ano {
  color: #c6d2e4;
  text-shadow: 0 1px 1px rgba(0, 0, 0, 0.32);
}

body.light-mode.pagina-despesas .subtitulo-despesas,
body.light-mode.pagina-economias .subtitulo-economias,
body.light-mode.pagina-resumo-ano .subtitulo-resumo-ano {
  color: #eef3ff;
  text-shadow: 0 1px 2px rgba(28, 40, 60, 0.40);
}

/* =========================================
   LIGHT MODE - NOTIFICACOES INDEX
   ========================================= */
body.light-mode:not(.pagina-despesas):not(.pagina-economias):not(.pagina-resumo-ano) .notificacoes-trigger {
  background: linear-gradient(160deg, #f2f7ff, #dbe7f8);
  border-color: rgba(114, 141, 186, 0.44);
  color: #2e5f9d;
  box-shadow: 0 8px 18px rgba(45, 69, 108, 0.20);
}

body.light-mode:not(.pagina-despesas):not(.pagina-economias):not(.pagina-resumo-ano) .notificacoes-trigger i {
  color: #2e5f9d;
}

body.light-mode:not(.pagina-despesas):not(.pagina-economias):not(.pagina-resumo-ano) .notificacoes-hoje.aberto .notificacoes-trigger {
  border-color: rgba(95, 149, 239, 0.72);
}

body.light-mode:not(.pagina-despesas):not(.pagina-economias):not(.pagina-resumo-ano) .notificacoes-badge {
  background: #e0ecff;
  color: #2f4f7c;
  border-color: rgba(93, 126, 181, 0.44);
}

body.light-mode:not(.pagina-despesas):not(.pagina-economias):not(.pagina-resumo-ano) .notificacoes-painel {
  background: #e9f0fb;
  border-color: rgba(112, 138, 179, 0.38);
  border-top-color: #5f95ef;
  box-shadow: 0 12px 24px rgba(41, 62, 98, 0.18);
}

body.light-mode:not(.pagina-despesas):not(.pagina-economias):not(.pagina-resumo-ano) .notificacoes-header {
  color: #2c3f5b;
}

body.light-mode:not(.pagina-despesas):not(.pagina-economias):not(.pagina-resumo-ano) .notificacoes-header i {
  color: #2e5f9d;
}

body.light-mode:not(.pagina-despesas):not(.pagina-economias):not(.pagina-resumo-ano) .notificacoes-item {
  background: #f2f7ff;
  border-color: rgba(116, 141, 180, 0.38);
  border-left-color: #5f95ef;
}

body.light-mode:not(.pagina-despesas):not(.pagina-economias):not(.pagina-resumo-ano) .notificacoes-item-nome {
  color: #22354f;
}

body.light-mode:not(.pagina-despesas):not(.pagina-economias):not(.pagina-resumo-ano) .notificacoes-item-data {
  color: #5c6f8b;
}

body.light-mode:not(.pagina-despesas):not(.pagina-economias):not(.pagina-resumo-ano) .notificacoes-item-valor {
  color: #2e5f9d;
}

/* =========================================
   RESUMO ECONOMIAS (2026)
   ========================================= */
body.pagina-resumo-economias .resumo-economias-main {
  max-width: 1160px;
  margin: 0 auto;
  padding-top: 26px;
}

body.pagina-resumo-economias .resumo-economias-header {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-bottom: 20px;
}

body.pagina-resumo-economias #titulo-resumo-economias {
  font-size: clamp(2rem, 3.8vw, 2.8rem);
  text-transform: uppercase;
  letter-spacing: 1.4px;
  font-weight: 900;
  margin: 0;
  color: #d7e9ff;
  text-shadow: 0 1px 0 rgba(8, 13, 22, 0.35);
}

body.pagina-resumo-economias .subtitulo-resumo-economias {
  margin: 0;
  color: #c4d0e2;
  max-width: 760px;
  line-height: 1.4;
}

body.pagina-resumo-economias .resumo-economias-cards {
  margin-bottom: 18px;
}

body.pagina-resumo-economias .card-despesas p {
  color: var(--danger);
}

.resumo-economias-grafico-wrap,
.resumo-economias-tabela-wrap {
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid rgba(255, 255, 255, 0.12);
  border-radius: 16px;
  padding: 16px;
  margin-bottom: 16px;
  box-shadow: 0 10px 24px rgba(0, 0, 0, 0.22);
}

.resumo-economias-grafico-titulo {
  margin: 0 0 14px;
  font-size: 1.08rem;
  color: #cfe0f9;
}

.resumo-economias-legenda {
  display: flex;
  gap: 14px;
  margin: 0 0 10px;
  font-size: 0.82rem;
  color: #b9cbe4;
}

.resumo-economias-legenda span {
  display: inline-flex;
  align-items: center;
  gap: 6px;
}

.resumo-economias-legenda span:first-child i {
  color: #3f95e6;
}

.resumo-economias-legenda span:last-child i {
  color: #d7a54a;
}

.resumo-economias-grafico {
  display: grid;
  grid-template-columns: repeat(12, minmax(0, 1fr));
  gap: 10px;
  align-items: end;
  min-height: 260px;
}

.resumo-eco-coluna {
  display: grid;
  gap: 8px;
  justify-items: center;
}

.resumo-eco-coluna-barras {
  width: 100%;
  min-height: 210px;
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  align-items: end;
  gap: 5px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.16);
  padding: 0 2px 8px;
}

.resumo-eco-bar {
  min-height: 2px;
  border-radius: 8px 8px 0 0;
  transition: height 380ms var(--motion-ease), filter 220ms ease;
}

.resumo-eco-bar.positivo {
  background: linear-gradient(180deg, #5ec8ff 0%, #2f83d8 100%);
  box-shadow: 0 0 10px rgba(67, 163, 245, 0.32);
}

.resumo-eco-bar.negativo {
  background: linear-gradient(180deg, #ff8676 0%, #d3473e 100%);
  box-shadow: 0 0 10px rgba(220, 82, 73, 0.28);
}

.resumo-eco-bar.poupanca.positivo {
  background: linear-gradient(180deg, #ffd86e 0%, #c2912c 100%);
  box-shadow: 0 0 10px rgba(230, 177, 63, 0.28);
}

.resumo-eco-bar.poupanca.negativo {
  background: linear-gradient(180deg, #b9a9ff 0%, #7e6be0 100%);
  box-shadow: 0 0 10px rgba(130, 113, 222, 0.28);
}

.resumo-eco-coluna:hover .resumo-eco-bar {
  filter: brightness(1.08);
}

.resumo-eco-coluna-mes {
  font-size: 0.78rem;
  font-weight: 700;
  letter-spacing: 0.3px;
  color: #c7d6ea;
}

.resumo-economias-tabela-wrap {
  position: relative;
  overflow: hidden;
}

.resumo-economias-tabela-wrap::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(90deg, rgba(80, 162, 255, 0.65), rgba(244, 197, 110, 0.45));
  pointer-events: none;
}

.resumo-economias-tabela {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0 10px;
}

.resumo-economias-tabela th {
  border: 0;
  padding: 10px 12px;
  color: #c0d3ed;
  font-size: 0.79rem;
  text-transform: uppercase;
  letter-spacing: 0.62px;
  text-align: center;
  background: rgba(14, 23, 37, 0.78);
}

.resumo-economias-tabela tbody tr {
  transition: transform 180ms ease, filter 220ms ease;
}

.resumo-economias-tabela tbody td {
  padding: 12px 10px;
  border-top: 1px solid rgba(152, 178, 214, 0.16);
  border-bottom: 1px solid rgba(152, 178, 214, 0.16);
  background: rgba(14, 23, 37, 0.92);
  color: #e8f2ff;
  vertical-align: middle;
}

.resumo-economias-tabela tbody td:first-child {
  border-left: 1px solid rgba(152, 178, 214, 0.2);
  border-top-left-radius: 12px;
  border-bottom-left-radius: 12px;
}

.resumo-economias-tabela tbody td:last-child {
  border-right: 1px solid rgba(152, 178, 214, 0.2);
  border-top-right-radius: 12px;
  border-bottom-right-radius: 12px;
}

.resumo-economias-tabela tbody tr:hover {
  transform: translateY(-2px);
  filter: brightness(1.04);
}

.resumo-economias-tabela tbody tr:hover td {
  border-top-color: rgba(178, 205, 238, 0.28);
  border-bottom-color: rgba(178, 205, 238, 0.28);
}

.resumo-eco-col-mes {
  min-width: 180px;
}

.resumo-eco-celula-mes {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  font-weight: 700;
}

.resumo-eco-mes-indice {
  width: 30px;
  height: 30px;
  border-radius: 9px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 0.72rem;
  font-weight: 800;
  letter-spacing: 0.4px;
  color: #8dc7ff;
  background: linear-gradient(135deg, rgba(50, 102, 168, 0.4), rgba(26, 58, 98, 0.28));
  border: 1px solid rgba(112, 164, 224, 0.45);
}

.resumo-eco-mes-nome {
  color: #f0f5ff;
  letter-spacing: 0.25px;
  white-space: nowrap;
}

.resumo-economias-tabela td.resumo-eco-col-valor {
  text-align: right;
}

.resumo-eco-pill {
  display: inline-flex;
  align-items: center;
  justify-content: flex-end;
  gap: 8px;
  min-width: 158px;
  padding: 7px 12px;
  border-radius: 999px;
  border: 1px solid transparent;
  font-size: 0.89rem;
  font-weight: 700;
  font-variant-numeric: tabular-nums;
  line-height: 1;
}

.resumo-eco-pill i {
  font-size: 0.74rem;
  opacity: 0.9;
}

.resumo-eco-pill.positivo {
  color: #8effc6;
  background: linear-gradient(135deg, rgba(26, 110, 78, 0.38), rgba(19, 67, 52, 0.22));
  border-color: rgba(95, 216, 166, 0.55);
}

.resumo-eco-pill.negativo {
  color: #ffb8b4;
  background: linear-gradient(135deg, rgba(140, 45, 49, 0.38), rgba(90, 28, 32, 0.2));
  border-color: rgba(238, 118, 122, 0.5);
}

.resumo-eco-pill.neutro {
  color: #cfe2ff;
  background: linear-gradient(135deg, rgba(44, 72, 110, 0.3), rgba(29, 46, 73, 0.2));
  border-color: rgba(123, 164, 221, 0.42);
}

.resumo-eco-pill.acumulado {
  min-width: 172px;
}

.resumo-eco-linha[data-tendencia="positivo"] td:first-child {
  box-shadow: inset 3px 0 0 rgba(90, 216, 160, 0.85);
}

.resumo-eco-linha[data-tendencia="negativo"] td:first-child {
  box-shadow: inset 3px 0 0 rgba(235, 120, 124, 0.86);
}

.resumo-eco-linha[data-tendencia="neutro"] td:first-child {
  box-shadow: inset 3px 0 0 rgba(121, 156, 210, 0.78);
}

body.light-mode.pagina-resumo-economias .resumo-economias-tabela-wrap::before {
  background: linear-gradient(90deg, rgba(56, 118, 198, 0.52), rgba(183, 140, 63, 0.45));
}

body.light-mode.pagina-resumo-economias .resumo-economias-tabela th {
  color: #536f94;
  background: rgba(240, 246, 255, 0.9);
}

body.light-mode.pagina-resumo-economias .resumo-economias-tabela tbody td {
  color: #2d4668;
  border-top-color: rgba(83, 108, 148, 0.18);
  border-bottom-color: rgba(83, 108, 148, 0.18);
  background: rgba(248, 252, 255, 0.96);
}

body.light-mode.pagina-resumo-economias .resumo-economias-tabela tbody td:first-child,
body.light-mode.pagina-resumo-economias .resumo-economias-tabela tbody td:last-child {
  border-left-color: rgba(83, 108, 148, 0.22);
  border-right-color: rgba(83, 108, 148, 0.22);
}

body.light-mode.pagina-resumo-economias .resumo-eco-mes-indice {
  color: #2e5e97;
  background: linear-gradient(135deg, rgba(152, 187, 235, 0.56), rgba(123, 163, 218, 0.38));
  border-color: rgba(69, 113, 175, 0.34);
}

body.light-mode.pagina-resumo-economias .resumo-eco-mes-nome {
  color: #2f4668;
}

body.light-mode.pagina-resumo-economias .resumo-eco-pill.positivo {
  color: #256349;
  background: linear-gradient(135deg, rgba(126, 210, 174, 0.42), rgba(104, 188, 153, 0.22));
  border-color: rgba(80, 166, 131, 0.45);
}

body.light-mode.pagina-resumo-economias .resumo-eco-pill.negativo {
  color: #7e3238;
  background: linear-gradient(135deg, rgba(241, 163, 167, 0.42), rgba(229, 127, 132, 0.22));
  border-color: rgba(198, 101, 108, 0.4);
}

body.light-mode.pagina-resumo-economias .resumo-eco-pill.neutro {
  color: #2f537f;
  background: linear-gradient(135deg, rgba(169, 199, 237, 0.42), rgba(137, 175, 226, 0.24));
  border-color: rgba(91, 132, 189, 0.36);
}

@media (max-width: 960px) {
  .resumo-economias-grafico {
    grid-template-columns: repeat(6, minmax(0, 1fr));
    gap: 12px;
  }
}

@media (max-width: 640px) {
  .resumo-economias-grafico {
    grid-template-columns: repeat(4, minmax(0, 1fr));
  }

  .resumo-eco-coluna-barras {
    min-height: 170px;
  }

  .resumo-economias-tabela-wrap {
    overflow-x: auto;
  }

  .resumo-economias-tabela {
    min-width: 760px;
  }

  .resumo-eco-pill {
    min-width: 142px;
    padding: 6px 10px;
    font-size: 0.84rem;
  }

  .resumo-eco-pill.acumulado {
    min-width: 154px;
  }
}

/* =========================================
   Tema Executivo + Cascata de Meses
   ========================================= */
.btn-backup-executive {
  background: linear-gradient(135deg, rgba(197, 157, 74, 0.34), rgba(116, 87, 35, 0.24));
  color: #f8e7bf;
  border-color: rgba(231, 199, 124, 0.58);
  box-shadow: 0 8px 18px rgba(90, 66, 24, 0.30);
  margin-bottom: 10px;
}

.btn-backup-executive:hover {
  filter: saturate(1.06) brightness(1.05);
}

body.executive-mode {
  --primary: #b9924d;
  --primary-soft: #dbc281;
  --success: #4ea57f;
  --warning: #e0b04d;
  --danger: #c56a68;
  --highlight-value-main: #efd28f;
  --highlight-value-positive: #75d3a8;
  --highlight-value-negative: #f4a6a4;
  --bg-body: #0f1218;
  --bg-surface: #141a23;
  --bg-card: rgba(20, 26, 35, 0.82);
  --bg-input: #1d2532;
  --bg-sublista: #111822;
  --text-main: #edf1f9;
  --text-muted: #a8b4cb;
  --border-color: rgba(197, 157, 74, 0.34);
  --dark-sidebar: linear-gradient(180deg, #0e1218 0%, #121923 54%, #171d2a 100%);
  --btn-theme-bg: linear-gradient(135deg, #1c2738, #151d2b);
  --btn-theme-text: #e9eef8;
  --btn-theme-border: rgba(183, 196, 225, 0.34);
  --btn-theme-shadow: 0 8px 18px rgba(6, 10, 18, 0.45);
  --btn-theme-knob: #f3f6ff;
  --backup-divider: rgba(206, 177, 109, 0.32);
}

body.executive-mode .sidebar {
  background: var(--dark-sidebar);
  border-right-color: rgba(195, 158, 86, 0.32);
}

body.executive-mode .card,
body.executive-mode .item-agrupado,
body.executive-mode .lista-item,
body.executive-mode .modal-content,
body.executive-mode .painel-economias,
body.executive-mode .resumo-ano-tabela-wrap,
body.executive-mode .resumo-economias-tabela-wrap,
body.executive-mode .resumo-economias-grafico-wrap {
  border-color: rgba(194, 160, 92, 0.28);
  box-shadow: 0 12px 26px rgba(5, 8, 14, 0.34);
}

body.executive-mode .menu-meses-lista button.active,
body.executive-mode .menu-meses-grid button.active {
  background: linear-gradient(
    135deg,
    color-mix(in srgb, var(--poupanca-primary) 52%, transparent),
    color-mix(in srgb, var(--poupanca-primary) 24%, transparent)
  );
  border-color: color-mix(in srgb, var(--poupanca-primary) 76%, #d6ecff);
  color: #f8fbff;
}

body.light-mode.executive-mode {
  --primary: #9a6d28;
  --primary-soft: #c89a59;
  --success: #2f7a60;
  --warning: #966524;
  --danger: #8f4343;
  --highlight-value-main: #8b5b22;
  --highlight-value-positive: #2f6f57;
  --highlight-value-negative: #7f3b3b;
  --bg-body: #e7ebf3;
  --bg-surface: #f5f7fb;
  --bg-card: rgba(255, 255, 255, 0.92);
  --bg-input: #f8faff;
  --bg-sublista: #eef2f8;
  --text-main: #2f3a4f;
  --text-muted: #61708b;
  --border-color: rgba(142, 110, 57, 0.30);
  --dark-sidebar: linear-gradient(180deg, #6f798c 0%, #626e83 100%);
  --backup-divider: rgba(122, 97, 58, 0.26);
}

.menu-meses-lista--cascade button {
  opacity: 0;
  transform: translateY(-8px) scale(0.985);
  animation: menu-meses-cascata 460ms var(--motion-cinema) forwards;
}

.menu-meses-lista--cascade button:nth-child(1) { animation-delay: 20ms; }
.menu-meses-lista--cascade button:nth-child(2) { animation-delay: 50ms; }
.menu-meses-lista--cascade button:nth-child(3) { animation-delay: 80ms; }
.menu-meses-lista--cascade button:nth-child(4) { animation-delay: 110ms; }
.menu-meses-lista--cascade button:nth-child(5) { animation-delay: 140ms; }
.menu-meses-lista--cascade button:nth-child(6) { animation-delay: 170ms; }
.menu-meses-lista--cascade button:nth-child(7) { animation-delay: 200ms; }
.menu-meses-lista--cascade button:nth-child(8) { animation-delay: 230ms; }
.menu-meses-lista--cascade button:nth-child(9) { animation-delay: 260ms; }
.menu-meses-lista--cascade button:nth-child(10) { animation-delay: 290ms; }
.menu-meses-lista--cascade button:nth-child(11) { animation-delay: 320ms; }
.menu-meses-lista--cascade button:nth-child(12) { animation-delay: 350ms; }

.menu-meses-lista.is-collapsed button {
  animation: none !important;
  opacity: 0;
  transform: translateY(-6px);
}

@keyframes menu-meses-cascata {
  0% {
    opacity: 0;
    transform: translateY(-8px) scale(0.985);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

body:not(.pagina-despesas) .sidebar .backup-area .btn-backup-executive { animation-delay: 500ms; }

@media (prefers-reduced-motion: reduce) {
  .menu-meses-lista--cascade button {
    animation: none !important;
    opacity: 1 !important;
    transform: none !important;
  }
}

/* =========================================
   Resumo Anual - Grafico Canvas Refinado
   ========================================= */
body.pagina-resumo-ano .resumo-ano-grafico-wrap {
  background:
    radial-gradient(120% 92% at 0% -10%, rgba(59, 130, 246, 0.18), transparent 56%),
    radial-gradient(90% 72% at 100% -6%, rgba(245, 158, 11, 0.10), transparent 58%),
    linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0));
}

body.pagina-resumo-ano .resumo-ano-grafico-lista {
  display: block;
  min-height: 334px;
  overflow-x: auto;
  padding: 6px 2px 8px;
  scrollbar-width: thin;
}

body.pagina-resumo-ano .resumo-ano-line-wrap {
  min-width: 860px;
  border: 1px solid rgba(255, 255, 255, 0.14);
  border-radius: 16px;
  padding: 10px 10px 8px;
  background: linear-gradient(180deg, rgba(11, 17, 29, 0.78), rgba(8, 12, 21, 0.50));
  box-shadow: 0 10px 24px rgba(0, 0, 0, 0.22), inset 0 1px 0 rgba(255, 255, 255, 0.05);
}

body.pagina-resumo-ano .resumo-ano-canvas-stage {
  min-width: 860px;
  height: 340px;
  position: relative;
}

body.pagina-resumo-ano .resumo-ano-line-canvas {
  width: 100%;
  height: 100%;
  display: block;
}

body.pagina-resumo-ano .resumo-ano-line-legenda {
  margin-top: 12px;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 10px;
}

body.pagina-resumo-ano .resumo-ano-line-legenda-item {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  border: 1px solid rgba(255, 255, 255, 0.14);
  border-radius: 999px;
  padding: 6px 12px;
  background: rgba(255, 255, 255, 0.05);
  color: var(--text-main);
  font-size: 0.79rem;
  font-weight: 800;
  letter-spacing: 0.14px;
}

body.pagina-resumo-ano .resumo-ano-line-legenda-item i {
  width: 18px;
  height: 4px;
  border-radius: 999px;
  background: var(--line-color, #60a5fa);
  box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.16);
}

body.light-mode.pagina-resumo-ano .resumo-ano-grafico-wrap {
  background:
    radial-gradient(120% 96% at 0% -10%, rgba(59, 130, 246, 0.16), transparent 58%),
    radial-gradient(90% 72% at 100% -6%, rgba(245, 158, 11, 0.09), transparent 60%),
    linear-gradient(180deg, rgba(255, 255, 255, 0.72), rgba(255, 255, 255, 0.34));
}

body.light-mode.pagina-resumo-ano .resumo-ano-line-wrap {
  border-color: rgba(83, 108, 148, 0.28);
  background: linear-gradient(180deg, rgba(246, 250, 255, 0.94), rgba(236, 243, 253, 0.82));
  box-shadow: 0 10px 22px rgba(45, 66, 100, 0.13), inset 0 1px 0 rgba(255, 255, 255, 0.7);
}

body.light-mode.pagina-resumo-ano .resumo-ano-line-legenda-item {
  border-color: rgba(83, 108, 148, 0.25);
  background: rgba(92, 123, 170, 0.09);
}

body.light-mode.pagina-resumo-ano .resumo-ano-line-legenda-item i {
  box-shadow: 0 0 0 1px rgba(72, 98, 138, 0.20);
}

@media (max-width: 960px) {
  body.pagina-resumo-ano .resumo-ano-line-wrap {
    min-width: 780px;
  }

  body.pagina-resumo-ano .resumo-ano-canvas-stage {
    min-width: 780px;
    height: 320px;
  }
}

@media (max-width: 760px) {
  body.pagina-resumo-ano .resumo-ano-line-wrap {
    min-width: 700px;
    padding: 9px 8px 7px;
  }

  body.pagina-resumo-ano .resumo-ano-canvas-stage {
    min-width: 700px;
    height: 296px;
  }

  body.pagina-resumo-ano .resumo-ano-line-legenda {
    margin-top: 10px;
    gap: 8px;
  }

  body.pagina-resumo-ano .resumo-ano-line-legenda-item {
    font-size: 0.75rem;
    padding: 5px 10px;
  }
}
/* =========================================
   Card Depth Upgrade
   ========================================= */
.card {
  border-radius: 24px;
  border: 1px solid color-mix(in srgb, var(--card-border) 82%, #ffffff 18%);
  box-shadow:
    0 16px 34px rgba(2, 6, 14, 0.34),
    0 2px 0 rgba(255, 255, 255, 0.06) inset,
    0 -14px 26px rgba(0, 0, 0, 0.12) inset;
}

.card::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.10) 0%, rgba(255, 255, 255, 0.00) 42%);
  opacity: 0.72;
}

.card:hover {
  transform: translateY(-6px) scale(1.015);
  filter: none;
  box-shadow:
    0 22px 40px rgba(2, 6, 14, 0.44),
    0 2px 0 rgba(255, 255, 255, 0.08) inset,
    0 -14px 26px rgba(0, 0, 0, 0.16) inset;
}

.dashboard-despesas .card {
  border-radius: 18px;
  box-shadow:
    0 10px 22px rgba(0, 0, 0, 0.20),
    0 1px 0 rgba(255, 255, 255, 0.05) inset;
}

.dashboard-despesas .card::after {
  content: none;
}

.resumo-ano-tabela-wrap,
.resumo-ano-grafico-wrap {
  border-radius: 20px;
  box-shadow:
    0 16px 30px rgba(0, 0, 0, 0.24),
    0 1px 0 rgba(255, 255, 255, 0.05) inset;
}

body.light-mode .card {
  border-color: rgba(91, 107, 135, 0.30);
  box-shadow:
    0 14px 28px rgba(33, 46, 71, 0.18),
    0 1px 0 rgba(255, 255, 255, 0.72) inset,
    0 -10px 18px rgba(173, 186, 209, 0.16) inset;
}

body.light-mode .card::after {
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.44) 0%, rgba(255, 255, 255, 0.00) 44%);
  opacity: 0.62;
}

body.light-mode .card:hover {
  transform: translateY(-4px) scale(1.012);
  box-shadow:
    0 18px 32px rgba(33, 46, 71, 0.22),
    0 1px 0 rgba(255, 255, 255, 0.75) inset,
    0 -10px 18px rgba(173, 186, 209, 0.20) inset;
}

body.light-mode .resumo-ano-tabela-wrap,
body.light-mode .resumo-ano-grafico-wrap {
  box-shadow:
    0 14px 26px rgba(45, 66, 100, 0.14),
    0 1px 0 rgba(255, 255, 255, 0.70) inset;
}

/* =========================================
   Cliente Card Depth
   ========================================= */
.cliente-card {
  padding: 16px;
  margin: 10px 10px 8px;
  border-radius: 16px;
  border: 1px solid color-mix(in srgb, var(--border-color) 78%, transparent);
  border-bottom: 1px solid color-mix(in srgb, var(--border-color) 78%, transparent) !important;
  box-shadow:
    0 14px 28px rgba(0, 0, 0, 0.20),
    0 1px 0 rgba(255, 255, 255, 0.05) inset;
  overflow: hidden;
  position: relative;
}

.cliente-card::before {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.05) 0%, rgba(255, 255, 255, 0) 46%);
}

.sub-lista .cliente-card:last-child {
  margin-bottom: 10px;
}

.atrasado-row.cliente-card {
  background: linear-gradient(180deg, rgba(136, 38, 34, 0.88), rgba(58, 16, 15, 0.94));
  border-left: 4px solid var(--danger);
}

.pendente-row.cliente-card {
  background: linear-gradient(180deg, rgba(130, 99, 24, 0.86), rgba(57, 44, 12, 0.93));
  border-left: 4px solid var(--warning);
}

.pago-row.cliente-card {
  background: linear-gradient(180deg, rgba(30, 106, 73, 0.86), rgba(13, 49, 34, 0.93));
  border-left: 4px solid var(--success);
}

.cliente-card-topo {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
}

.cliente-card-identificacao {
  min-width: 0;
}

.cliente-card-identificacao > strong {
  display: inline-block;
  line-height: 1.2;
}

.cliente-card-identificacao > small {
  display: inline-block;
  margin-top: 2px;
}

.cliente-atraso-badge {
  margin-top: 7px;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 9px;
  border-radius: 999px;
  border: 1px solid color-mix(in srgb, var(--danger) 36%, transparent);
  background: color-mix(in srgb, var(--danger) 14%, transparent);
  color: #ffd2d2;
  font-size: 0.75rem;
  font-weight: 700;
  letter-spacing: 0.01em;
  line-height: 1;
}

.cliente-atraso-badge i {
  color: #ff6b6b;
  font-size: 0.78rem;
}

.cliente-card .progress-container {
  margin: 12px 0 8px;
  height: 6px;
  background: rgba(10, 14, 23, 0.50);
}

.cliente-card .info-valores {
  margin-top: 8px;
  font-size: 0.82rem;
}

body.light-mode .cliente-card {
  border-color: rgba(124, 101, 58, 0.30);
  box-shadow:
    0 10px 20px rgba(74, 57, 28, 0.10),
    0 1px 0 rgba(255, 255, 255, 0.70) inset;
}

body.light-mode .cliente-card::before {
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.34) 0%, rgba(255, 255, 255, 0) 48%);
}

body.light-mode .atrasado-row.cliente-card {
  background: linear-gradient(180deg, rgba(245, 214, 210, 0.86), rgba(240, 206, 197, 0.76));
}

body.light-mode .pendente-row.cliente-card {
  background: linear-gradient(180deg, rgba(251, 236, 190, 0.88), rgba(247, 225, 170, 0.80));
}

body.light-mode .pago-row.cliente-card {
  background: linear-gradient(180deg, rgba(206, 240, 222, 0.88), rgba(185, 231, 208, 0.78));
}

body.light-mode .cliente-atraso-badge {
  border-color: rgba(196, 78, 78, 0.24);
  background: rgba(201, 74, 74, 0.09);
  color: #7d1f1f;
}

body.light-mode .cliente-atraso-badge i {
  color: #cc3c3c;
}

/* =========================================
   Despesas - Cores Classificadas
   ========================================= */
body.pagina-despesas .lista-item {
  border: 1px solid rgba(146, 163, 190, 0.22);
  border-left-width: 5px;
  border-radius: 14px;
  box-shadow:
    0 10px 20px rgba(0, 0, 0, 0.24),
    0 1px 0 rgba(255, 255, 255, 0.05) inset;
  transition: transform 170ms ease, box-shadow 190ms ease, border-color 190ms ease, background 220ms ease;
}

body.pagina-despesas .lista-item:hover {
  transform: translateY(-1px);
  box-shadow:
    0 14px 24px rgba(0, 0, 0, 0.30),
    0 1px 0 rgba(255, 255, 255, 0.06) inset;
}

body.pagina-despesas .lista-item.atrasado {
  background: linear-gradient(180deg, rgba(123, 34, 34, 0.80), rgba(56, 16, 16, 0.90));
  border-left-color: #ff6b6b;
  border-color: rgba(218, 98, 96, 0.38);
}

body.pagina-despesas .lista-item.pendente {
  background: linear-gradient(180deg, rgba(126, 96, 23, 0.78), rgba(60, 45, 12, 0.90));
  border-left-color: #f4c542;
  border-color: rgba(204, 161, 67, 0.36);
}

body.pagina-despesas .lista-item.pago {
  background: linear-gradient(180deg, rgba(28, 108, 74, 0.78), rgba(13, 51, 35, 0.90));
  border-left-color: #35cf90;
  border-color: rgba(68, 170, 120, 0.34);
}

body.pagina-despesas .lista-item.atrasado .despesa-valor {
  color: #ff9f99;
}

body.pagina-despesas .lista-item.pendente .despesa-valor {
  color: #ffd986;
}

body.pagina-despesas .lista-item.pago .despesa-valor {
  color: #7ff0bd;
}

body.light-mode.pagina-despesas .lista-item {
  border-color: rgba(136, 112, 72, 0.34);
  box-shadow:
    0 8px 16px rgba(74, 57, 28, 0.12),
    0 1px 0 rgba(255, 255, 255, 0.70) inset;
}

body.light-mode.pagina-despesas .lista-item.atrasado {
  background: linear-gradient(180deg, rgba(248, 219, 213, 0.92), rgba(242, 203, 195, 0.84));
  border-left-color: #b94f46;
  border-color: rgba(185, 79, 70, 0.36);
}

body.light-mode.pagina-despesas .lista-item.pendente {
  background: linear-gradient(180deg, rgba(251, 237, 197, 0.92), rgba(246, 226, 172, 0.84));
  border-left-color: #b8860b;
  border-color: rgba(166, 122, 31, 0.34);
}

body.light-mode.pagina-despesas .lista-item.pago {
  background: linear-gradient(180deg, rgba(214, 242, 226, 0.92), rgba(194, 234, 210, 0.84));
  border-left-color: #3f8b63;
  border-color: rgba(63, 139, 99, 0.32);
}

/* =========================================
   Despesas - Amanha em Azul
   ========================================= */
body.pagina-despesas .notificacoes-secao.notificacao-amanha .notificacoes-secao-titulo {
  color: #7fb6ff;
}

body.pagina-despesas .notificacoes-item.notificacao-amanha {
  background: linear-gradient(180deg, rgba(50, 95, 176, 0.46), rgba(18, 37, 76, 0.82));
  border-left-color: #5f9dff;
  border-color: rgba(95, 157, 255, 0.44);
}

body.pagina-despesas .notificacoes-item.notificacao-amanha .notificacoes-item-data {
  color: #b7c9e5;
}

body.pagina-despesas .notificacoes-item.notificacao-amanha .notificacoes-item-valor {
  color: #8fc2ff;
}

/* =========================================
   Despesas - Fundo Mais Transparente
   ========================================= */
body.pagina-despesas .lista-item.atrasado {
  background: linear-gradient(180deg, rgba(123, 34, 34, 0.50), rgba(56, 16, 16, 0.62));
}

body.pagina-despesas .lista-item.pendente {
  background: linear-gradient(180deg, rgba(126, 96, 23, 0.48), rgba(60, 45, 12, 0.60));
}

body.pagina-despesas .lista-item.pago {
  background: linear-gradient(180deg, rgba(28, 108, 74, 0.48), rgba(13, 51, 35, 0.60));
}

/* =========================================
   Despesas - Painel de Alertas Personalizado
   ========================================= */
body.pagina-despesas #notificacoes-despesas-painel.notificacoes-painel {
  width: min(356px, calc(100vw - 18px));
  border-radius: 16px;
  border: 1px solid rgba(129, 153, 191, 0.34);
  border-top: 1px solid rgba(129, 153, 191, 0.34);
  background:
    radial-gradient(circle at 88% -4%, rgba(95, 157, 255, 0.16), transparent 44%),
    linear-gradient(180deg, rgba(7, 14, 27, 0.96), rgba(6, 11, 20, 0.92));
  box-shadow: 0 16px 36px rgba(0, 0, 0, 0.36);
  padding: 11px 11px 9px;
}

body.pagina-despesas #notificacoes-despesas-painel .notificacoes-header {
  border: 1px solid rgba(129, 153, 191, 0.24);
  border-radius: 12px;
  padding: 8px 10px;
  margin-bottom: 9px;
  background: linear-gradient(180deg, rgba(95, 122, 169, 0.17), rgba(95, 122, 169, 0.08));
  color: #dce9ff;
}

body.pagina-despesas #notificacoes-despesas-painel .notificacoes-header i {
  color: #ffd35a;
}

body.pagina-despesas #notificacoes-despesas-painel .notificacoes-header strong {
  font-size: 0.82rem;
  letter-spacing: 0.45px;
}

body.pagina-despesas #notificacoes-despesas-painel .notificacoes-lista {
  gap: 8px;
}

body.pagina-despesas #notificacoes-despesas-painel .notificacoes-secao {
  margin-top: 3px;
}

body.pagina-despesas #notificacoes-despesas-painel .notificacoes-secao-titulo {
  display: inline-flex;
  align-items: center;
  gap: 7px;
  padding: 2px 2px 0;
  font-size: 0.79rem;
  letter-spacing: 0.45px;
}

body.pagina-despesas #notificacoes-despesas-painel .notificacoes-secao-titulo::before {
  content: '';
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: currentColor;
  opacity: 0.96;
}

body.pagina-despesas #notificacoes-despesas-painel .notificacoes-secao.notificacao-atrasada .notificacoes-secao-titulo {
  color: #ff8b87;
}

body.pagina-despesas #notificacoes-despesas-painel .notificacoes-secao.notificacao-hoje .notificacoes-secao-titulo {
  color: #ffd86f;
}

body.pagina-despesas #notificacoes-despesas-painel .notificacoes-secao.notificacao-amanha .notificacoes-secao-titulo {
  color: #80b7ff;
}

body.pagina-despesas #notificacoes-despesas-painel .notificacoes-item {
  border-left-width: 4px;
  border-radius: 12px;
  padding: 9px 10px;
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.20);
  transition: transform 160ms ease, box-shadow 180ms ease, border-color 180ms ease;
}

body.pagina-despesas #notificacoes-despesas-painel .notificacoes-item:hover {
  transform: translateY(-1px);
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.26);
}

body.pagina-despesas #notificacoes-despesas-painel .notificacoes-item.notificacao-atrasada {
  background: linear-gradient(180deg, rgba(120, 36, 34, 0.56), rgba(56, 16, 16, 0.78));
  border-left-color: #ff6f6a;
  border-color: rgba(233, 120, 113, 0.44);
}

body.pagina-despesas #notificacoes-despesas-painel .notificacoes-item.notificacao-hoje {
  background: linear-gradient(180deg, rgba(123, 95, 24, 0.54), rgba(60, 45, 13, 0.76));
  border-left-color: #f7c74f;
  border-color: rgba(217, 176, 76, 0.42);
}

body.pagina-despesas #notificacoes-despesas-painel .notificacoes-item.notificacao-amanha {
  background: linear-gradient(180deg, rgba(48, 93, 170, 0.54), rgba(18, 36, 74, 0.78));
  border-left-color: #5f9dff;
  border-color: rgba(95, 157, 255, 0.46);
}

body.pagina-despesas #notificacoes-despesas-painel .notificacoes-item-nome {
  font-size: 0.82rem;
  font-weight: 800;
  color: #f3f8ff;
}

body.pagina-despesas #notificacoes-despesas-painel .notificacoes-item-data {
  margin-top: 1px;
  font-size: 0.80rem;
  color: #b9c5da;
}

body.pagina-despesas #notificacoes-despesas-painel .notificacoes-item-valor {
  font-size: 0.89rem;
  font-weight: 900;
  border-radius: 10px;
  padding: 4px 8px;
  background: rgba(2, 5, 11, 0.24);
}

body.pagina-despesas #notificacoes-despesas-painel .notificacoes-item.notificacao-atrasada .notificacoes-item-valor {
  color: #ffaba7;
}

body.pagina-despesas #notificacoes-despesas-painel .notificacoes-item.notificacao-hoje .notificacoes-item-valor {
  color: #ffdc82;
}

body.pagina-despesas #notificacoes-despesas-painel .notificacoes-item.notificacao-amanha .notificacoes-item-valor {
  color: #9dc8ff;
}

body.light-mode.pagina-despesas #notificacoes-despesas-painel.notificacoes-painel {
  border-color: rgba(118, 138, 170, 0.30);
  background:
    radial-gradient(circle at 88% -4%, rgba(99, 146, 225, 0.16), transparent 44%),
    linear-gradient(180deg, rgba(245, 249, 255, 0.96), rgba(236, 243, 253, 0.94));
  box-shadow: 0 12px 24px rgba(44, 62, 80, 0.18);
}

body.light-mode.pagina-despesas #notificacoes-despesas-painel .notificacoes-header {
  border-color: rgba(118, 138, 170, 0.26);
  background: linear-gradient(180deg, rgba(124, 148, 188, 0.20), rgba(124, 148, 188, 0.10));
  color: #38527a;
}

body.light-mode.pagina-despesas #notificacoes-despesas-painel .notificacoes-item.notificacao-atrasada {
  background: linear-gradient(180deg, rgba(248, 219, 213, 0.96), rgba(241, 203, 195, 0.90));
}

body.light-mode.pagina-despesas #notificacoes-despesas-painel .notificacoes-item.notificacao-hoje {
  background: linear-gradient(180deg, rgba(251, 237, 197, 0.96), rgba(246, 226, 172, 0.90));
}

body.light-mode.pagina-despesas #notificacoes-despesas-painel .notificacoes-item.notificacao-amanha {
  background: linear-gradient(180deg, rgba(218, 231, 255, 0.96), rgba(200, 220, 252, 0.90));
}

body.light-mode.pagina-despesas #notificacoes-despesas-painel .notificacoes-item-nome {
  color: #33496d;
}

body.light-mode.pagina-despesas #notificacoes-despesas-painel .notificacoes-item-data {
  color: #60779d;
}

/* =========================================
   Novo Cadastro - Azul Pulsante
   ========================================= */
#btn-abrir-cadastro,
body.pagina-despesas #btn-abrir-cadastro,
body.executive-mode #btn-abrir-cadastro,
body.light-mode.pagina-despesas #btn-abrir-cadastro,
body.light-mode.executive-mode #btn-abrir-cadastro {
  background: linear-gradient(135deg, #3498db, #2980b9) !important;
  border-color: rgba(143, 211, 255, 0.62) !important;
  color: #ffffff !important;
  box-shadow: 0 10px 22px rgba(52, 152, 219, 0.34) !important;
  animation: pulse-glow 2s infinite, cadastro-pisca 1.6s ease-in-out infinite !important;
}

#btn-abrir-cadastro:hover,
body.pagina-despesas #btn-abrir-cadastro:hover,
body.executive-mode #btn-abrir-cadastro:hover,
body.light-mode.pagina-despesas #btn-abrir-cadastro:hover,
body.light-mode.executive-mode #btn-abrir-cadastro:hover {
  background: linear-gradient(135deg, #45a3de, #2f8fc8) !important;
  border-color: rgba(163, 222, 255, 0.72) !important;
  box-shadow: 0 12px 24px rgba(52, 152, 219, 0.38) !important;
}















/* =========================================
   RESUMO ANUAL - PALETA PADRONIZADA
   ========================================= */
body.pagina-resumo-ano {
  --resumo-ano-title-start: #dcecff;
  --resumo-ano-title-mid: #8ec7ff;
  --resumo-ano-title-end: #4d91e8;
  --resumo-ano-accent: #6cbcff;
  --resumo-ano-accent-strong: #338be4;
  --resumo-ano-panel-bg:
    radial-gradient(120% 88% at 0% -12%, rgba(72, 141, 224, 0.20), transparent 56%),
    linear-gradient(180deg, rgba(13, 20, 33, 0.95), rgba(9, 14, 24, 0.96));
  --resumo-ano-panel-border: rgba(107, 165, 232, 0.34);
  --resumo-ano-head-bg: rgba(52, 76, 112, 0.36);
  --resumo-ano-head-text: #cfe2ff;
  --resumo-ano-row-bg: rgba(10, 16, 28, 0.92);
  --resumo-ano-row-alt-bg: rgba(8, 13, 24, 0.95);
  --resumo-ano-row-hover-bg: rgba(19, 31, 49, 0.96);
  --resumo-ano-row-border: rgba(123, 154, 198, 0.24);
  --resumo-ano-mes: #d9e8ff;
  --resumo-ano-recebido: #89d3ff;
  --resumo-ano-pendente: #ffd486;
  --resumo-ano-despesas: #ffa39c;
  --resumo-ano-topo-outline: rgba(112, 185, 255, 0.72);
  --resumo-ano-control-bg: rgba(20, 31, 49, 0.86);
  --resumo-ano-control-border: rgba(103, 146, 209, 0.40);
  --resumo-ano-control-hover-bg: rgba(28, 46, 72, 0.90);
  --resumo-ano-control-hover-border: rgba(126, 187, 255, 0.72);
  --resumo-ano-subtitulo: #c0d3ef;
  --resumo-ano-serie-recebido: #4da4ff;
  --resumo-ano-serie-despesas: #ff9150;
  --resumo-ano-serie-lucro: #7cd7b5;
  --resumo-ano-serie-pendente: #f2c54f;
}

body.light-mode.pagina-resumo-ano {
  --resumo-ano-title-start: #35588e;
  --resumo-ano-title-mid: #2f74ba;
  --resumo-ano-title-end: #2692dc;
  --resumo-ano-accent: #3f90de;
  --resumo-ano-accent-strong: #2d74bb;
  --resumo-ano-panel-bg:
    radial-gradient(120% 90% at 0% -12%, rgba(96, 148, 216, 0.22), transparent 58%),
    linear-gradient(180deg, rgba(247, 251, 255, 0.96), rgba(237, 245, 255, 0.94));
  --resumo-ano-panel-border: rgba(109, 141, 191, 0.34);
  --resumo-ano-head-bg: rgba(93, 129, 181, 0.18);
  --resumo-ano-head-text: #3a5f92;
  --resumo-ano-row-bg: rgba(245, 250, 255, 0.96);
  --resumo-ano-row-alt-bg: rgba(238, 246, 255, 0.98);
  --resumo-ano-row-hover-bg: rgba(225, 238, 255, 0.96);
  --resumo-ano-row-border: rgba(117, 145, 188, 0.26);
  --resumo-ano-mes: #2f5f96;
  --resumo-ano-recebido: #2f7dca;
  --resumo-ano-pendente: #a16c24;
  --resumo-ano-despesas: #ac4f4c;
  --resumo-ano-topo-outline: rgba(82, 128, 192, 0.62);
  --resumo-ano-control-bg: rgba(227, 237, 252, 0.88);
  --resumo-ano-control-border: rgba(99, 132, 181, 0.38);
  --resumo-ano-control-hover-bg: rgba(214, 229, 250, 0.96);
  --resumo-ano-control-hover-border: rgba(67, 115, 179, 0.64);
  --resumo-ano-subtitulo: #4f678b;
  --resumo-ano-serie-recebido: #2f7dca;
  --resumo-ano-serie-despesas: #db7a42;
  --resumo-ano-serie-lucro: #2f9f7a;
  --resumo-ano-serie-pendente: #bc8f2f;
}

body.pagina-resumo-ano #titulo-resumo-ano {
  background: linear-gradient(90deg, var(--resumo-ano-title-start) 0%, var(--resumo-ano-title-mid) 48%, var(--resumo-ano-title-end) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

body.pagina-resumo-ano #titulo-resumo-ano::after {
  background: linear-gradient(90deg, var(--resumo-ano-accent), var(--resumo-ano-accent-strong));
}

body.pagina-resumo-ano .subtitulo-resumo-ano {
  color: var(--resumo-ano-subtitulo);
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.28);
}

body.pagina-resumo-ano .resumo-ano-tabela-wrap,
body.pagina-resumo-ano .resumo-ano-grafico-wrap {
  background: var(--resumo-ano-panel-bg);
  border-color: var(--resumo-ano-panel-border);
}

body.pagina-resumo-ano .resumo-ano-tabela-controles select,
body.pagina-resumo-ano .resumo-ano-grafico-controles select,
body.pagina-resumo-ano .btn-resumo-grafico,
body.pagina-resumo-ano .btn-resumo-ordenar,
body.pagina-resumo-ano .btn-mini {
  background: var(--resumo-ano-control-bg);
  border-color: var(--resumo-ano-control-border);
}

body.pagina-resumo-ano .btn-resumo-grafico:hover,
body.pagina-resumo-ano .btn-resumo-ordenar:hover,
body.pagina-resumo-ano .btn-mini:hover {
  background: var(--resumo-ano-control-hover-bg);
  border-color: var(--resumo-ano-control-hover-border);
}

body.pagina-resumo-ano .btn-mini:hover {
  color: var(--resumo-ano-accent);
}

body.pagina-resumo-ano .btn-mini-alt:hover {
  border-color: var(--resumo-ano-despesas);
  color: var(--resumo-ano-despesas);
}

body.pagina-resumo-ano .btn-mini-eco:hover {
  border-color: var(--resumo-ano-pendente);
  color: color-mix(in srgb, var(--resumo-ano-pendente) 88%, #ffffff);
}

body.pagina-resumo-ano .resumo-ano-tabela th,
body.pagina-resumo-ano .resumo-ano-tabela td {
  border-bottom-color: var(--resumo-ano-row-border);
}

body.pagina-resumo-ano .resumo-ano-tabela th {
  background: var(--resumo-ano-head-bg);
  color: var(--resumo-ano-head-text);
}

body.pagina-resumo-ano .resumo-ano-tabela td {
  background: var(--resumo-ano-row-bg);
}

body.pagina-resumo-ano .resumo-ano-tabela tbody tr:nth-child(even) td {
  background: var(--resumo-ano-row-alt-bg);
}

body.pagina-resumo-ano .resumo-ano-tabela tbody tr:hover td {
  background: var(--resumo-ano-row-hover-bg);
}

body.pagina-resumo-ano .resumo-ano-tabela[data-metrica-ordenacao="mes"] thead th:nth-child(1),
body.pagina-resumo-ano .resumo-ano-tabela[data-metrica-ordenacao="mes"] tbody td:nth-child(1) {
  color: var(--resumo-ano-mes);
}

body.pagina-resumo-ano .resumo-ano-tabela[data-metrica-ordenacao="recebido"] thead th:nth-child(2),
body.pagina-resumo-ano .resumo-ano-tabela[data-metrica-ordenacao="recebido"] tbody td:nth-child(2) {
  color: var(--resumo-ano-recebido);
}

body.pagina-resumo-ano .resumo-ano-tabela[data-metrica-ordenacao="pendente"] thead th:nth-child(3),
body.pagina-resumo-ano .resumo-ano-tabela[data-metrica-ordenacao="pendente"] tbody td:nth-child(3) {
  color: var(--resumo-ano-pendente);
}

body.pagina-resumo-ano .resumo-ano-tabela[data-metrica-ordenacao="despesasPagas"] thead th:nth-child(5),
body.pagina-resumo-ano .resumo-ano-tabela[data-metrica-ordenacao="despesasPagas"] tbody td:nth-child(5) {
  color: var(--resumo-ano-despesas);
}

body.pagina-resumo-ano .resumo-ano-tabela[data-metrica-ordenacao="mes"] .resumo-tabela-linha-topo td:nth-child(1),
body.pagina-resumo-ano .resumo-ano-tabela[data-metrica-ordenacao="recebido"] .resumo-tabela-linha-topo td:nth-child(2),
body.pagina-resumo-ano .resumo-ano-tabela[data-metrica-ordenacao="pendente"] .resumo-tabela-linha-topo td:nth-child(3),
body.pagina-resumo-ano .resumo-ano-tabela[data-metrica-ordenacao="liquido"] .resumo-tabela-linha-topo td:nth-child(4),
body.pagina-resumo-ano .resumo-ano-tabela[data-metrica-ordenacao="despesasPagas"] .resumo-tabela-linha-topo td:nth-child(5) {
  box-shadow: inset 0 0 0 1px var(--resumo-ano-topo-outline);
}

body.pagina-resumo-ano .resumo-ano-grafico-titulo {
  color: var(--resumo-ano-head-text);
}

body.pagina-resumo-ano .resumo-ano-insights,
body.pagina-resumo-ano .resumo-ano-melhor-mes.destaque-neutro,
body.pagina-resumo-ano .resumo-ano-coluna-mes,
body.pagina-resumo-ano .resumo-ano-coluna-valor.neutro {
  color: color-mix(in srgb, var(--resumo-ano-head-text) 84%, var(--text-main));
}

body.pagina-resumo-ano .resumo-ano-line-wrap {
  border-color: var(--resumo-ano-control-border);
  background: linear-gradient(
    180deg,
    color-mix(in srgb, var(--resumo-ano-row-bg) 92%, transparent),
    color-mix(in srgb, var(--resumo-ano-row-alt-bg) 92%, transparent)
  );
}

body.pagina-resumo-ano .resumo-ano-line-legenda-item {
  border-color: var(--resumo-ano-control-border);
  background: color-mix(in srgb, var(--resumo-ano-control-bg) 84%, transparent);
}

body.pagina-resumo-ano .resumo-ano-line-legenda-item i {
  box-shadow: 0 0 0 1px color-mix(in srgb, var(--resumo-ano-control-border) 76%, transparent);
}

/* =========================================
   HARMONIZACAO VISUAL GLOBAL (CONFORTO)
   ========================================= */
:root {
  --primary: #56a8f2;
  --primary-soft: #7ec2ff;
  --success: #46bf8d;
  --warning: #d9ae5a;
  --danger: #de766f;
  --highlight-value-main: #efd38e;
  --highlight-value-positive: #7ad9ae;
  --highlight-value-negative: #f3a59f;
  --highlight-value-warning: #f3c968;

  --bg-body: #0b111a;
  --bg-surface: #121b29;
  --bg-card: rgba(20, 31, 47, 0.76);
  --bg-input: #172438;
  --bg-sublista: #111a29;

  --text-main: #e8eef8;
  --text-muted: #a5b4c9;
  --text-destaque: #f3f7ff;

  --border-color: rgba(130, 157, 194, 0.30);
  --card-border: rgba(154, 177, 214, 0.20);
  --card-value-shadow: 0 1px 6px rgba(2, 8, 18, 0.22);
  --btn-neutral: #455b73;

  --dark-sidebar: linear-gradient(180deg, #0a111b 0%, #0d1623 54%, #112031 100%);
  --sidebar-btn-bg: rgba(17, 27, 42, 0.82);
  --sidebar-btn-border: rgba(140, 168, 205, 0.28);
  --sidebar-btn-text: #e8f1ff;
  --sidebar-btn-hover-bg: rgba(28, 43, 64, 0.94);
}

body.light-mode {
  --primary: #3f84d3;
  --primary-soft: #66a8ea;
  --success: #2f8f68;
  --warning: #9b7027;
  --danger: #b95853;
  --highlight-value-main: #7f5d2f;
  --highlight-value-positive: #2f765a;
  --highlight-value-negative: #874343;
  --highlight-value-warning: #976a1f;

  --bg-body: #dfe8f4;
  --bg-surface: #f4f8ff;
  --bg-card: rgba(252, 255, 255, 0.90);
  --bg-input: #f8fbff;
  --bg-sublista: #eef4fd;

  --text-main: #22364d;
  --text-muted: #5a6f8c;
  --text-destaque: #1c2f45;

  --border-color: rgba(101, 130, 170, 0.30);
  --card-border: rgba(100, 126, 161, 0.24);
  --card-value-shadow: none;

  --dark-sidebar: linear-gradient(180deg, #4f607b 0%, #45566f 100%);
  --sidebar-btn-bg: rgba(255, 255, 255, 0.12);
  --sidebar-btn-border: rgba(220, 231, 245, 0.36);
  --sidebar-btn-text: #edf3ff;
  --sidebar-btn-hover-bg: rgba(255, 255, 255, 0.20);
}

body {
  color-scheme: dark;
  background-image:
    radial-gradient(100% 76% at 0% -18%, rgba(72, 130, 204, 0.16), transparent 62%),
    radial-gradient(88% 72% at 100% -16%, rgba(235, 179, 82, 0.08), transparent 64%);
  background-attachment: fixed;
}

body.light-mode {
  color-scheme: light;
  background-image:
    radial-gradient(100% 80% at 0% -18%, rgba(105, 151, 214, 0.20), transparent 62%),
    radial-gradient(88% 74% at 100% -16%, rgba(212, 170, 97, 0.10), transparent 66%);
}

.main-content,
.modal-content,
.painel-economias,
.item-agrupado,
.resumo-ano-tabela-wrap,
.resumo-ano-grafico-wrap,
.resumo-economias-tabela-wrap,
.resumo-economias-grafico-wrap {
  border-color: color-mix(in srgb, var(--border-color) 88%, transparent);
  box-shadow: 0 12px 26px rgba(4, 10, 19, 0.24);
}

body.light-mode .main-content,
body.light-mode .modal-content,
body.light-mode .painel-economias,
body.light-mode .item-agrupado,
body.light-mode .resumo-ano-tabela-wrap,
body.light-mode .resumo-ano-grafico-wrap,
body.light-mode .resumo-economias-tabela-wrap,
body.light-mode .resumo-economias-grafico-wrap {
  box-shadow: 0 10px 22px rgba(38, 59, 90, 0.14);
}

.card {
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

.card h3 {
  color: color-mix(in srgb, var(--text-main) 82%, var(--text-muted));
}

.card:hover {
  transform: translateY(-3px) scale(1.01);
  filter: none;
}

.card-atrasado h3,
.dashboard-despesas .card-pagar h3 {
  color: #f09189;
}

.card-pendente h3,
.dashboard-despesas .card-geral h3 {
  color: #ebc56f;
}

.card-recebido h3,
.dashboard-despesas .card-pago h3 {
  color: #77d8ac;
}

body.light-mode .card-atrasado h3,
body.light-mode .dashboard-despesas .card-pagar h3 {
  color: #9f4b48;
}

body.light-mode .card-pendente h3,
body.light-mode .dashboard-despesas .card-geral h3 {
  color: #8d6728;
}

body.light-mode .card-recebido h3,
body.light-mode .dashboard-despesas .card-pago h3 {
  color: #2f7158;
}

.busca-container input,
.form-grid input,
.form-edit input,
select,
textarea,
#valor-operacao,
#desc-operacao,
#valor-poupanca,
#desc-poupanca,
#buscaNome {
  background: color-mix(in srgb, var(--bg-input) 92%, transparent);
  border-color: color-mix(in srgb, var(--border-color) 80%, transparent);
  color: var(--text-main);
}

.busca-container input::placeholder,
.form-grid input::placeholder,
.form-edit input::placeholder,
textarea::placeholder {
  color: color-mix(in srgb, var(--text-muted) 88%, transparent);
}

.busca-container input:focus,
.form-grid input:focus,
.form-edit input:focus,
select:focus,
textarea:focus,
#valor-operacao:focus,
#desc-operacao:focus,
#valor-poupanca:focus,
#desc-poupanca:focus,
#buscaNome:focus {
  border-color: color-mix(in srgb, var(--primary) 84%, #ffffff);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--primary) 24%, transparent);
}

.tab-btn,
.tab-eco {
  background: color-mix(in srgb, var(--bg-card) 92%, transparent);
  border-color: color-mix(in srgb, var(--border-color) 80%, transparent);
}

.tab-btn:hover,
.tab-eco:hover {
  border-color: color-mix(in srgb, var(--primary) 72%, #cfe7ff);
  color: color-mix(in srgb, var(--primary-soft) 80%, #ffffff);
}

.tab-btn.active,
.tab-eco.active,
body:not(.pagina-despesas):not(.pagina-economias):not(.pagina-resumo-ano) .tabs .tab-btn.active,
body:not(.pagina-despesas):not(.pagina-economias):not(.pagina-resumo-ano) .tabs .tab-btn.active:hover {
  background: linear-gradient(135deg, color-mix(in srgb, var(--primary) 92%, #101726), color-mix(in srgb, var(--primary-soft) 64%, #17233a));
  border-color: color-mix(in srgb, var(--primary) 70%, rgba(255, 255, 255, 0.25));
  color: #f5faff;
  box-shadow: 0 6px 16px color-mix(in srgb, var(--primary) 24%, transparent);
}

.btn-card,
.btn-backup,
.btn-tema-toggle,
.btn-configuracoes-toggle,
.btn-reset {
  border-color: color-mix(in srgb, var(--sidebar-btn-border) 88%, transparent);
}

.btn-voltar-sidebar:hover,
.btn-resumo-ano-sidebar:hover {
  border-color: color-mix(in srgb, var(--primary) 72%, #ffffff);
  color: color-mix(in srgb, var(--primary-soft) 84%, #ffffff);
}

.btn-economias:hover {
  border-color: color-mix(in srgb, var(--success) 68%, #d9ffed);
  color: #9df2cd;
}

.btn-despesas:hover {
  border-color: color-mix(in srgb, var(--danger) 68%, #ffd7d3);
  color: #ffb0aa;
}

body.light-mode .btn-voltar-sidebar:hover,
body.light-mode .btn-resumo-ano-sidebar:hover,
body.light-mode .btn-economias:hover,
body.light-mode .btn-despesas:hover {
  color: #f6fbff;
}

body:not(.light-mode) .atrasado-row {
  background: rgba(133, 47, 45, 0.28);
  border-left-color: #df766f;
}

body:not(.light-mode) .pendente-row {
  background: rgba(128, 97, 38, 0.28);
  border-left-color: #d6ad5a;
}

body:not(.light-mode) .pago-row {
  background: rgba(36, 112, 83, 0.28);
  border-left-color: #56c696;
}

body.light-mode .sub-lista,
body.light-mode .item-agrupado,
body.light-mode .pasta-header-parcela {
  background: linear-gradient(180deg, rgba(243, 248, 255, 0.96), rgba(233, 241, 252, 0.94));
  border-color: rgba(109, 140, 184, 0.28);
  color: #314965;
}

body.light-mode .pasta-header-parcela span:last-child {
  background: rgba(218, 230, 248, 0.90) !important;
  color: #3e5f8d !important;
  border-color: rgba(98, 130, 174, 0.30);
}

body.pagina-despesas .lista-item {
  border-color: rgba(126, 151, 187, 0.34);
  box-shadow: 0 10px 20px rgba(4, 10, 19, 0.20);
}

body.pagina-despesas .lista-item.atrasado {
  background: linear-gradient(180deg, rgba(128, 39, 38, 0.44), rgba(58, 17, 17, 0.60));
  border-left-color: #e07f77;
}

body.pagina-despesas .lista-item.pendente {
  background: linear-gradient(180deg, rgba(120, 89, 28, 0.44), rgba(56, 41, 12, 0.60));
  border-left-color: #dfb65f;
}

body.pagina-despesas .lista-item.pago {
  background: linear-gradient(180deg, rgba(27, 100, 71, 0.44), rgba(12, 47, 33, 0.60));
  border-left-color: #62ca9e;
}

body.light-mode.pagina-despesas .lista-item {
  background: linear-gradient(180deg, rgba(248, 252, 255, 0.97), rgba(238, 245, 255, 0.94));
  border-color: rgba(106, 136, 180, 0.30);
  box-shadow: 0 8px 16px rgba(44, 61, 92, 0.14);
}

body.light-mode.pagina-despesas .lista-item.atrasado {
  background: linear-gradient(180deg, rgba(249, 230, 228, 0.95), rgba(243, 216, 212, 0.90));
  border-left-color: #bf625b;
}

body.light-mode.pagina-despesas .lista-item.pendente {
  background: linear-gradient(180deg, rgba(250, 240, 213, 0.95), rgba(245, 231, 192, 0.90));
  border-left-color: #b28330;
}

body.light-mode.pagina-despesas .lista-item.pago {
  background: linear-gradient(180deg, rgba(225, 244, 234, 0.95), rgba(204, 234, 220, 0.90));
  border-left-color: #468f70;
}

.notificacoes-trigger {
  background: color-mix(in srgb, var(--bg-card) 90%, transparent);
  border-color: color-mix(in srgb, var(--border-color) 82%, transparent);
}

.notificacoes-painel {
  border-color: color-mix(in srgb, var(--border-color) 78%, transparent);
  background: linear-gradient(180deg, color-mix(in srgb, var(--bg-surface) 96%, #1a2435), color-mix(in srgb, var(--bg-surface) 92%, #111b29));
  box-shadow: 0 14px 28px rgba(3, 8, 16, 0.36);
}

.notificacoes-item {
  border-color: color-mix(in srgb, var(--border-color) 72%, transparent);
  background: color-mix(in srgb, var(--bg-card) 84%, rgba(10, 16, 26, 0.74));
}

.notificacoes-item.notificacao-atrasada {
  border-left-color: #df7a72;
}

.notificacoes-item.notificacao-hoje {
  border-left-color: #dfb55d;
}

.notificacoes-item.notificacao-amanha {
  border-left-color: #7eaff0;
}

body.light-mode .notificacoes-painel {
  background: linear-gradient(180deg, rgba(247, 251, 255, 0.98), rgba(237, 245, 255, 0.96));
  box-shadow: 0 12px 22px rgba(44, 62, 87, 0.18);
}

body.light-mode .notificacoes-item {
  background: rgba(243, 248, 255, 0.92);
}

#btn-abrir-cadastro,
body.pagina-despesas #btn-abrir-cadastro,
body.executive-mode #btn-abrir-cadastro,
body.light-mode.pagina-despesas #btn-abrir-cadastro,
body.light-mode.executive-mode #btn-abrir-cadastro {
  background: linear-gradient(135deg, #3f8fe0, #357bc3) !important;
  border-color: rgba(150, 204, 255, 0.60) !important;
  box-shadow: 0 8px 20px rgba(47, 121, 194, 0.30) !important;
  animation: pulse-glow-soft 3.4s ease-out infinite !important;
}

#btn-abrir-cadastro:hover,
body.pagina-despesas #btn-abrir-cadastro:hover,
body.executive-mode #btn-abrir-cadastro:hover,
body.light-mode.pagina-despesas #btn-abrir-cadastro:hover,
body.light-mode.executive-mode #btn-abrir-cadastro:hover {
  background: linear-gradient(135deg, #4a99e6, #3f8fd9) !important;
  border-color: rgba(172, 217, 255, 0.70) !important;
  box-shadow: 0 10px 24px rgba(47, 121, 194, 0.34) !important;
}

@keyframes pulse-glow-soft {
  0% {
    box-shadow: 0 0 0 0 rgba(63, 143, 221, 0.34);
  }
  70% {
    box-shadow: 0 0 0 10px rgba(63, 143, 221, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(63, 143, 221, 0);
  }
}

/* Ajustes finos de consistencia (light-mode + executivo) */
body.light-mode .tab-btn:hover,
body.light-mode .tab-eco:hover {
  color: #2f5f99;
  border-color: rgba(92, 133, 196, 0.52);
}

body.light-mode .tab-btn.active,
body.light-mode .tab-eco.active,
body.light-mode:not(.pagina-despesas):not(.pagina-economias):not(.pagina-resumo-ano) .tabs .tab-btn.active,
body.light-mode:not(.pagina-despesas):not(.pagina-economias):not(.pagina-resumo-ano) .tabs .tab-btn.active:hover {
  background: linear-gradient(135deg, #4f8fdb, #3f78bf);
  border-color: rgba(79, 126, 191, 0.66);
  color: #ffffff;
  box-shadow: 0 6px 14px rgba(53, 97, 160, 0.28);
}

body.light-mode .atrasado-row {
  background: rgba(244, 220, 217, 0.84);
  border-left-color: #c0645d;
}

body.light-mode .pendente-row {
  background: rgba(248, 237, 208, 0.84);
  border-left-color: #b98935;
}

body.light-mode .pago-row {
  background: rgba(220, 241, 228, 0.84);
  border-left-color: #4b9474;
}

body.executive-mode {
  --highlight-value-main: #e9cd8b;
  --highlight-value-positive: #70cca5;
  --highlight-value-negative: #f1a19a;
  --bg-card: rgba(18, 24, 34, 0.80);
  --border-color: rgba(188, 156, 89, 0.30);
}

body.light-mode.executive-mode {
  --bg-card: rgba(255, 255, 255, 0.92);
  --border-color: rgba(133, 108, 64, 0.30);
  --text-main: #2d3a4e;
  --text-muted: #60718b;
}

/* =========================================
   RESUMO ANUAL - CORES PERSONALIZADAS DOS NUMEROS
   ========================================= */
body.pagina-resumo-ano {
  --resumo-num-recebido: #7ec5ff;
  --resumo-num-pendente: #efc878;
  --resumo-num-lucro-pos: #78d6a9;
  --resumo-num-lucro-neg: #f09a92;
  --resumo-num-lucro-neutro: #d0dcef;
  --resumo-num-despesas: #b6c5dd;
}

body.light-mode.pagina-resumo-ano {
  --resumo-num-recebido: #2f7cc7;
  --resumo-num-pendente: #9c6d28;
  --resumo-num-lucro-pos: #2f8f68;
  --resumo-num-lucro-neg: #ab4e48;
  --resumo-num-lucro-neutro: #5a6f8a;
  --resumo-num-despesas: #5a6d86;
}

body.light-mode.executive-mode.pagina-resumo-ano {
  --resumo-num-recebido: #2f78bf;
  --resumo-num-pendente: #88642a;
  --resumo-num-lucro-pos: #2f7a5d;
  --resumo-num-lucro-neg: #944843;
  --resumo-num-lucro-neutro: #655946;
  --resumo-num-despesas: #6d604c;
}

body.pagina-resumo-ano .resumo-ano-tabela thead th:nth-child(2) {
  color: color-mix(in srgb, var(--resumo-num-recebido) 78%, var(--text-main));
}

body.pagina-resumo-ano .resumo-ano-tabela thead th:nth-child(3) {
  color: color-mix(in srgb, var(--resumo-num-pendente) 76%, var(--text-main));
}

body.pagina-resumo-ano .resumo-ano-tabela thead th:nth-child(4) {
  color: color-mix(in srgb, var(--resumo-num-lucro-neutro) 74%, var(--text-main));
}

body.pagina-resumo-ano .resumo-ano-tabela thead th:nth-child(5) {
  color: color-mix(in srgb, var(--resumo-num-despesas) 78%, var(--text-main));
}

body.pagina-resumo-ano .resumo-ano-tabela tbody td:nth-child(2),
body.pagina-resumo-ano .resumo-ano-tabela tbody td:nth-child(3),
body.pagina-resumo-ano .resumo-ano-tabela tbody td:nth-child(4),
body.pagina-resumo-ano .resumo-ano-tabela tbody td:nth-child(5) {
  font-variant-numeric: tabular-nums;
}

body.pagina-resumo-ano .resumo-ano-tabela tbody td:nth-child(2) {
  color: var(--resumo-num-recebido);
  font-weight: 800;
}

body.pagina-resumo-ano .resumo-ano-tabela tbody td:nth-child(3) {
  color: var(--resumo-num-pendente);
  font-weight: 700;
}

body.pagina-resumo-ano .resumo-ano-tabela tbody td:nth-child(5) {
  color: var(--resumo-num-despesas);
  font-weight: 700;
}

body.pagina-resumo-ano .resumo-ano-tabela tbody td:nth-child(4):not(.resumo-liquido-positivo):not(.resumo-liquido-negativo) {
  color: var(--resumo-num-lucro-neutro);
  font-weight: 700;
}

body.pagina-resumo-ano .resumo-liquido-positivo {
  color: var(--resumo-num-lucro-pos);
  font-weight: 800;
}

body.pagina-resumo-ano .resumo-liquido-negativo {
  color: var(--resumo-num-lucro-neg);
  font-weight: 800;
}

body:not(.light-mode).pagina-resumo-ano .resumo-ano-tabela tbody td:nth-child(2),
body:not(.light-mode).pagina-resumo-ano .resumo-ano-tabela tbody td:nth-child(3),
body:not(.light-mode).pagina-resumo-ano .resumo-ano-tabela tbody td:nth-child(5),
body:not(.light-mode).pagina-resumo-ano .resumo-liquido-positivo,
body:not(.light-mode).pagina-resumo-ano .resumo-liquido-negativo {
  text-shadow: 0 1px 1px rgba(0, 0, 0, 0.22);
}

body.light-mode.pagina-resumo-ano .resumo-ano-tabela tbody td:nth-child(2),
body.light-mode.pagina-resumo-ano .resumo-ano-tabela tbody td:nth-child(3),
body.light-mode.pagina-resumo-ano .resumo-ano-tabela tbody td:nth-child(5),
body.light-mode.pagina-resumo-ano .resumo-liquido-positivo,
body.light-mode.pagina-resumo-ano .resumo-liquido-negativo {
  text-shadow: none;
}

/* =========================================
   CORRECAO RAPIDA - BOTAO CADASTRO (INDEX + DESPESAS)
   ========================================= */
body:not(.pagina-despesas) #btn-abrir-cadastro {
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
  transform: none;
  filter: none;
  animation: pulse-glow-soft 3.4s ease-out infinite !important;
}

body.pagina-despesas #btn-abrir-cadastro,
body.light-mode.pagina-despesas #btn-abrir-cadastro,
body.executive-mode.pagina-despesas #btn-abrir-cadastro,
body.light-mode.executive-mode.pagina-despesas #btn-abrir-cadastro {
  background: linear-gradient(135deg, #df4a3d, #b83228) !important;
  border-color: rgba(245, 134, 124, 0.62) !important;
  color: #ffffff !important;
  box-shadow: 0 10px 22px rgba(192, 54, 44, 0.34) !important;
  animation: pulse-glow-despesas 2.2s ease-out infinite !important;
}

body.pagina-despesas #btn-abrir-cadastro:hover,
body.light-mode.pagina-despesas #btn-abrir-cadastro:hover,
body.executive-mode.pagina-despesas #btn-abrir-cadastro:hover,
body.light-mode.executive-mode.pagina-despesas #btn-abrir-cadastro:hover {
  background: linear-gradient(135deg, #ea5a4e, #c93a2f) !important;
  border-color: rgba(252, 152, 143, 0.72) !important;
  box-shadow: 0 12px 24px rgba(192, 54, 44, 0.38) !important;
}

/* =========================================
   NOTIFICACOES - EXPANSAO PARA ESQUERDA
   ========================================= */
.notificacoes-painel {
  top: 10px !important;
  right: 10px !important;
  transform-origin: top right;
  overflow: hidden;
}

.notificacoes-painel:not([hidden]) {
  animation: notificacoes-expandir-esquerda 280ms var(--motion-cinema) both;
}

.notificacoes-hoje.aberto .notificacoes-trigger {
  opacity: 0;
  transform: scale(0.86);
  pointer-events: none;
}

@keyframes notificacoes-expandir-esquerda {
  0% {
    opacity: 0;
    transform: translateX(6px) scaleX(0.14);
  }
  60% {
    opacity: 1;
    transform: translateX(0) scaleX(1.02);
  }
  100% {
    opacity: 1;
    transform: translateX(0) scaleX(1);
  }
}

@media (max-width: 768px) {
  .notificacoes-painel {
    top: 60px !important;
  }

  .notificacoes-hoje.aberto .notificacoes-trigger {
    opacity: 1;
    transform: none;
    pointer-events: auto;
  }
}

@media (prefers-reduced-motion: reduce) {
  .notificacoes-painel:not([hidden]) {
    animation: none !important;
  }
}

/* =========================================
   IMPORTACAO POR COLAGEM
   ========================================= */
.configuracoes-menu.expanded .configuracoes-menu-conteudo {
  max-height: 520px;
}

.btn-backup-sheet {
  background: linear-gradient(135deg, rgba(52, 152, 219, 0.30), rgba(25, 101, 168, 0.20));
  color: #e9f5ff;
  border-color: rgba(92, 180, 255, 0.52);
  box-shadow: 0 8px 18px rgba(36, 112, 176, 0.24);
}

body.light-mode .btn-backup-sheet {
  background: linear-gradient(135deg, rgba(52, 152, 219, 0.24), rgba(25, 101, 168, 0.16));
  color: #0e2f4a;
  border-color: rgba(55, 140, 204, 0.48);
  box-shadow: 0 8px 18px rgba(36, 112, 176, 0.18);
}

.btn-backup-paste {
  background: linear-gradient(135deg, rgba(145, 105, 224, 0.30), rgba(98, 66, 178, 0.18));
  color: #f3edff;
  border-color: rgba(170, 134, 236, 0.52);
  box-shadow: 0 8px 18px rgba(104, 67, 181, 0.24);
}

body.light-mode .btn-backup-paste {
  background: linear-gradient(135deg, rgba(126, 108, 206, 0.28), rgba(104, 88, 188, 0.18));
  color: #ffffff;
  border-color: rgba(112, 94, 185, 0.56);
  box-shadow: 0 8px 18px rgba(84, 69, 154, 0.24);
}
.modal-importacao-colagem .modal-content {
  width: min(760px, calc(100vw - 24px));
  max-width: 760px;
  padding: 24px 24px 20px;
  border-radius: 18px;
  border: 1px solid color-mix(in srgb, var(--border-color) 84%, rgba(255, 255, 255, 0.26));
  background:
    radial-gradient(120% 92% at 0% -10%, color-mix(in srgb, #7d95ff 18%, transparent), transparent 60%),
    linear-gradient(180deg, color-mix(in srgb, var(--bg-surface) 96%, #0d1728), color-mix(in srgb, var(--bg-surface) 93%, #091321));
  box-shadow: 0 24px 46px rgba(3, 10, 22, 0.46);
}

.modal-importacao-colagem h3 {
  margin: 0 0 10px;
  display: flex;
  align-items: center;
  gap: 10px;
  color: #eef5ff;
  font-size: 1.92rem;
  letter-spacing: -0.01em;
}

.modal-importacao-colagem h3::before {
  content: '\f0ea';
  font-family: 'Font Awesome 6 Free';
  font-weight: 900;
  width: 30px;
  height: 30px;
  border-radius: 9px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: #cfe4ff;
  border: 1px solid rgba(112, 170, 238, 0.56);
  background: linear-gradient(145deg, rgba(41, 84, 150, 0.7), rgba(33, 67, 120, 0.66));
}

.modal-importacao-colagem .close-modal {
  top: 12px;
  right: 12px;
  width: 34px;
  height: 34px;
  border-radius: 10px;
  border: 1px solid rgba(107, 146, 202, 0.5);
  background: rgba(12, 26, 49, 0.74);
  color: #d5e8ff;
  font-size: 1.22rem;
  line-height: 1;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  transition: transform 180ms ease, border-color 180ms ease, background 180ms ease, color 180ms ease;
}

.modal-importacao-colagem .close-modal:hover,
.modal-importacao-colagem .close-modal:focus-visible {
  transform: translateY(-1px);
  border-color: rgba(151, 198, 255, 0.72);
  background: rgba(20, 42, 74, 0.9);
  color: #f4f9ff;
}

.importacao-colagem-ajuda {
  margin: 0 0 14px;
  padding: 11px 12px;
  border-radius: 12px;
  border: 1px solid color-mix(in srgb, var(--border-color) 78%, rgba(255, 255, 255, 0.16));
  background: linear-gradient(145deg, rgba(15, 32, 57, 0.82), rgba(10, 22, 41, 0.84));
  color: color-mix(in srgb, var(--text-muted) 74%, #dcecff);
  font-size: 0.85rem;
  line-height: 1.48;
}

.importacao-colagem-texto {
  width: 100%;
  min-height: 220px;
  resize: vertical;
  border-radius: 14px;
  border: 1px solid color-mix(in srgb, var(--border-color) 76%, rgba(255, 255, 255, 0.16));
  background:
    radial-gradient(130% 90% at 0% 0%, rgba(45, 87, 145, 0.2), transparent 58%),
    linear-gradient(180deg, color-mix(in srgb, var(--bg-input) 94%, #0b1526), color-mix(in srgb, var(--bg-input) 90%, #08101f));
  color: #e8f1ff;
  padding: 14px;
  font-family: Consolas, 'Cascadia Code', 'Courier New', monospace;
  font-size: 0.87rem;
  line-height: 1.52;
  letter-spacing: 0.01em;
  outline: none;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.06), inset 0 -8px 16px rgba(4, 10, 20, 0.22);
  transition: border-color 180ms ease, box-shadow 180ms ease, background 180ms ease;
}

.importacao-colagem-texto::placeholder {
  color: rgba(196, 217, 245, 0.6);
}

.importacao-colagem-texto:focus {
  border-color: color-mix(in srgb, var(--primary) 74%, #c7ebff);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--primary) 24%, transparent), inset 0 1px 0 rgba(255, 255, 255, 0.08);
}

.importacao-colagem-opcao {
  margin-top: 12px;
  display: inline-flex;
  align-items: center;
  gap: 9px;
  padding: 9px 11px;
  border-radius: 10px;
  border: 1px solid color-mix(in srgb, var(--border-color) 72%, rgba(255, 255, 255, 0.14));
  background: linear-gradient(145deg, rgba(13, 28, 49, 0.78), rgba(9, 20, 37, 0.82));
  color: #d9eaff;
  font-size: 0.87rem;
  line-height: 1.35;
}

.importacao-colagem-opcao input {
  width: 16px;
  height: 16px;
  accent-color: var(--primary);
}

.importacao-colagem-acoes {
  display: flex;
  justify-content: flex-end;
  align-items: center;
  gap: 10px;
  margin-top: 16px;
  padding-top: 12px;
  border-top: 1px solid color-mix(in srgb, var(--border-color) 64%, transparent);
}

.importacao-colagem-acoes .btn-mini {
  min-width: 98px;
}

.importacao-colagem-acoes .btn-acao-principal {
  min-width: 122px;
  padding: 10px 16px;
}

body.light-mode .modal-importacao-colagem .modal-content {
  border-color: rgba(92, 127, 178, 0.4);
  background:
    radial-gradient(120% 92% at 0% -10%, rgba(126, 162, 224, 0.24), transparent 60%),
    linear-gradient(180deg, rgba(246, 250, 255, 0.98), rgba(236, 245, 255, 0.97));
  box-shadow: 0 18px 34px rgba(46, 73, 112, 0.24);
}

body.light-mode .modal-importacao-colagem h3 {
  color: #17365b;
}

body.light-mode .modal-importacao-colagem h3::before {
  color: #1f4f83;
  border-color: rgba(88, 131, 192, 0.54);
  background: linear-gradient(145deg, rgba(169, 207, 252, 0.96), rgba(147, 192, 245, 0.9));
}

body.light-mode .modal-importacao-colagem .close-modal {
  border-color: rgba(98, 133, 183, 0.42);
  background: rgba(237, 246, 255, 0.92);
  color: #2f5686;
}

body.light-mode .modal-importacao-colagem .close-modal:hover,
body.light-mode .modal-importacao-colagem .close-modal:focus-visible {
  border-color: rgba(84, 126, 192, 0.62);
  background: rgba(223, 237, 255, 0.96);
  color: #1f446f;
}

body.light-mode .importacao-colagem-ajuda {
  border-color: rgba(102, 135, 180, 0.34);
  background: linear-gradient(145deg, rgba(236, 245, 255, 0.92), rgba(229, 240, 255, 0.9));
  color: #385a82;
}

body.light-mode .importacao-colagem-texto {
  border-color: rgba(101, 135, 182, 0.44);
  background:
    radial-gradient(130% 90% at 0% 0%, rgba(130, 169, 226, 0.22), transparent 58%),
    linear-gradient(180deg, rgba(242, 248, 255, 0.96), rgba(234, 243, 255, 0.95));
  color: #234364;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.8), inset 0 -8px 16px rgba(121, 153, 194, 0.14);
}

body.light-mode .importacao-colagem-texto::placeholder {
  color: rgba(64, 96, 134, 0.58);
}

body.light-mode .importacao-colagem-opcao {
  border-color: rgba(100, 131, 176, 0.34);
  background: linear-gradient(145deg, rgba(236, 245, 255, 0.92), rgba(229, 240, 255, 0.88));
  color: #2c4d73;
}

body.light-mode .importacao-colagem-acoes {
  border-top-color: rgba(108, 141, 187, 0.34);
}

@media (max-width: 640px) {
  .modal-importacao-colagem .modal-content {
    width: min(96vw, 540px);
    padding: 16px 14px 14px;
    border-radius: 14px;
  }

  .modal-importacao-colagem h3 {
    font-size: 1.25rem;
    margin-bottom: 8px;
  }

  .modal-importacao-colagem h3::before {
    width: 26px;
    height: 26px;
    border-radius: 8px;
    font-size: 0.86rem;
  }

  .importacao-colagem-ajuda {
    font-size: 0.81rem;
    padding: 9px 10px;
  }

  .importacao-colagem-texto {
    min-height: 180px;
    font-size: 0.82rem;
    padding: 12px;
  }

  .importacao-colagem-opcao {
    width: 100%;
    font-size: 0.83rem;
  }

  .importacao-colagem-acoes {
    justify-content: stretch;
    gap: 8px;
  }

  .importacao-colagem-acoes .btn-mini,
  .importacao-colagem-acoes .btn-acao-principal {
    flex: 1;
    min-width: 0;
  }
}
   MODAL NOVO LANCAMENTO - AJUSTE VISUAL
   ========================================= */
#container-cadastro .modal-content {
  width: min(520px, calc(100vw - 22px));
  max-width: 520px;
  padding: 26px 22px 20px;
  border-radius: 18px;
  border: 1px solid color-mix(in srgb, var(--border-color) 86%, transparent);
  background:
    radial-gradient(120% 92% at 0% -10%, color-mix(in srgb, var(--primary) 18%, transparent), transparent 58%),
    linear-gradient(180deg, color-mix(in srgb, var(--bg-surface) 95%, #0d1828), color-mix(in srgb, var(--bg-surface) 92%, #0a1524));
  box-shadow: 0 20px 40px rgba(3, 9, 18, 0.42);
}

#container-cadastro h3 {
  margin: 0 0 14px;
  text-align: center;
  font-size: 1.2rem;
  font-weight: 800;
  letter-spacing: 0.35px;
  color: var(--text-main);
}

#container-cadastro h3::after {
  content: '';
  display: block;
  width: 64px;
  height: 3px;
  border-radius: 999px;
  margin: 8px auto 0;
  background: linear-gradient(90deg, var(--primary), var(--primary-soft));
  opacity: 0.9;
}

#container-cadastro .close-modal {
  top: 10px;
  right: 10px;
  width: 32px;
  height: 32px;
  border-radius: 10px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border: 1px solid color-mix(in srgb, var(--border-color) 82%, transparent);
  background: color-mix(in srgb, var(--bg-card) 86%, transparent);
  color: color-mix(in srgb, var(--text-muted) 92%, var(--text-main));
  font-size: 1.34rem;
  line-height: 1;
}

#container-cadastro .close-modal:hover {
  border-color: color-mix(in srgb, var(--primary) 62%, #ffffff);
  color: var(--text-main);
  background: color-mix(in srgb, var(--bg-card) 72%, transparent);
}

#container-cadastro .form-grid {
  display: grid;
  gap: 10px;
  margin-top: 2px;
}

#container-cadastro .form-grid > div {
  display: grid !important;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 10px !important;
}

#container-cadastro .btn-acao-principal {
  width: 100%;
  margin-top: 10px;
  padding: 13px 16px;
  border-radius: 12px;
  font-size: 1.02rem;
  font-weight: 800;
  background: linear-gradient(135deg, color-mix(in srgb, var(--primary) 96%, #ffffff), color-mix(in srgb, var(--primary-soft) 78%, #ffffff));
  box-shadow: 0 10px 20px color-mix(in srgb, var(--primary) 30%, transparent);
  transition: transform 180ms ease, filter 180ms ease, box-shadow 220ms ease;
}

#container-cadastro .btn-acao-principal:hover {
  transform: translateY(-1px);
  filter: brightness(1.04);
  box-shadow: 0 12px 24px color-mix(in srgb, var(--primary) 34%, transparent);
}

#container-cadastro .btn-acao-principal:active {
  transform: translateY(0);
}

body.light-mode #container-cadastro .modal-content {
  background:
    radial-gradient(120% 90% at 0% -12%, rgba(97, 146, 218, 0.20), transparent 58%),
    linear-gradient(180deg, rgba(248, 252, 255, 0.98), rgba(237, 245, 255, 0.96));
  border-color: rgba(103, 132, 176, 0.32);
  box-shadow: 0 18px 34px rgba(40, 58, 89, 0.18);
}

body.light-mode #container-cadastro h3 {
  color: #2c4b76;
}

body.light-mode #container-cadastro .close-modal {
  background: rgba(233, 241, 253, 0.88);
  border-color: rgba(110, 137, 180, 0.36);
  color: #4f678d;
}

@media (max-width: 600px) {
  #container-cadastro .modal-content {
    width: min(96vw, 520px);
    padding: 20px 12px 14px;
    border-radius: 14px;
  }

  #container-cadastro .form-grid > div {
    grid-template-columns: 1fr;
  }

  #container-cadastro .btn-acao-principal {
    margin-top: 8px;
  }
}

/* =========================================
   MODAL CADASTRAR CONTA - AJUSTE VISUAL
   ========================================= */
#modalDespesa .modal-content {
  width: min(520px, calc(100vw - 22px));
  max-width: 520px;
  padding: 26px 22px 20px;
  border-radius: 18px;
  border: 1px solid color-mix(in srgb, var(--border-color) 86%, transparent);
  background:
    radial-gradient(120% 92% at 0% -10%, color-mix(in srgb, var(--primary) 16%, transparent), transparent 58%),
    linear-gradient(180deg, color-mix(in srgb, var(--bg-surface) 95%, #0d1828), color-mix(in srgb, var(--bg-surface) 92%, #0a1524));
  box-shadow: 0 20px 40px rgba(3, 9, 18, 0.42);
}

#modalDespesa #tituloModal {
  margin: 0 0 14px;
  text-align: center;
  font-size: 1.2rem;
  font-weight: 800;
  letter-spacing: 0.35px;
  color: var(--text-main);
}

#modalDespesa #tituloModal::after {
  content: '';
  display: block;
  width: 64px;
  height: 3px;
  border-radius: 999px;
  margin: 8px auto 0;
  background: linear-gradient(90deg, var(--primary), var(--primary-soft));
  opacity: 0.9;
}

#modalDespesa .close-modal {
  top: 10px;
  right: 10px;
  width: 32px;
  height: 32px;
  border-radius: 10px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border: 1px solid color-mix(in srgb, var(--border-color) 82%, transparent);
  background: color-mix(in srgb, var(--bg-card) 86%, transparent);
  color: color-mix(in srgb, var(--text-muted) 92%, var(--text-main));
  font-size: 1.34rem;
  line-height: 1;
}

#modalDespesa .close-modal:hover {
  border-color: color-mix(in srgb, var(--primary) 62%, #ffffff);
  color: var(--text-main);
  background: color-mix(in srgb, var(--bg-card) 72%, transparent);
}

#modalDespesa .form-grid {
  display: grid;
  gap: 12px;
  margin-top: 2px;
}

#modalDespesa .linha-dupla {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 12px;
}

#modalDespesa .form-grid input,
#modalDespesa .form-grid select {
  min-height: 40px;
  border-radius: 12px;
}

#modalDespesa .recorrente-label {
  display: flex;
  align-items: center;
  justify-content: flex-start;
  gap: 10px;
  margin-top: 2px;
  padding: 10px 12px;
  border-radius: 12px;
  border: 1px solid color-mix(in srgb, var(--border-color) 84%, transparent);
  background: color-mix(in srgb, var(--bg-card) 88%, transparent);
  color: var(--text-main);
  font-size: 0.98rem;
  font-weight: 650;
  line-height: 1.2;
}

#modalDespesa .recorrente-label input[type="checkbox"] {
  width: 18px !important;
  height: 18px;
  min-height: 18px;
  margin: 0;
  padding: 0;
  border: 1px solid color-mix(in srgb, var(--border-color) 80%, transparent);
  border-radius: 5px;
  background: color-mix(in srgb, var(--bg-input) 90%, transparent);
  box-shadow: none;
  accent-color: var(--primary);
  flex: 0 0 auto;
}

#modalDespesa .btn-acao-principal {
  width: 100%;
  margin-top: 6px;
  padding: 13px 16px;
  border-radius: 12px;
  font-size: 1.02rem;
  font-weight: 800;
  background: linear-gradient(135deg, rgba(223, 84, 84, 0.95), rgba(177, 34, 34, 0.92));
  box-shadow: 0 10px 20px rgba(183, 52, 52, 0.34);
  transition: transform 180ms ease, filter 180ms ease, box-shadow 220ms ease;
}

#modalDespesa .btn-acao-principal:hover {
  transform: translateY(-1px);
  filter: brightness(1.04);
  box-shadow: 0 12px 24px rgba(183, 52, 52, 0.38);
}

#modalDespesa .btn-acao-principal:active {
  transform: translateY(0);
}

body.light-mode #modalDespesa .modal-content {
  background:
    radial-gradient(120% 90% at 0% -12%, rgba(97, 146, 218, 0.20), transparent 58%),
    linear-gradient(180deg, rgba(248, 252, 255, 0.98), rgba(237, 245, 255, 0.96));
  border-color: rgba(103, 132, 176, 0.32);
  box-shadow: 0 18px 34px rgba(40, 58, 89, 0.18);
}

body.light-mode #modalDespesa #tituloModal {
  color: #2c4b76;
}

body.light-mode #modalDespesa .close-modal {
  background: rgba(233, 241, 253, 0.88);
  border-color: rgba(110, 137, 180, 0.36);
  color: #4f678d;
}

body.light-mode #modalDespesa .recorrente-label {
  background: rgba(240, 246, 255, 0.88);
  border-color: rgba(118, 141, 178, 0.34);
  color: #2f4a72;
}

@media (max-width: 600px) {
  #modalDespesa .modal-content {
    width: min(96vw, 520px);
    padding: 20px 12px 14px;
    border-radius: 14px;
  }

  #modalDespesa .linha-dupla {
    grid-template-columns: 1fr;
  }
}
/* =========================================
   SIDEBAR - BOTAO ECONOMIAS DOURADO (HOVER/CLICK)
   ========================================= */
.sidebar .btn-economias:hover,
.sidebar .btn-economias:focus-visible,
.sidebar .btn-economias:active {
  background: linear-gradient(135deg, #e2c074, #b7892c);
  border-color: #f0d695;
  color: #221708;
  box-shadow: 0 10px 20px rgba(181, 130, 28, 0.34);
}

.sidebar .btn-economias:hover,
.sidebar .btn-economias:focus-visible {
  transform: translateY(-2px);
}

.sidebar .btn-economias:active {
  transform: translateY(0) scale(0.99);
}

body.light-mode .sidebar .btn-economias:hover,
body.light-mode .sidebar .btn-economias:focus-visible,
body.light-mode .sidebar .btn-economias:active {
  background: linear-gradient(135deg, #dcb764, #ad7d24);
  border-color: #d6ad53;
  color: #ffffff;
  box-shadow: 0 10px 20px rgba(160, 115, 24, 0.28);
}




/* Auth: login and user manager */
body.pagina-login {
  min-height: 100vh;
  margin: 0;
  display: grid;
  place-items: center;
  background:
    radial-gradient(circle at 18% 12%, rgba(41, 128, 255, 0.20), transparent 48%),
    radial-gradient(circle at 82% 86%, rgba(40, 203, 126, 0.14), transparent 46%),
    linear-gradient(145deg, #060b16 0%, #081426 56%, #05101f 100%);
}

.login-shell {
  width: min(94vw, 460px);
  padding: 22px 12px;
}

.login-card {
  border-radius: 20px;
  border: 1px solid rgba(120, 172, 255, 0.36);
  background: linear-gradient(160deg, rgba(14, 26, 45, 0.96) 0%, rgba(10, 19, 35, 0.96) 100%);
  box-shadow: 0 30px 64px rgba(0, 0, 0, 0.54), inset 0 1px 0 rgba(255, 255, 255, 0.08);
  padding: 24px 22px;
}

.login-brand {
  display: grid;
  gap: 8px;
  justify-items: center;
  text-align: center;
  margin-bottom: 16px;
}

.login-brand img {
  width: 58px;
  height: 58px;
  border-radius: 15px;
  border: 1px solid rgba(99, 171, 255, 0.55);
  box-shadow: 0 12px 26px rgba(46, 124, 255, 0.25);
}

.login-brand h1 {
  margin: 0;
  font-size: 1.28rem;
  letter-spacing: 0.03em;
  color: #e8f2ff;
}

.login-brand p {
  margin: 0;
  color: rgba(203, 219, 238, 0.86);
  font-size: 0.82rem;
}

.login-form {
  display: grid;
  gap: 10px;
}

.login-form label {
  color: rgba(224, 235, 250, 0.88);
  font-size: 0.86rem;
  font-weight: 700;
  letter-spacing: 0.04em;
  text-transform: uppercase;
}

.login-form input {
  border-radius: 12px;
  border: 1px solid rgba(90, 130, 181, 0.55);
  background: linear-gradient(165deg, rgba(15, 32, 58, 0.9), rgba(11, 23, 43, 0.92));
  color: #edf4ff;
  padding: 12px 13px;
  font-size: 0.98rem;
  outline: none;
}

.login-form input:focus {
  border-color: rgba(106, 188, 255, 0.9);
  box-shadow: 0 0 0 3px rgba(80, 159, 255, 0.2);
}

.login-form .btn-acao-principal {
  margin-top: 6px;
}

.login-feedback {
  min-height: 22px;
  margin: 12px 1px 0;
  font-size: 0.9rem;
  color: rgba(220, 233, 250, 0.85);
}

.login-feedback.erro {
  color: #ff8c8c;
}

.login-feedback.ok {
  color: #7cf2c0;
}

.btn-backup-users {
  background: linear-gradient(145deg, rgba(18, 73, 132, 0.88), rgba(20, 104, 168, 0.82));
  border-color: rgba(122, 196, 255, 0.62);
}

.btn-backup-users i,
.btn-backup-users span {
  color: #d8f0ff;
}

.btn-backup-users:disabled {
  opacity: 0.52;
  cursor: not-allowed;
  filter: grayscale(0.22);
}

.btn-backup-logout {
  background: linear-gradient(145deg, rgba(96, 30, 34, 0.9), rgba(153, 47, 54, 0.84));
  border-color: rgba(239, 126, 131, 0.52);
}

.btn-backup-logout i,
.btn-backup-logout span {
  color: #ffe6e6;
}

.modal-usuarios-auth .modal-content {
  width: min(96vw, 520px);
  border-radius: 16px;
  border: 1px solid rgba(114, 174, 244, 0.42);
  padding: 20px;
}

.modal-usuarios-auth h3 {
  margin: 0;
  color: #edf4ff;
}

.usuarios-auth-ajuda {
  margin: 8px 0 14px;
  color: rgba(194, 214, 239, 0.82);
  font-size: 0.88rem;
}

.usuarios-auth-form {
  display: grid;
  gap: 10px;
  margin-bottom: 12px;
}

.usuarios-auth-form input {
  border-radius: 11px;
  border: 1px solid rgba(90, 130, 181, 0.55);
  background: rgba(12, 27, 48, 0.88);
  color: #edf4ff;
  padding: 10px 12px;
  outline: none;
}

.usuarios-auth-form input:focus {
  border-color: rgba(106, 188, 255, 0.9);
  box-shadow: 0 0 0 3px rgba(80, 159, 255, 0.2);
}

.usuarios-auth-feedback {
  min-height: 20px;
  margin: 0 0 10px;
  font-size: 0.89rem;
}

.usuarios-auth-feedback.erro {
  color: #ff9090;
}

.usuarios-auth-feedback.ok {
  color: #8ff0c2;
}

.usuarios-auth-lista {
  list-style: none;
  margin: 0;
  padding: 0;
  display: grid;
  gap: 9px;
  max-height: 232px;
  overflow: auto;
}

.usuarios-auth-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  border-radius: 11px;
  border: 1px solid rgba(83, 122, 177, 0.45);
  background: linear-gradient(145deg, rgba(11, 22, 40, 0.92), rgba(14, 29, 51, 0.9));
  padding: 10px 11px;
}

.usuarios-auth-item-main {
  display: grid;
  gap: 6px;
}

.usuarios-auth-item-main strong {
  color: #eff5ff;
  line-height: 1.2;
}

.usuarios-auth-badges {
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
}

.usuarios-auth-badge {
  border-radius: 999px;
  border: 1px solid rgba(107, 149, 209, 0.5);
  background: rgba(37, 61, 97, 0.55);
  color: #cfe2ff;
  font-size: 0.72rem;
  font-weight: 700;
  letter-spacing: 0.02em;
  padding: 2px 8px;
}

.usuarios-auth-badge-owner {
  border-color: rgba(237, 197, 92, 0.62);
  background: rgba(117, 88, 21, 0.4);
  color: #ffe5ad;
}

.usuarios-auth-badge-current {
  border-color: rgba(92, 220, 162, 0.62);
  background: rgba(22, 94, 69, 0.42);
  color: #bafad8;
}

.usuarios-auth-remover {
  min-width: 86px;
}

.usuarios-auth-vazio {
  justify-content: center;
  color: rgba(196, 213, 233, 0.85);
}

@media (max-width: 600px) {
  .login-shell {
    width: 100%;
    padding: 14px;
  }

  .login-card {
    padding: 18px 15px;
    border-radius: 16px;
  }

  .modal-usuarios-auth .modal-content {
    width: min(96vw, 460px);
    padding: 16px;
  }

  .usuarios-auth-item {
    flex-direction: column;
    align-items: stretch;
  }

  .usuarios-auth-remover {
    width: 100%;
  }
}

/* Menu de usuario expansivel no topo da sidebar */
.sidebar-usuario-menu {
  width: 100%;
  margin-bottom: 14px;
  border-radius: 14px;
  border: 1px solid rgba(97, 152, 225, 0.45);
  background: linear-gradient(155deg, rgba(14, 30, 56, 0.86), rgba(10, 22, 42, 0.9));
  box-shadow: 0 10px 22px rgba(0, 0, 0, 0.28), inset 0 1px 0 rgba(255, 255, 255, 0.06);
  overflow: hidden;
}

.sidebar-usuario-toggle {
  width: 100%;
  border: 0;
  background: transparent;
  color: #e4f0ff;
  padding: 11px 12px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  cursor: pointer;
  transition: background 0.24s ease;
}

.sidebar-usuario-toggle:hover,
.sidebar-usuario-toggle:focus-visible {
  background: rgba(99, 162, 245, 0.12);
}

.sidebar-usuario-identidade {
  min-width: 0;
  display: flex;
  align-items: center;
  gap: 10px;
}

.sidebar-usuario-identidade > i {
  width: 30px;
  height: 30px;
  border-radius: 999px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: #c6e3ff;
  border: 1px solid rgba(133, 186, 247, 0.58);
  background: linear-gradient(145deg, rgba(40, 87, 150, 0.62), rgba(30, 67, 117, 0.62));
}

.sidebar-usuario-textos {
  min-width: 0;
  display: grid;
  gap: 2px;
  text-align: left;
}

.sidebar-usuario-textos small {
  color: rgba(187, 206, 231, 0.85);
  font-size: 0.67rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
}

.sidebar-usuario-nome {
  color: #f1f7ff;
  font-size: 0.97rem;
  line-height: 1.1;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.sidebar-usuario-seta {
  color: rgba(178, 206, 243, 0.86);
  font-size: 0.82rem;
  transition: transform 0.28s ease, color 0.2s ease;
}

.sidebar-usuario-menu.expanded .sidebar-usuario-seta {
  transform: rotate(180deg);
  color: #eff7ff;
}

.sidebar-usuario-painel {
  max-height: 0;
  opacity: 0;
  margin-top: 0;
  padding: 0 10px;
  pointer-events: none;
  overflow: hidden;
  transition: max-height 0.28s ease, opacity 0.22s ease, margin-top 0.22s ease;
}

.sidebar-usuario-menu.expanded .sidebar-usuario-painel {
  max-height: 72px;
  opacity: 1;
  margin-top: 4px;
  padding-bottom: 10px;
  pointer-events: auto;
}

.sidebar-usuario-acao {
  width: 100%;
  border-radius: 10px;
  border: 1px solid rgba(239, 144, 146, 0.55);
  background: linear-gradient(145deg, rgba(93, 31, 35, 0.9), rgba(151, 52, 58, 0.82));
  color: #ffeaea;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 9px 11px;
  cursor: pointer;
  transition: transform 0.2s ease, filter 0.2s ease;
}

.sidebar-usuario-acao:hover,
.sidebar-usuario-acao:focus-visible {
  transform: translateY(-1px);
  filter: brightness(1.06);
}

body.light-mode .sidebar-usuario-menu {
  border-color: rgba(86, 130, 186, 0.42);
  background: linear-gradient(155deg, rgba(224, 237, 252, 0.9), rgba(208, 227, 248, 0.9));
  box-shadow: 0 8px 18px rgba(54, 95, 151, 0.16), inset 0 1px 0 rgba(255, 255, 255, 0.78);
}

body.light-mode .sidebar-usuario-toggle {
  color: #183457;
}

body.light-mode .sidebar-usuario-toggle:hover,
body.light-mode .sidebar-usuario-toggle:focus-visible {
  background: rgba(84, 133, 198, 0.15);
}

body.light-mode .sidebar-usuario-identidade > i {
  color: #11457a;
  border-color: rgba(86, 137, 198, 0.55);
  background: linear-gradient(145deg, rgba(158, 205, 255, 0.92), rgba(136, 189, 247, 0.9));
}

body.light-mode .sidebar-usuario-textos small {
  color: rgba(43, 79, 121, 0.8);
}

body.light-mode .sidebar-usuario-nome {
  color: #13365d;
}

body.light-mode .sidebar-usuario-seta {
  color: rgba(47, 89, 136, 0.82);
}

@media (max-width: 768px) {
  .sidebar-usuario-menu {
    margin-bottom: 12px;
  }
}

/* =========================================
   POUPANCA - CONTORNOS E VALOR EM AZUL
   ========================================= */
#aba-poupanca .painel-poupanca {
  border-color: color-mix(in srgb, var(--poupanca-primary) 76%, #d6ecff);
  box-shadow:
    0 12px 28px rgba(4, 10, 19, 0.24),
    0 0 0 1px color-mix(in srgb, var(--poupanca-primary) 30%, transparent) inset;
}

#aba-poupanca #saldo-poupanca {
  color: color-mix(in srgb, var(--poupanca-primary) 86%, #eef7ff);
  text-shadow: 0 2px 14px color-mix(in srgb, var(--poupanca-primary) 36%, transparent);
}

#aba-poupanca .input-grupo input {
  border-color: color-mix(in srgb, var(--poupanca-primary) 48%, transparent);
}

#aba-poupanca .input-grupo input:focus {
  border-color: color-mix(in srgb, var(--poupanca-primary) 84%, #eaf5ff);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--poupanca-primary) 24%, transparent);
}

#aba-poupanca .titulo-extrato {
  color: color-mix(in srgb, var(--poupanca-primary) 82%, #f5fbff);
}

#extrato-poupanca .item-extrato {
  border: 1px solid color-mix(in srgb, var(--poupanca-primary) 42%, transparent);
  border-left: 3px solid color-mix(in srgb, var(--poupanca-primary) 78%, #d6ecff);
  border-bottom-width: 1px;
}

/* =========================================
   EXTRATO - ESTILO PREMIUM (CARTEIRA/POUPANCA)
   ========================================= */
.lista-extrato {
  display: grid;
  gap: 10px;
}

.item-extrato {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 18px;
  padding: 16px 18px;
  margin-bottom: 0;
  border-radius: 14px;
  border: 1px solid color-mix(in srgb, var(--border-color) 86%, transparent);
  border-left: 3px solid color-mix(in srgb, var(--border-color) 72%, transparent);
  background: linear-gradient(
    140deg,
    color-mix(in srgb, var(--bg-surface) 94%, #10192a),
    color-mix(in srgb, var(--bg-card) 88%, transparent)
  );
  box-shadow: 0 8px 18px rgba(4, 10, 20, 0.22);
  transition:
    transform 180ms ease,
    border-color 180ms ease,
    box-shadow 180ms ease,
    background 220ms ease;
}

.item-extrato:hover {
  transform: translateY(-2px);
  border-color: color-mix(in srgb, var(--primary) 56%, transparent);
  box-shadow: 0 12px 24px rgba(5, 13, 25, 0.28);
}

#lista-extrato .item-extrato {
  border-color: color-mix(in srgb, var(--primary) 36%, transparent);
}

#extrato-poupanca .item-extrato {
  border-color: color-mix(in srgb, var(--poupanca-primary) 38%, transparent);
}

.item-extrato.entrada {
  border-left-color: color-mix(in srgb, var(--success) 78%, #baf4db);
}

.item-extrato.saida {
  border-left-color: color-mix(in srgb, var(--danger) 78%, #ffc0ba);
}

.item-extrato.item-extrato-estorno {
  border-left-color: color-mix(in srgb, var(--warning) 82%, #ffe2a1);
  border-color: color-mix(in srgb, var(--warning) 40%, transparent);
  background:
    radial-gradient(130% 100% at 100% 0%, color-mix(in srgb, var(--warning) 12%, transparent), transparent 60%),
    linear-gradient(
      140deg,
      color-mix(in srgb, var(--bg-surface) 94%, #10192a),
      color-mix(in srgb, var(--bg-card) 88%, transparent)
    );
}

#extrato-poupanca .item-extrato.entrada {
  border-left-color: color-mix(in srgb, var(--poupanca-primary) 78%, #d6ecff);
}

#extrato-poupanca .item-extrato.saida {
  border-left-color: color-mix(in srgb, var(--poupanca-secondary) 78%, #d7e6f5);
}

.item-extrato-info {
  display: flex;
  align-items: center;
  gap: 12px;
  min-width: 0;
  flex: 1 1 auto;
}

.item-extrato-icone {
  width: 42px;
  height: 42px;
  border-radius: 999px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(145deg, rgba(9, 18, 33, 0.9), rgba(13, 26, 45, 0.86));
  border: 1px solid color-mix(in srgb, var(--border-color) 72%, transparent);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.06);
}

.item-extrato.entrada .item-extrato-icone i {
  color: color-mix(in srgb, var(--success) 88%, #dcffee);
}

.item-extrato.saida .item-extrato-icone i {
  color: color-mix(in srgb, var(--danger) 84%, #ffe2df);
}

.item-extrato.item-extrato-estorno .item-extrato-icone {
  border-color: color-mix(in srgb, var(--warning) 34%, transparent);
  background: linear-gradient(
    145deg,
    color-mix(in srgb, var(--warning) 12%, rgba(9, 18, 33, 0.9)),
    color-mix(in srgb, var(--warning) 10%, rgba(13, 26, 45, 0.86))
  );
}

.item-extrato.item-extrato-estorno .item-extrato-icone i {
  color: color-mix(in srgb, var(--warning) 88%, #fff0c6) !important;
}

#extrato-poupanca .item-extrato.entrada .item-extrato-icone i {
  color: color-mix(in srgb, var(--poupanca-primary) 84%, #ebf7ff);
}

#extrato-poupanca .item-extrato.saida .item-extrato-icone i {
  color: color-mix(in srgb, var(--poupanca-secondary) 84%, #edf4ff);
}

.item-extrato-textos {
  min-width: 0;
}

.item-extrato-descricao {
  font-weight: 700;
  color: var(--text-main);
  font-size: 0.82rem;
  line-height: 1.2;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.item-extrato.item-extrato-estorno .item-extrato-descricao {
  color: color-mix(in srgb, var(--warning) 68%, #fff0c6);
}

.item-extrato-valor {
  font-weight: 800;
  font-size: clamp(1rem, 1.5vw, 1.36rem);
  letter-spacing: 0.01em;
  white-space: nowrap;
  color: var(--extrato-valor, var(--text-main));
  text-shadow: 0 2px 12px color-mix(in srgb, var(--extrato-valor, var(--primary)) 24%, transparent);
}

body.light-mode.pagina-economias .lista-extrato .item-extrato {
  background: linear-gradient(140deg, rgba(236, 243, 252, 0.97), rgba(226, 236, 249, 0.96));
  border-color: rgba(90, 127, 180, 0.36);
  box-shadow: 0 8px 16px rgba(43, 72, 114, 0.14);
}

body.light-mode.pagina-economias .lista-extrato .item-extrato:hover {
  border-color: rgba(75, 120, 185, 0.54);
  box-shadow: 0 10px 20px rgba(43, 72, 114, 0.18);
}

body.light-mode.pagina-economias .item-extrato-icone {
  background: linear-gradient(145deg, rgba(226, 238, 253, 0.96), rgba(210, 228, 249, 0.92));
  border-color: rgba(89, 128, 184, 0.35);
}

body.light-mode.pagina-economias .item-extrato-descricao {
  color: #1f3552;
}

body.light-mode.pagina-economias .item-extrato.item-extrato-estorno {
  border-left-color: rgba(190, 143, 28, 0.7);
  border-color: rgba(190, 143, 28, 0.28);
  background:
    radial-gradient(130% 100% at 100% 0%, rgba(241, 196, 15, 0.16), transparent 62%),
    linear-gradient(140deg, rgba(248, 241, 214, 0.97), rgba(244, 235, 201, 0.96));
}

body.light-mode.pagina-economias .item-extrato.item-extrato-estorno .item-extrato-icone {
  background: linear-gradient(145deg, rgba(248, 235, 180, 0.55), rgba(241, 224, 150, 0.35));
  border-color: rgba(190, 143, 28, 0.28);
}

body.light-mode.pagina-economias .item-extrato.item-extrato-estorno .item-extrato-icone i {
  color: #a86f00 !important;
}

body.light-mode.pagina-economias .item-extrato.item-extrato-estorno .item-extrato-descricao {
  color: #6e4d00;
}

body.light-mode.pagina-economias .data-extrato {
  color: #4c6485;
}

@media (max-width: 768px) {
  .item-extrato {
    padding: 14px 12px;
    gap: 10px;
    align-items: flex-start;
  }

  .item-extrato-icone {
    width: 36px;
    height: 36px;
  }

  .item-extrato-descricao {
    font-size: 0.98rem;
  }

  .item-extrato-valor {
    font-size: 1.04rem;
    margin-left: auto;
  }
}

/* Ajuste de robustez do menu de sessao em todas as abas */
.sidebar-usuario-menu {
  isolation: isolate;
}

.sidebar-usuario-toggle {
  min-height: 60px;
  padding: 10px 12px;
  text-align: left;
  text-transform: none;
  letter-spacing: 0;
  line-height: 1.2;
}

.sidebar-usuario-identidade {
  flex: 1 1 auto;
}

.sidebar-usuario-identidade > i {
  flex: 0 0 30px;
}

.sidebar-usuario-textos {
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 1px;
  line-height: 1.05;
}

.sidebar-usuario-textos small {
  display: block;
  margin: 0;
  line-height: 1.05;
}

.sidebar-usuario-nome {
  display: block;
  margin: 0;
  line-height: 1.2;
}

.sidebar-usuario-seta {
  flex-shrink: 0;
  margin-left: 8px;
  align-self: center;
}

@media (max-width: 768px) {
  .sidebar-usuario-toggle {
    min-height: 56px;
  }
}


/* =========================================
   ECONOMIAS - CARTEIRA COM CONTORNO DOURADO
   ========================================= */
body.pagina-economias .tabs-eco-container .tab-eco:nth-child(1).active {
  background: linear-gradient(135deg, #d8b96b, #b7862c) !important;
  border: 1px solid rgba(245, 218, 150, 0.88) !important;
  color: #1f1605 !important;
  box-shadow: 0 8px 18px rgba(171, 120, 27, 0.34), inset 0 1px 0 rgba(255, 245, 214, 0.44) !important;
}

body.pagina-economias .tabs-eco-container .tab-eco:nth-child(1).active i {
  color: #5b3f0f;
}

body.pagina-economias #aba-carteira .painel-economias {
  border-color: color-mix(in srgb, var(--warning) 70%, #f2cf85);
  box-shadow:
    0 12px 28px rgba(7, 10, 16, 0.26),
    0 0 0 1px color-mix(in srgb, var(--warning) 28%, transparent) inset;
}

body.pagina-economias #aba-carteira .input-grupo input {
  border-color: color-mix(in srgb, var(--warning) 46%, transparent);
}

body.pagina-economias #aba-carteira .input-grupo input:focus {
  border-color: color-mix(in srgb, var(--warning) 82%, #ffe8b8);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--warning) 22%, transparent);
}

body.pagina-economias #aba-carteira .titulo-extrato {
  color: color-mix(in srgb, var(--warning) 72%, #ffe7b5);
}

body.pagina-economias #lista-extrato .item-extrato {
  border-color: color-mix(in srgb, var(--warning) 34%, transparent);
  box-shadow: 0 8px 18px rgba(13, 10, 5, 0.24);
}

body.pagina-economias #lista-extrato .item-extrato:hover {
  border-color: color-mix(in srgb, var(--warning) 56%, #f2cf85);
  box-shadow: 0 12px 24px rgba(25, 18, 8, 0.30);
}

body.light-mode.pagina-economias .tabs-eco-container .tab-eco:nth-child(1).active {
  background: linear-gradient(135deg, #d2ac5f, #b48733) !important;
  border-color: rgba(177, 130, 52, 0.88) !important;
  color: #ffffff !important;
  box-shadow: 0 8px 16px rgba(125, 90, 26, 0.28), inset 0 1px 0 rgba(255, 247, 225, 0.36) !important;
}

body.light-mode.pagina-economias #aba-carteira .painel-economias {
  border-color: rgba(177, 130, 52, 0.54);
  box-shadow:
    0 10px 22px rgba(40, 53, 75, 0.14),
    0 0 0 1px rgba(210, 168, 91, 0.24) inset;
}

body.light-mode.pagina-economias #aba-carteira .input-grupo input {
  border-color: rgba(176, 130, 56, 0.44);
}

body.light-mode.pagina-economias #aba-carteira .input-grupo input:focus {
  border-color: rgba(176, 130, 56, 0.72);
  box-shadow: 0 0 0 3px rgba(176, 130, 56, 0.16);
}

body.light-mode.pagina-economias #lista-extrato .item-extrato {
  border-color: rgba(176, 130, 56, 0.32);
}

body.light-mode.pagina-economias #lista-extrato .item-extrato:hover {
  border-color: rgba(176, 130, 56, 0.56);
}

/* Extrato carteira: saida enviada para poupanca em azul */
#lista-extrato .item-extrato.saida-poupanca {
  border-left-color: color-mix(in srgb, var(--poupanca-primary) 82%, #d8ecff);
  border-color: color-mix(in srgb, var(--poupanca-primary) 40%, transparent);
}

#lista-extrato .item-extrato.saida-poupanca .item-extrato-icone i {
  color: color-mix(in srgb, var(--poupanca-primary) 86%, #ebf7ff);
}

/* =========================================
   SIDEBAR SESSAO - COMPACTO, CENTRALIZADO E ATIVO
   ========================================= */
.sidebar-usuario-menu {
  border-radius: 12px;
}

.sidebar-usuario-toggle {
  position: relative;
  min-height: 42px;
  padding: 4px 38px 4px 9px;
  justify-content: center;
}

.sidebar-usuario-identidade {
  margin: 0 auto;
  gap: 8px;
  justify-content: center;
}

.sidebar-usuario-identidade > i {
  width: 23px;
  height: 23px;
}

.sidebar-usuario-textos {
  align-items: center;
  text-align: center;
  gap: 0;
}

.sidebar-usuario-textos small {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  font-size: 0.58rem;
  letter-spacing: 0.16em;
}

.sidebar-usuario-textos small::before {
  content: '';
  width: 6px;
  height: 6px;
  border-radius: 999px;
  background: #3fe17e;
  box-shadow: 0 0 0 0 rgba(63, 225, 126, 0.52);
  animation: sessao-ativa-pulse 1.6s ease-out infinite;
}

.sidebar-usuario-nome {
  text-align: center;
  font-size: 0.88rem;
  font-weight: 700;
  line-height: 1.05;
}

.sidebar-usuario-seta {
  position: absolute;
  right: 12px;
  top: 50%;
  margin-left: 0;
  transform: translateY(-50%);
}

.sidebar-usuario-menu.expanded .sidebar-usuario-seta {
  transform: translateY(-50%) rotate(180deg);
}

@keyframes sessao-ativa-pulse {
  0% {
    transform: scale(1);
    box-shadow: 0 0 0 0 rgba(63, 225, 126, 0.52);
  }
  70% {
    transform: scale(1.02);
    box-shadow: 0 0 0 6px rgba(63, 225, 126, 0);
  }
  100% {
    transform: scale(1);
    box-shadow: 0 0 0 0 rgba(63, 225, 126, 0);
  }
}

body.light-mode .sidebar-usuario-textos small::before {
  background: #2fbf63;
  box-shadow: 0 0 0 0 rgba(47, 191, 99, 0.44);
}

@media (max-width: 768px) {
  .sidebar-usuario-toggle {
    min-height: 40px;
    padding: 4px 36px 4px 8px;
  }

  .sidebar-usuario-identidade > i {
    width: 22px;
    height: 22px;
  }

  .sidebar-usuario-nome {
    font-size: 0.82rem;
  }
}



/* =========================================
   INDEX - CENTRALIZACAO DOS BOTOES
   ========================================= */
body:not(.pagina-despesas):not(.pagina-economias):not(.pagina-resumo-ano):not(.pagina-resumo-economias) #btn-abrir-cadastro {
  margin-left: auto;
  margin-right: auto;
}

body:not(.pagina-despesas):not(.pagina-economias):not(.pagina-resumo-ano):not(.pagina-resumo-economias) .tabs:not(.tabs-despesas) {
  justify-content: center;
  align-items: center;
}

body:not(.pagina-despesas):not(.pagina-economias):not(.pagina-resumo-ano):not(.pagina-resumo-economias) .tabs:not(.tabs-despesas) .tab-btn {
  flex: 0 0 auto;
}







/* =========================================
   CONFIGURACOES - POPUP
   ========================================= */
body.config-popup-open {
  overflow: hidden;
}

.configuracoes-menu.popup-open {
  position: static;
}

.configuracoes-menu.popup-open::before {
  content: '';
  position: fixed;
  inset: 0;
  background: rgba(4, 9, 18, 0.62);
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
  z-index: 1880;
}

.configuracoes-menu.popup-open .btn-configuracoes-toggle {
  border-color: color-mix(in srgb, var(--primary) 62%, #ffffff);
  box-shadow: 0 10px 22px rgba(15, 30, 56, 0.34);
}

.configuracoes-menu.popup-open .configuracoes-menu-conteudo {
  position: fixed;
  top: 50%;
  left: 50%;
  width: min(360px, calc(100vw - 24px));
  max-height: min(76vh, 560px) !important;
  overflow-y: auto;
  border-radius: 16px;
  border: 1px solid color-mix(in srgb, var(--border-color) 86%, rgba(255, 255, 255, 0.24));
  background:
    radial-gradient(120% 86% at 0% -10%, color-mix(in srgb, var(--primary) 18%, transparent), transparent 58%),
    linear-gradient(180deg, color-mix(in srgb, var(--bg-surface) 95%, #0f1828), color-mix(in srgb, var(--bg-surface) 92%, #0a1220));
  box-shadow: 0 24px 46px rgba(0, 0, 0, 0.42);
  padding: 14px 12px 12px !important;
  gap: 10px;
  opacity: 1 !important;
  transform: translate(-50%, -50%) scale(1) !important;
  z-index: 1881;
  pointer-events: auto;
  animation: configuracoes-popup-entrada 200ms var(--motion-ease) both;
}

.configuracoes-menu.popup-open .configuracoes-menu-conteudo .backup-divider {
  margin: 8px 0 4px;
}

@keyframes configuracoes-popup-entrada {
  from {
    opacity: 0;
    transform: translate(-50%, -47%) scale(0.96);
  }
  to {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }
}

body.light-mode .configuracoes-menu.popup-open::before {
  background: rgba(22, 31, 48, 0.38);
}

body.light-mode .configuracoes-menu.popup-open .configuracoes-menu-conteudo {
  border-color: rgba(90, 122, 170, 0.38);
  background:
    radial-gradient(120% 86% at 0% -10%, rgba(108, 149, 212, 0.22), transparent 58%),
    linear-gradient(180deg, rgba(245, 250, 255, 0.98), rgba(236, 245, 255, 0.97));
  box-shadow: 0 18px 34px rgba(42, 63, 95, 0.28);
}

@media (max-width: 640px) {
  .configuracoes-menu.popup-open .configuracoes-menu-conteudo {
    width: min(94vw, 360px);
    max-height: min(78vh, 520px) !important;
    border-radius: 14px;
    padding: 12px 10px 10px !important;
  }
}

/* Config popup: botao X de fechar */
.configuracoes-popup-fechar {
  display: none;
}

.configuracoes-menu.popup-open .configuracoes-popup-fechar {
  position: absolute;
  top: 10px;
  right: 10px;
  width: 30px;
  height: 30px;
  border-radius: 10px;
  border: 1px solid color-mix(in srgb, var(--border-color) 80%, rgba(255, 255, 255, 0.18));
  background: color-mix(in srgb, var(--bg-card) 88%, transparent);
  color: color-mix(in srgb, var(--text-muted) 88%, var(--text-main));
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  z-index: 2;
  transition: border-color 180ms ease, background 180ms ease, color 180ms ease, transform 180ms ease;
}

.configuracoes-menu.popup-open .configuracoes-popup-fechar:hover,
.configuracoes-menu.popup-open .configuracoes-popup-fechar:focus-visible {
  border-color: color-mix(in srgb, var(--primary) 64%, #ffffff);
  color: var(--text-main);
  background: color-mix(in srgb, var(--bg-card) 76%, transparent);
  transform: translateY(-1px);
}

.configuracoes-menu.popup-open .configuracoes-popup-fechar i {
  pointer-events: none;
}

.configuracoes-menu.popup-open .configuracoes-menu-conteudo {
  padding-top: 46px !important;
}

body.light-mode .configuracoes-menu.popup-open .configuracoes-popup-fechar {
  border-color: rgba(98, 127, 169, 0.45);
  background: rgba(244, 249, 255, 0.9);
  color: #355378;
}

body.light-mode .configuracoes-menu.popup-open .configuracoes-popup-fechar:hover,
body.light-mode .configuracoes-menu.popup-open .configuracoes-popup-fechar:focus-visible {
  border-color: rgba(83, 126, 190, 0.62);
  color: #1e3f6b;
  background: rgba(233, 243, 255, 0.98);
}

@media (max-width: 640px) {
  .configuracoes-menu.popup-open .configuracoes-popup-fechar {
    top: 8px;
    right: 8px;
    width: 28px;
    height: 28px;
  }

  .configuracoes-menu.popup-open .configuracoes-menu-conteudo {
    padding-top: 42px !important;
  }

  /* Alinhamento do popup de configuracoes no mobile (idioma + botoes) */
  .configuracoes-menu.popup-open .configuracoes-menu-conteudo {
    justify-items: stretch;
    gap: 9px;
  }

  .configuracoes-menu.popup-open .configuracoes-menu-conteudo > .i18n-locale-slot-menu,
  .configuracoes-menu.popup-open .configuracoes-menu-conteudo > .btn-backup,
  .configuracoes-menu.popup-open .configuracoes-menu-conteudo > .btn-reset {
    width: 100% !important;
    max-width: none;
    margin-left: 0;
    margin-right: 0;
  }

  .configuracoes-menu.popup-open .configuracoes-menu-conteudo > .i18n-locale-slot-menu {
    margin-bottom: 2px;
  }

  .configuracoes-menu.popup-open .configuracoes-menu-conteudo .i18n-locale-control {
    min-height: 42px;
    border-radius: 11px;
    padding: 6px 8px;
    display: grid;
    grid-template-columns: auto minmax(0, 1fr);
    align-items: center;
    column-gap: 8px;
  }

  .configuracoes-menu.popup-open .configuracoes-menu-conteudo .i18n-locale-label {
    min-width: 58px;
    text-align: left;
    line-height: 1;
  }

  .configuracoes-menu.popup-open .configuracoes-menu-conteudo .i18n-locale-select {
    height: 32px;
    width: 100%;
  }

  .configuracoes-menu.popup-open .configuracoes-menu-conteudo .btn-backup,
  .configuracoes-menu.popup-open .configuracoes-menu-conteudo .btn-reset {
    min-height: 42px;
    padding: 10px 12px;
    grid-template-columns: 18px minmax(0, 1fr);
    justify-content: stretch;
    justify-items: start;
    column-gap: 8px;
  }

  .configuracoes-menu.popup-open .configuracoes-menu-conteudo .btn-backup span,
  .configuracoes-menu.popup-open .configuracoes-menu-conteudo .btn-reset span {
    text-align: left;
    width: 100%;
  }

  .configuracoes-menu.popup-open .configuracoes-menu-conteudo .btn-backup i,
  .configuracoes-menu.popup-open .configuracoes-menu-conteudo .btn-reset i {
    justify-self: center;
  }

  .configuracoes-menu.popup-open .configuracoes-menu-conteudo .backup-divider {
    margin: 6px 0 2px;
  }
}

/* Dev Tools page */
body.pagina-dev-tools {
  margin: 0;
  min-height: 100vh;
  background:
    radial-gradient(90% 80% at 0% 0%, rgba(36, 92, 184, 0.16), transparent 60%),
    radial-gradient(80% 70% at 100% 0%, rgba(23, 150, 123, 0.12), transparent 62%),
    linear-gradient(180deg, #06101f 0%, #040b16 100%);
  color: #e9f2ff;
}

.dev-tools-shell {
  width: min(1280px, calc(100vw - 20px));
  margin: 14px auto 24px;
  display: grid;
  gap: 14px;
}

.dev-tools-hero {
  border-radius: 18px;
  border: 1px solid rgba(95, 133, 205, 0.22);
  background:
    radial-gradient(120% 150% at 0% 0%, rgba(53, 106, 197, 0.15), transparent 58%),
    radial-gradient(80% 120% at 100% 0%, rgba(19, 143, 115, 0.14), transparent 60%),
    linear-gradient(180deg, rgba(8, 18, 34, 0.95), rgba(6, 14, 27, 0.94));
  box-shadow: 0 18px 38px rgba(3, 8, 19, 0.36), inset 0 1px 0 rgba(255, 255, 255, 0.03);
  padding: 16px;
  display: grid;
  grid-template-columns: minmax(0, 1.25fr) minmax(340px, 0.95fr);
  gap: 14px;
}

.dev-tools-kicker {
  margin: 0 0 8px;
  color: #7ec3ff;
  font-weight: 800;
  font-size: 0.82rem;
  letter-spacing: 0.14em;
  text-transform: uppercase;
}

.dev-tools-hero h1 {
  margin: 0;
  font-size: clamp(1.55rem, 2.3vw, 2.15rem);
  line-height: 1.1;
  color: #f6fbff;
}

.dev-tools-subtitulo {
  margin: 10px 0 0;
  color: #b9cbe6;
  line-height: 1.45;
  max-width: 62ch;
}

.dev-tools-feedback {
  margin: 10px 0 0;
  min-height: 1.2em;
  color: #9fc0ea;
  font-size: 0.9rem;
}

.dev-tools-feedback.is-ok { color: #7ff0c1; }
.dev-tools-feedback.is-warn { color: #ffd782; }
.dev-tools-feedback.is-error { color: #ff9ca0; }
.dev-tools-feedback.is-info { color: #9fc0ea; }

.dev-tools-hero-actions {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 10px;
  align-content: start;
  padding: 10px;
  border: 1px solid rgba(86, 119, 181, 0.22);
  border-radius: 14px;
  background: rgba(7, 15, 29, 0.74);
}

.dev-tools-hero-actions .i18n-locale-slot {
  grid-column: 1 / -1;
  min-width: 0;
}

.dev-tools-btn {
  appearance: none;
  border: 1px solid rgba(91, 132, 200, 0.28);
  border-radius: 12px;
  background: linear-gradient(180deg, #235fa4, #1d4f8a);
  color: #f3f9ff;
  min-height: 42px;
  padding: 0 12px;
  font: 700 0.92rem/1 "Montserrat", sans-serif;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  cursor: pointer;
  transition: transform 140ms ease, filter 140ms ease, border-color 140ms ease;
}

.dev-tools-btn:hover,
.dev-tools-btn:focus-visible,
.dev-tools-quick-btn:hover,
.dev-tools-quick-btn:focus-visible,
.dev-tools-sim-btn:hover,
.dev-tools-sim-btn:focus-visible { transform: translateY(-1px); filter: brightness(1.05); }

.dev-tools-btn:active,
.dev-tools-quick-btn:active,
.dev-tools-sim-btn:active { transform: translateY(0); }

.dev-tools-btn-ghost {
  background: linear-gradient(180deg, rgba(20, 34, 61, 0.95), rgba(14, 26, 48, 0.95));
  color: #d5e5fb;
}

.dev-tools-btn-danger {
  background: linear-gradient(180deg, #a52a44, #8d2237);
  border-color: rgba(233, 122, 143, 0.25);
}

.dev-tools-usuario {
  grid-column: 1 / -1;
  min-width: 0;
  display: grid;
  grid-template-columns: auto 1fr;
  gap: 10px;
  align-items: center;
  border: 1px solid rgba(88, 126, 191, 0.22);
  border-radius: 12px;
  padding: 10px;
  background: rgba(6, 14, 27, 0.8);
}

.dev-tools-usuario-icone {
  width: 38px;
  height: 38px;
  border-radius: 999px;
  display: grid;
  place-items: center;
  background: linear-gradient(180deg, rgba(33, 66, 118, 0.95), rgba(24, 48, 84, 0.95));
  color: #d2e9ff;
  border: 1px solid rgba(115, 151, 212, 0.24);
}

.dev-tools-usuario-textos { min-width: 0; display: grid; gap: 2px; }
.dev-tools-usuario-textos small { color: #a9bfdd; }
.dev-tools-usuario-textos strong { color: #f0f6ff; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

.dev-tools-grid { display: grid; gap: 14px; }

.dev-tools-card {
  border-radius: 16px;
  border: 1px solid rgba(84, 123, 185, 0.2);
  background: linear-gradient(180deg, rgba(7, 15, 28, 0.96), rgba(5, 11, 21, 0.96));
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.02);
  padding: 14px;
}

.dev-tools-card-head {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  align-items: flex-start;
  gap: 12px;
  margin-bottom: 12px;
}

.dev-tools-card-kicker {
  margin: 0 0 5px;
  color: #86bfff;
  font-size: 0.78rem;
  text-transform: uppercase;
  font-weight: 800;
  letter-spacing: 0.12em;
}

.dev-tools-card h2 { margin: 0; font-size: 1.08rem; color: #f3f8ff; }
.dev-tools-card h3 { margin: 0; font-size: 0.95rem; color: #eef6ff; }

.dev-tools-card-actions { display: flex; flex-wrap: wrap; gap: 8px; }

.dev-tools-quick-grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 10px;
}

.dev-tools-quick-btn {
  appearance: none;
  border: 1px solid rgba(90, 129, 196, 0.22);
  border-radius: 12px;
  background: linear-gradient(180deg, rgba(16, 32, 58, 0.96), rgba(11, 22, 42, 0.96));
  color: #dbeaff;
  min-height: 54px;
  padding: 10px 12px;
  text-align: left;
  font: 700 0.9rem/1.25 "Montserrat", sans-serif;
  display: flex;
  align-items: center;
  gap: 10px;
  cursor: pointer;
}

.dev-tools-quick-btn i { width: 18px; text-align: center; color: #7cc0ff; }

.dev-tools-inline-fields { display: flex; flex-wrap: wrap; gap: 10px; }
.dev-tools-inline-fields label { display: grid; gap: 6px; min-width: 180px; }
.dev-tools-inline-fields label span { color: #b6c9e8; font-size: 0.82rem; font-weight: 700; }

.dev-tools-inline-fields input,
.dev-tools-card input,
.dev-tools-card select,
.dev-tools-card textarea {
  width: 100%;
  min-height: 38px;
  border-radius: 10px;
  border: 1px solid rgba(84, 120, 184, 0.25);
  background: rgba(5, 12, 23, 0.92);
  color: #eef6ff;
  padding: 0 10px;
  font: 600 0.9rem/1.2 "Montserrat", sans-serif;
  outline: none;
}

.dev-tools-card input:focus,
.dev-tools-card select:focus,
.dev-tools-card textarea:focus {
  border-color: rgba(109, 168, 255, 0.55);
  box-shadow: 0 0 0 3px rgba(63, 124, 215, 0.15);
}

.dev-tools-sim-grid { display: grid; grid-template-columns: repeat(4, minmax(0, 1fr)); gap: 10px; }

.dev-tools-notify-grid {
  margin-top: 12px;
  grid-template-columns: repeat(3, minmax(0, 1fr));
}

.dev-tools-notify-grid .dev-tools-sim-btn {
  min-height: 58px;
  justify-content: flex-start;
  text-align: left;
  align-items: center;
}

.dev-tools-notify-grid .dev-tools-sim-btn span {
  line-height: 1.2;
}

.dev-tools-sim-btn {
  appearance: none;
  border-radius: 12px;
  border: 1px solid rgba(84, 120, 184, 0.25);
  min-height: 50px;
  padding: 10px;
  background: linear-gradient(180deg, rgba(18, 30, 53, 0.96), rgba(12, 23, 41, 0.96));
  color: #eef5ff;
  font: 700 0.88rem/1.2 "Montserrat", sans-serif;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  cursor: pointer;
}

.dev-tools-sim-btn.is-approved { border-color: rgba(72, 194, 143, 0.34); }
.dev-tools-sim-btn.is-approved i { color: #5ae8b0; }
.dev-tools-sim-btn.is-rejected { border-color: rgba(229, 107, 115, 0.3); }
.dev-tools-sim-btn.is-rejected i { color: #ff9aa3; }
.dev-tools-sim-btn.is-pending { border-color: rgba(236, 200, 94, 0.3); }
.dev-tools-sim-btn.is-pending i { color: #ffd978; }
.dev-tools-sim-btn.is-duplicate { border-color: rgba(151, 131, 255, 0.3); }
.dev-tools-sim-btn.is-duplicate i { color: #b4a4ff; }

.dev-tools-subgrid { margin-top: 12px; display: grid; grid-template-columns: 1.15fr 0.85fr; gap: 10px; }
.dev-tools-subcard {
  border-radius: 12px;
  border: 1px solid rgba(84, 120, 184, 0.18);
  background: rgba(6, 13, 25, 0.66);
  padding: 10px;
}
.dev-tools-subcard-head { display: flex; align-items: center; justify-content: space-between; gap: 8px; margin-bottom: 8px; }
.dev-tools-text-btn {
  appearance: none;
  border: 0;
  background: transparent;
  color: #8dc4ff;
  font: 700 0.82rem/1 "Montserrat", sans-serif;
  cursor: pointer;
}

.dev-tools-code-block {
  margin: 0;
  min-height: 150px;
  max-height: 260px;
  overflow: auto;
  border-radius: 10px;
  border: 1px solid rgba(74, 111, 175, 0.2);
  background: rgba(4, 10, 19, 0.92);
  color: #d8ebff;
  padding: 10px;
  font: 600 0.8rem/1.45 Consolas, "Courier New", monospace;
}

.dev-tools-list,
.dev-tools-log-list { margin: 0; padding: 0; list-style: none; display: grid; gap: 8px; }

.dev-tools-list-item,
.dev-tools-log-item {
  border-radius: 10px;
  border: 1px solid rgba(77, 113, 176, 0.18);
  background: rgba(5, 12, 22, 0.72);
  padding: 10px;
}
.dev-tools-list-item.is-empty,
.dev-tools-log-item.is-empty { color: #9fb5d1; text-align: center; }
.dev-tools-list-item-head,
.dev-tools-log-item-head { display: flex; justify-content: space-between; align-items: center; gap: 8px; margin-bottom: 6px; }
.dev-tools-list-item-head time,
.dev-tools-log-item-head time { color: #9eb6d5; font-size: 0.76rem; }
.dev-tools-list-item-sub { margin-top: 5px; display: flex; flex-wrap: wrap; gap: 8px 12px; color: #acc2df; font-size: 0.78rem; }

.dev-tools-log-msg { color: #edf6ff; display: block; }
.dev-tools-log-meta {
  margin: 7px 0 0;
  white-space: pre-wrap;
  border-radius: 8px;
  border: 1px solid rgba(72, 105, 165, 0.16);
  background: rgba(4, 10, 19, 0.8);
  color: #bfd6f2;
  padding: 8px;
  font: 600 0.74rem/1.4 Consolas, "Courier New", monospace;
}

.dev-tools-log-badge,
.dev-tools-pill {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-height: 22px;
  padding: 0 8px;
  border-radius: 999px;
  border: 1px solid rgba(85, 123, 188, 0.2);
  background: rgba(15, 26, 47, 0.9);
  color: #d7e8ff;
  font: 800 0.7rem/1 "Montserrat", sans-serif;
  letter-spacing: 0.06em;
}

.dev-tools-pill.is-ok, .dev-tools-log-badge.is-ok { color: #9bf4ce; border-color: rgba(72, 202, 149, 0.3); }
.dev-tools-pill.is-warn, .dev-tools-log-badge.is-warn { color: #ffe09a; border-color: rgba(231, 191, 91, 0.28); }
.dev-tools-pill.is-error, .dev-tools-log-badge.is-error { color: #ffb6bd; border-color: rgba(227, 109, 117, 0.28); }
.dev-tools-pill.is-info, .dev-tools-log-badge.is-info { color: #cfe4ff; }
.dev-tools-pill.is-approved { color: #95f4cc; border-color: rgba(72, 202, 149, 0.28); }
.dev-tools-pill.is-rejected { color: #ffb6bd; border-color: rgba(227, 109, 117, 0.28); }
.dev-tools-pill.is-pending { color: #ffe09a; border-color: rgba(231, 191, 91, 0.28); }
.dev-tools-pill.is-duplicate { color: #d4c6ff; border-color: rgba(151, 131, 255, 0.25); }

.dev-tools-audit-grid { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 10px; }
.dev-tools-audit-card {
  border-radius: 12px;
  border: 1px solid rgba(81, 117, 180, 0.18);
  background: rgba(6, 13, 24, 0.7);
  padding: 10px;
}
.dev-tools-audit-card-head { display: flex; gap: 8px; align-items: center; margin-bottom: 6px; }
.dev-tools-audit-card p { margin: 0; color: #d8e7fb; line-height: 1.35; }
.dev-tools-audit-details { margin: 7px 0 0; padding-left: 16px; color: #b7cbe6; display: grid; gap: 3px; }
.dev-tools-audit-card.is-fail { border-color: rgba(227, 109, 117, 0.25); }
.dev-tools-audit-card.is-warn { border-color: rgba(231, 191, 91, 0.22); }
.dev-tools-audit-card.is-ok { border-color: rgba(72, 202, 149, 0.22); }

.dev-tools-toast {
  position: fixed;
  right: 12px;
  bottom: 12px;
  z-index: 3900;
  min-width: min(360px, calc(100vw - 24px));
  max-width: min(420px, calc(100vw - 24px));
  border-radius: 12px;
  border: 1px solid rgba(83, 120, 186, 0.26);
  background: rgba(7, 15, 29, 0.94);
  color: #ecf7ff;
  padding: 11px 12px;
  box-shadow: 0 16px 30px rgba(3, 8, 18, 0.35);
}
.dev-tools-toast.is-ok { border-color: rgba(72, 202, 149, 0.32); }
.dev-tools-toast.is-warn { border-color: rgba(231, 191, 91, 0.3); }
.dev-tools-toast.is-error { border-color: rgba(227, 109, 117, 0.32); }

.dev-tools-highlight { animation: devToolsPulse 1s ease; }
@keyframes devToolsPulse {
  0% { box-shadow: inset 0 1px 0 rgba(255,255,255,0.02), 0 0 0 0 rgba(108, 173, 255, 0.0); }
  25% { box-shadow: inset 0 1px 0 rgba(255,255,255,0.02), 0 0 0 3px rgba(108, 173, 255, 0.16); }
  100% { box-shadow: inset 0 1px 0 rgba(255,255,255,0.02), 0 0 0 0 rgba(108, 173, 255, 0); }
}

body.light-mode.pagina-dev-tools {
  background:
    radial-gradient(90% 80% at 0% 0%, rgba(117, 160, 231, 0.22), transparent 60%),
    radial-gradient(80% 70% at 100% 0%, rgba(120, 208, 186, 0.18), transparent 62%),
    linear-gradient(180deg, #edf3ff 0%, #e8effa 100%);
  color: #1f2940;
}
body.light-mode .dev-tools-hero,
body.light-mode .dev-tools-card { background: linear-gradient(180deg, rgba(255,255,255,0.97), rgba(246,249,255,0.96)); border-color: rgba(120, 142, 186, 0.26); }
body.light-mode .dev-tools-hero h1,
body.light-mode .dev-tools-card h2,
body.light-mode .dev-tools-card h3 { color: #1f2940; }
body.light-mode .dev-tools-subtitulo,
body.light-mode .dev-tools-feedback,
body.light-mode .dev-tools-inline-fields label span,
body.light-mode .dev-tools-list-item-sub,
body.light-mode .dev-tools-audit-card p,
body.light-mode .dev-tools-audit-details,
body.light-mode .dev-tools-log-item-head time { color: #54627d; }
body.light-mode .dev-tools-quick-btn,
body.light-mode .dev-tools-sim-btn,
body.light-mode .dev-tools-subcard,
body.light-mode .dev-tools-log-item,
body.light-mode .dev-tools-audit-card,
body.light-mode .dev-tools-hero-actions,
body.light-mode .dev-tools-usuario { background: rgba(255,255,255,0.9); border-color: rgba(124, 144, 185, 0.26); }
body.light-mode .dev-tools-card input,
body.light-mode .dev-tools-card select,
body.light-mode .dev-tools-card textarea,
body.light-mode .dev-tools-code-block,
body.light-mode .dev-tools-log-meta { background: rgba(247, 250, 255, 0.95); color: #1f2940; border-color: rgba(128, 147, 186, 0.22); }
body.light-mode .dev-tools-btn-ghost { background: linear-gradient(180deg, #f3f6fd, #e9eef8); color: #24314d; }
body.light-mode .dev-tools-usuario-textos strong { color: #1f2940; }

@media (max-width: 1080px) {
  .dev-tools-hero { grid-template-columns: 1fr; }
  .dev-tools-hero-actions { grid-template-columns: repeat(2, minmax(0, 1fr)); }
  .dev-tools-quick-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
  .dev-tools-sim-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
  .dev-tools-subgrid { grid-template-columns: 1fr; }
  .dev-tools-audit-grid { grid-template-columns: 1fr; }
}

@media (max-width: 640px) {
  .dev-tools-shell { width: calc(100vw - 10px); margin: 8px auto 18px; gap: 10px; }
  .dev-tools-hero,
  .dev-tools-card { padding: 10px; border-radius: 14px; }
  .dev-tools-hero-actions { grid-template-columns: 1fr; padding: 8px; gap: 8px; }
  .dev-tools-hero-actions .i18n-locale-slot,
  .dev-tools-usuario { grid-column: auto; }
  .dev-tools-btn { width: 100%; min-height: 44px; }
  .dev-tools-quick-grid,
  .dev-tools-sim-grid { grid-template-columns: 1fr; gap: 8px; }
  .dev-tools-inline-fields { width: 100%; display: grid; grid-template-columns: 1fr; gap: 8px; }
  .dev-tools-inline-fields label { min-width: 0; }
  .dev-tools-card-head { gap: 10px; }
  .dev-tools-card-actions { width: 100%; }
  .dev-tools-card-actions .dev-tools-btn { flex: 1 1 100%; }
  .dev-tools-toast { left: 8px; right: 8px; min-width: 0; max-width: none; }
}

/* Toasts: pagamento concluido */
.fin-pagamento-toast-stack {
  position: fixed;
  right: 12px;
  bottom: 14px;
  z-index: 3600;
  display: grid;
  gap: 8px;
  width: min(390px, calc(100vw - 24px));
  pointer-events: none;
}

.fin-pagamento-toast {
  pointer-events: auto;
  display: grid;
  grid-template-columns: auto 1fr auto;
  gap: 10px;
  align-items: start;
  border-radius: 12px;
  border: 1px solid rgba(82, 131, 201, 0.28);
  background:
    radial-gradient(120% 140% at 0% 0%, rgba(34, 109, 192, 0.18), transparent 62%),
    linear-gradient(180deg, rgba(10, 20, 38, 0.96), rgba(7, 14, 28, 0.96));
  box-shadow: 0 18px 34px rgba(3, 8, 18, 0.38);
  padding: 10px 10px 10px 11px;
  opacity: 0;
  transform: translateY(6px);
  transition: opacity 160ms ease, transform 160ms ease;
}

.fin-pagamento-toast.visivel {
  opacity: 1;
  transform: translateY(0);
}

.fin-pagamento-toast.saindo {
  opacity: 0;
  transform: translateY(4px);
}

.fin-pagamento-toast-icone {
  width: 34px;
  height: 34px;
  border-radius: 999px;
  display: grid;
  place-items: center;
  border: 1px solid rgba(77, 201, 151, 0.32);
  background: rgba(12, 30, 26, 0.9);
  color: #63f0be;
  margin-top: 1px;
}

.fin-pagamento-toast-conteudo {
  min-width: 0;
  display: grid;
  gap: 3px;
}

.fin-pagamento-toast-titulo {
  color: #eff8ff;
  font-weight: 800;
  font-size: 0.92rem;
  line-height: 1.15;
}

.fin-pagamento-toast-msg {
  color: #bfd5f0;
  font-size: 0.82rem;
  line-height: 1.28;
  word-break: break-word;
}

.fin-pagamento-toast-fechar {
  appearance: none;
  width: 28px;
  height: 28px;
  border-radius: 8px;
  border: 1px solid rgba(86, 121, 185, 0.22);
  background: rgba(11, 20, 38, 0.9);
  color: #caddf6;
  display: grid;
  place-items: center;
  cursor: pointer;
  transition: filter 140ms ease, transform 140ms ease;
}

.fin-pagamento-toast-fechar:hover,
.fin-pagamento-toast-fechar:focus-visible {
  filter: brightness(1.08);
  transform: translateY(-1px);
}

.fin-pagamento-toast-fechar:active {
  transform: translateY(0);
}

.fin-pagamento-toast-info .fin-pagamento-toast-icone {
  border-color: rgba(95, 162, 255, 0.28);
  background: rgba(11, 22, 41, 0.92);
  color: #8fc6ff;
}

body.light-mode .fin-pagamento-toast {
  border-color: rgba(127, 145, 186, 0.28);
  background:
    radial-gradient(120% 140% at 0% 0%, rgba(118, 166, 233, 0.2), transparent 62%),
    linear-gradient(180deg, rgba(255, 255, 255, 0.98), rgba(246, 249, 255, 0.98));
  box-shadow: 0 16px 30px rgba(45, 58, 85, 0.18);
}

body.light-mode .fin-pagamento-toast-titulo {
  color: #243149;
}

body.light-mode .fin-pagamento-toast-msg {
  color: #54627c;
}

body.light-mode .fin-pagamento-toast-fechar {
  border-color: rgba(132, 149, 187, 0.26);
  background: rgba(250, 252, 255, 0.95);
  color: #384661;
}

@media (max-width: 640px) {
  .fin-pagamento-toast-stack {
    left: 8px;
    right: 8px;
    bottom: 10px;
    width: auto;
  }

  .fin-pagamento-toast {
    grid-template-columns: auto 1fr;
    padding: 9px;
    gap: 8px;
  }

  .fin-pagamento-toast-fechar {
    grid-column: 2;
    justify-self: end;
    margin-top: -2px;
  }
}

/* Modal QR Mercado Pago */
#modalQrMercadoPago .modal-content {
  width: min(520px, calc(100vw - 22px));
  max-width: 520px;
  padding: 22px 18px 16px;
  border-radius: 16px;
  border: 1px solid rgba(90, 130, 194, 0.28);
  background:
    radial-gradient(110% 120% at 0% 0%, rgba(45, 125, 214, 0.18), transparent 60%),
    radial-gradient(90% 120% at 100% 0%, rgba(28, 188, 147, 0.12), transparent 56%),
    linear-gradient(180deg, rgba(10, 20, 39, 0.98), rgba(7, 15, 29, 0.97));
  box-shadow: 0 22px 40px rgba(3, 8, 18, 0.42);
}

#modalQrMercadoPago .close-modal-btn {
  position: absolute;
  top: 10px;
  right: 10px;
  width: 34px;
  height: 34px;
  border: 1px solid rgba(88, 123, 187, 0.24);
  border-radius: 10px;
  background: rgba(12, 22, 42, 0.85);
  color: #d7e6fb;
  display: grid;
  place-items: center;
  cursor: pointer;
  font-size: 1.2rem;
  line-height: 1;
}

#modalQrMercadoPago .close-modal-btn:hover {
  filter: brightness(1.08);
}

#modalQrMercadoPago h3 {
  margin: 0 28px 8px 0;
  text-align: center;
  color: #f1f8ff;
  font-size: 1.12rem;
  font-weight: 800;
}

.qr-mp-subtitulo {
  margin: 0 auto 12px;
  text-align: center;
  color: #bdd1ec;
  line-height: 1.35;
  max-width: 42ch;
  font-size: 0.9rem;
}

.qr-mp-loading {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  margin: 0 0 10px;
  color: #9dc3ed;
  font-weight: 700;
  font-size: 0.86rem;
}

.qr-mp-box {
  display: flex;
  justify-content: center;
  margin: 0 0 12px;
}

.qr-mp-canvas {
  width: min(320px, calc(100vw - 86px));
  min-height: 320px;
  display: grid;
  place-items: center;
  border-radius: 14px;
  border: 1px solid rgba(90, 129, 196, 0.24);
  background:
    linear-gradient(180deg, rgba(255, 255, 255, 0.98), rgba(245, 249, 255, 0.98));
  padding: 12px;
}

.qr-mp-imagem,
.qr-mp-canvas-el {
  width: 100% !important;
  height: auto !important;
  max-width: 296px;
  border-radius: 10px;
  background: #fff;
}

.qr-mp-qrcodejs img {
  display: block;
}

.qr-mp-placeholder {
  width: 100%;
  min-height: 240px;
  border-radius: 10px;
  border: 1px dashed rgba(64, 95, 142, 0.28);
  background: rgba(236, 243, 255, 0.72);
  color: #234262;
  display: grid;
  place-items: center;
  text-align: center;
  padding: 16px;
  font-weight: 700;
  line-height: 1.3;
}

.qr-mp-placeholder.carregando {
  color: #35689b;
}

.qr-mp-placeholder.erro {
  color: #8a2236;
  background: rgba(255, 238, 243, 0.9);
  border-color: rgba(194, 86, 113, 0.28);
}

.qr-mp-placeholder.erro small {
  display: block;
  margin-top: 8px;
  font-weight: 600;
  line-height: 1.3;
  opacity: 0.92;
}

.qr-mp-meta {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 10px;
  margin-bottom: 10px;
}

.qr-mp-meta-item {
  border-radius: 12px;
  border: 1px solid rgba(86, 122, 186, 0.2);
  background: rgba(10, 19, 36, 0.7);
  padding: 10px;
  display: grid;
  gap: 4px;
}

.qr-mp-meta-item small {
  color: #a8bfdc;
}

.qr-mp-meta-item strong {
  color: #eef7ff;
  word-break: break-word;
}

.qr-mp-status-wrap {
  margin: 0 0 10px;
  border-radius: 12px;
  border: 1px solid rgba(86, 122, 186, 0.2);
  background: rgba(8, 16, 31, 0.72);
  padding: 10px;
  display: grid;
  gap: 6px;
}

.qr-mp-status-top {
  display: flex;
  align-items: center;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: 8px;
}

.qr-mp-status-top small {
  color: #a8bfdc;
  font-weight: 700;
}

.qr-mp-status-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-height: 24px;
  padding: 4px 10px;
  border-radius: 999px;
  border: 1px solid rgba(120, 144, 184, 0.24);
  background: rgba(21, 34, 57, 0.9);
  color: #d9e8fb;
  font-size: 0.75rem;
  font-weight: 800;
  letter-spacing: 0.02em;
  text-transform: uppercase;
}

.qr-mp-status-badge.is-pending {
  color: #f4dc98;
  border-color: rgba(220, 187, 86, 0.28);
  background: rgba(71, 58, 17, 0.45);
}

.qr-mp-status-badge.is-success {
  color: #9ff0c8;
  border-color: rgba(73, 201, 146, 0.28);
  background: rgba(12, 64, 45, 0.45);
}

.qr-mp-status-badge.is-error {
  color: #ffb9c7;
  border-color: rgba(228, 89, 125, 0.28);
  background: rgba(78, 20, 34, 0.48);
}

.qr-mp-status-badge.is-info {
  color: #b8d8ff;
  border-color: rgba(92, 148, 225, 0.28);
  background: rgba(18, 46, 85, 0.45);
}

.qr-mp-status-msg {
  color: #dbeaff;
  font-weight: 600;
  line-height: 1.35;
  font-size: 0.86rem;
  word-break: break-word;
}

.qr-mp-status-meta {
  color: #97afd0;
  font-size: 0.76rem;
  line-height: 1.3;
  word-break: break-word;
}

.qr-mp-link-wrap {
  margin-bottom: 10px;
}

#qr-mp-link {
  width: 100%;
  min-height: 40px;
  border-radius: 10px;
  border: 1px solid rgba(88, 123, 188, 0.24);
  background: rgba(5, 12, 23, 0.9);
  color: #d7e8ff;
  font-size: 0.86rem;
  font-weight: 600;
  padding: 0 10px;
}

.qr-mp-acoes {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}

.qr-mp-acoes .btn-acao-principal {
  width: 100%;
  margin: 0;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

.qr-mp-acoes .btn-acao-principal:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.qr-mp-btn-secondary {
  background: linear-gradient(180deg, rgba(24, 38, 65, 0.95), rgba(16, 28, 48, 0.95)) !important;
  border: 1px solid rgba(91, 131, 201, 0.22) !important;
  color: #d9eaff !important;
}

body.light-mode #modalQrMercadoPago .modal-content {
  border-color: rgba(126, 143, 181, 0.28);
  background:
    radial-gradient(110% 120% at 0% 0%, rgba(118, 166, 233, 0.20), transparent 60%),
    radial-gradient(90% 120% at 100% 0%, rgba(120, 208, 186, 0.16), transparent 56%),
    linear-gradient(180deg, rgba(255, 255, 255, 0.98), rgba(246, 249, 255, 0.98));
  box-shadow: 0 18px 32px rgba(40, 58, 89, 0.18);
}

body.light-mode #modalQrMercadoPago h3 { color: #243149; }
body.light-mode .qr-mp-subtitulo { color: #586680; }
body.light-mode #modalQrMercadoPago .close-modal-btn {
  background: rgba(245, 248, 254, 0.95);
  border-color: rgba(132, 149, 187, 0.26);
  color: #384661;
}
body.light-mode .qr-mp-meta-item {
  background: rgba(255, 255, 255, 0.92);
  border-color: rgba(124, 144, 185, 0.22);
}
body.light-mode .qr-mp-meta-item small { color: #6a7892; }
body.light-mode .qr-mp-meta-item strong { color: #27364f; }
body.light-mode .qr-mp-status-wrap {
  background: rgba(255, 255, 255, 0.92);
  border-color: rgba(124, 144, 185, 0.22);
}
body.light-mode .qr-mp-status-top small { color: #6a7892; }
body.light-mode .qr-mp-status-msg { color: #26374f; }
body.light-mode .qr-mp-status-meta { color: #6d7c95; }
body.light-mode #qr-mp-link {
  background: rgba(250, 252, 255, 0.96);
  border-color: rgba(128, 147, 186, 0.22);
  color: #243149;
}

/* Tokens Mercado Pago (por usuario) */
.btn-backup-mp-credenciais {
  background: linear-gradient(135deg, rgba(24, 68, 118, 0.95), rgba(14, 46, 85, 0.95));
  border-color: rgba(92, 152, 228, 0.26);
}

body.light-mode .btn-backup-mp-credenciais {
  background: linear-gradient(135deg, #eaf3ff, #dbe9fb);
  border-color: rgba(111, 151, 210, 0.28);
  color: #243149;
}

.modal-mp-credenciais .modal-content {
  width: min(560px, calc(100vw - 14px));
  max-width: 560px;
  padding: 20px 16px 14px;
  border-radius: 14px;
  border: 1px solid rgba(95, 132, 196, 0.22);
  background:
    radial-gradient(120% 130% at 0% 0%, rgba(74, 126, 205, 0.16), transparent 60%),
    radial-gradient(90% 120% at 100% 0%, rgba(72, 182, 154, 0.12), transparent 58%),
    linear-gradient(180deg, rgba(13, 20, 35, 0.98), rgba(9, 15, 28, 0.98));
  box-shadow: 0 20px 36px rgba(2, 8, 17, 0.52);
}

.modal-mp-credenciais h3 {
  margin: 0 28px 8px 0;
  color: #f1f8ff;
  font-size: 1.05rem;
  font-weight: 800;
  text-align: center;
}

.modal-mp-credenciais .close-modal-btn {
  position: absolute;
  top: 10px;
  right: 10px;
  width: 30px;
  height: 30px;
  border-radius: 10px;
  border: 1px solid rgba(109, 146, 206, 0.25);
  background: rgba(11, 20, 36, 0.85);
  color: #d7e6fb;
  display: grid;
  place-items: center;
  cursor: pointer;
}

.modal-mp-credenciais .close-modal-btn:hover {
  filter: brightness(1.06);
}

.mp-credenciais-ajuda {
  margin: 0 0 12px;
  color: #b7cbe7;
  line-height: 1.35;
  font-size: 0.88rem;
}

.mp-credenciais-campo {
  display: grid;
  gap: 6px;
  margin-bottom: 10px;
}

.mp-credenciais-campo span {
  color: #d9e6fb;
  font-size: 0.84rem;
  font-weight: 700;
}

.mp-credenciais-campo input {
  width: 100%;
  height: 42px;
  border-radius: 10px;
  border: 1px solid rgba(86, 122, 186, 0.24);
  background: rgba(7, 13, 25, 0.9);
  color: #e6f0ff;
  padding: 0 12px;
  font-size: 0.92rem;
}

.mp-credenciais-campo input:focus {
  outline: none;
  border-color: rgba(109, 161, 241, 0.48);
  box-shadow: 0 0 0 3px rgba(76, 142, 236, 0.14);
}

.mp-credenciais-feedback {
  min-height: 18px;
  margin: 2px 0 10px;
  font-size: 0.82rem;
  line-height: 1.25;
  color: #a9c3e8;
}

.mp-credenciais-feedback[data-tipo="ok"] {
  color: #95edc0;
}

.mp-credenciais-feedback[data-tipo="warn"] {
  color: #f0d091;
}

.mp-credenciais-acoes {
  display: grid;
  grid-template-columns: 1fr 1fr 1.15fr;
  gap: 8px;
}

.mp-credenciais-acoes .btn-mini,
.mp-credenciais-acoes .btn-acao-principal {
  width: 100%;
  margin: 0;
}

body.light-mode .modal-mp-credenciais .modal-content {
  border-color: rgba(126, 143, 181, 0.28);
  background:
    radial-gradient(110% 120% at 0% 0%, rgba(118, 166, 233, 0.18), transparent 60%),
    radial-gradient(90% 120% at 100% 0%, rgba(120, 208, 186, 0.14), transparent 56%),
    linear-gradient(180deg, rgba(255, 255, 255, 0.98), rgba(246, 249, 255, 0.98));
  box-shadow: 0 18px 32px rgba(40, 58, 89, 0.18);
}

body.light-mode .modal-mp-credenciais h3 { color: #243149; }
body.light-mode .mp-credenciais-ajuda { color: #55637c; }
body.light-mode .mp-credenciais-campo span { color: #334055; }
body.light-mode .mp-credenciais-campo input {
  background: rgba(250, 252, 255, 0.96);
  border-color: rgba(128, 147, 186, 0.22);
  color: #243149;
}
body.light-mode .mp-credenciais-feedback { color: #55637c; }
body.light-mode .modal-mp-credenciais .close-modal-btn {
  background: rgba(245, 248, 254, 0.95);
  border-color: rgba(132, 149, 187, 0.26);
  color: #384661;
}

@media (max-width: 560px) {
  .modal-mp-credenciais .modal-content {
    padding: 18px 10px 12px;
    border-radius: 14px;
  }

  .mp-credenciais-acoes {
    grid-template-columns: 1fr;
  }

  .mp-credenciais-campo input {
    height: 40px;
    font-size: 0.9rem;
  }
}
body.light-mode .qr-mp-btn-secondary {
  background: linear-gradient(180deg, #eff4fc, #e6edf9) !important;
  color: #243149 !important;
  border-color: rgba(126, 145, 185, 0.24) !important;
}

@media (max-width: 560px) {
  #modalQrMercadoPago .modal-content {
    width: calc(100vw - 12px);
    padding: 18px 10px 12px;
    border-radius: 14px;
  }

  .qr-mp-canvas {
    width: 100%;
    min-height: 260px;
    padding: 10px;
  }

  .qr-mp-meta {
    grid-template-columns: 1fr;
    gap: 8px;
  }

  .qr-mp-acoes {
    grid-template-columns: 1fr;
    gap: 8px;
  }
}

/* =========================================
   SIDEBAR - BOTAO DE USUARIO AO LADO DO LOGO
   ========================================= */
.sidebar > .sidebar-usuario-menu {
  position: absolute;
  top: 12px;
  left: 62px;
  right: 14px;
  width: auto;
  margin: 0;
  z-index: 1062;
}

@media (max-width: 768px) {
  .sidebar > .sidebar-usuario-menu {
    top: max(10px, env(safe-area-inset-top));
    left: 58px;
    right: 10px;
  }
}

/* =========================================
   ECONOMIAS - BOTAO RESUMO NO TOPO DIREITO
   ========================================= */
body.pagina-economias .btn-resumo-economias-topo {
  position: fixed;
  top: max(12px, env(safe-area-inset-top));
  right: 15px;
  z-index: 1101;
  height: 42px;
  padding: 0 14px;
  border-radius: 12px;
  border: 1px solid rgba(93, 145, 214, 0.58);
  background: linear-gradient(145deg, rgba(16, 30, 52, 0.96), rgba(10, 21, 38, 0.94));
  color: #eaf4ff;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  font-size: 0.86rem;
  font-weight: 700;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  cursor: pointer;
  box-shadow: 0 10px 20px rgba(8, 16, 30, 0.34);
  transition: transform 180ms ease, filter 180ms ease, border-color 180ms ease;
}

body.pagina-economias .btn-resumo-economias-topo i {
  color: #8ec6ff;
}

body.pagina-economias .btn-resumo-economias-topo:hover,
body.pagina-economias .btn-resumo-economias-topo:focus-visible {
  transform: translateY(-1px);
  filter: brightness(1.05);
  border-color: rgba(141, 186, 245, 0.72);
}

body.light-mode.pagina-economias .btn-resumo-economias-topo {
  border-color: rgba(95, 131, 183, 0.64);
  background: linear-gradient(145deg, rgba(232, 243, 255, 0.98), rgba(215, 232, 252, 0.97));
  color: #1f436f;
  box-shadow: 0 10px 18px rgba(45, 72, 112, 0.20);
}

body.light-mode.pagina-economias .btn-resumo-economias-topo i {
  color: #2f68ab;
}

@media (max-width: 768px) {
  body.pagina-economias .btn-resumo-economias-topo {
    right: 10px;
    height: 40px;
    padding: 0 12px;
    font-size: 0.8rem;
  }
}

/* =========================================
   RESUMO ECONOMIAS - CABECALHO CENTRAL + CARDS REFINADOS
   ========================================= */
body.pagina-resumo-economias .resumo-economias-header {
  display: flex;
  flex-direction: column;
  align-items: center !important;
  justify-content: center;
  width: 100%;
  gap: 12px;
  text-align: center !important;
  margin: 0 auto 26px;
}

body.pagina-resumo-economias #titulo-resumo-economias {
  width: 100%;
  margin: 0 auto !important;
  text-align: center !important;
  letter-spacing: 2px;
  color: #e5f0ff;
  text-shadow: 0 8px 20px rgba(25, 74, 136, 0.28), 0 1px 0 rgba(0, 0, 0, 0.45);
}

body.pagina-resumo-economias .subtitulo-resumo-economias {
  width: 100%;
  max-width: 900px;
  margin: 0 auto !important;
  text-align: center !important;
  color: #c9dbf5;
  line-height: 1.5;
}

body.pagina-resumo-economias .resumo-economias-cards {
  gap: 16px;
  margin-bottom: 24px;
}

body.pagina-resumo-economias .resumo-economias-cards .card {
  position: relative;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 8px;
  min-height: 136px;
  padding: 18px 16px;
  text-align: center;
  border-radius: 20px;
  border: 1px solid rgba(128, 158, 205, 0.44);
  box-shadow: 0 16px 30px rgba(6, 12, 24, 0.34), inset 0 1px 0 rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(5px);
  -webkit-backdrop-filter: blur(5px);
}

body.pagina-resumo-economias .resumo-economias-cards .card::before {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(145deg, rgba(255, 255, 255, 0.16), rgba(255, 255, 255, 0) 45%);
  pointer-events: none;
}

body.pagina-resumo-economias .resumo-economias-cards .card h3 {
  min-height: 2.5em;
  margin: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  line-height: 1.25;
  font-size: 0.86rem;
  letter-spacing: 1.35px;
  text-shadow: 0 1px 0 rgba(0, 0, 0, 0.2);
}

body.pagina-resumo-economias .resumo-economias-cards .card p {
  margin: 0;
  line-height: 1.1;
  font-size: clamp(1.55rem, 2.8vw, 2.1rem);
  font-weight: 900;
  font-variant-numeric: tabular-nums;
  text-shadow: 0 6px 18px rgba(0, 0, 0, 0.26);
}

body.pagina-resumo-economias .resumo-economias-cards .card-pendente {
  background: linear-gradient(145deg, rgba(90, 74, 30, 0.70), rgba(19, 34, 53, 0.90));
  border-color: rgba(218, 179, 86, 0.56);
}

body.pagina-resumo-economias .resumo-economias-cards .card-pendente h3,
body.pagina-resumo-economias .resumo-economias-cards .card-pendente p {
  color: #f3da95;
}

body.pagina-resumo-economias .resumo-economias-cards .card-despesas {
  background: linear-gradient(145deg, rgba(88, 34, 43, 0.68), rgba(18, 34, 54, 0.90));
  border-color: rgba(224, 120, 127, 0.54);
}

body.pagina-resumo-economias .resumo-economias-cards .card-despesas h3,
body.pagina-resumo-economias .resumo-economias-cards .card-despesas p {
  color: #f49aa0;
}

body.pagina-resumo-economias .resumo-economias-cards .card-recebido {
  background: linear-gradient(145deg, rgba(29, 97, 80, 0.68), rgba(18, 35, 54, 0.90));
  border-color: rgba(98, 202, 168, 0.54);
}

body.pagina-resumo-economias .resumo-economias-cards .card-recebido h3,
body.pagina-resumo-economias .resumo-economias-cards .card-recebido p {
  color: #7be1ba;
}

body.pagina-resumo-economias .resumo-economias-cards .card-geral {
  background: linear-gradient(145deg, rgba(37, 70, 108, 0.72), rgba(18, 33, 53, 0.92));
  border-color: rgba(128, 170, 230, 0.56);
}

body.pagina-resumo-economias .resumo-economias-cards .card-geral h3,
body.pagina-resumo-economias .resumo-economias-cards .card-geral p {
  color: #a5ccff;
}

body.light-mode.pagina-resumo-economias #titulo-resumo-economias {
  color: #2b476e;
  text-shadow: none;
}

body.light-mode.pagina-resumo-economias .subtitulo-resumo-economias {
  color: #4f6889;
}

body.light-mode.pagina-resumo-economias .resumo-economias-cards .card {
  border-color: rgba(83, 118, 170, 0.32);
  box-shadow: 0 10px 22px rgba(36, 55, 85, 0.14), inset 0 1px 0 rgba(255, 255, 255, 0.86);
}

body.light-mode.pagina-resumo-economias .resumo-economias-cards .card::before {
  background: linear-gradient(145deg, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0) 45%);
}

body.light-mode.pagina-resumo-economias .resumo-economias-cards .card-pendente {
  background: linear-gradient(145deg, rgba(249, 238, 208, 0.98), rgba(238, 246, 255, 0.98));
  border-color: rgba(170, 130, 48, 0.42);
}

body.light-mode.pagina-resumo-economias .resumo-economias-cards .card-pendente h3,
body.light-mode.pagina-resumo-economias .resumo-economias-cards .card-pendente p {
  color: #7f5b20;
}

body.light-mode.pagina-resumo-economias .resumo-economias-cards .card-despesas {
  background: linear-gradient(145deg, rgba(252, 228, 232, 0.98), rgba(239, 246, 255, 0.98));
  border-color: rgba(182, 92, 99, 0.38);
}

body.light-mode.pagina-resumo-economias .resumo-economias-cards .card-despesas h3,
body.light-mode.pagina-resumo-economias .resumo-economias-cards .card-despesas p {
  color: #8f3f46;
}

body.light-mode.pagina-resumo-economias .resumo-economias-cards .card-recebido {
  background: linear-gradient(145deg, rgba(223, 245, 235, 0.98), rgba(239, 246, 255, 0.98));
  border-color: rgba(73, 154, 124, 0.38);
}

body.light-mode.pagina-resumo-economias .resumo-economias-cards .card-recebido h3,
body.light-mode.pagina-resumo-economias .resumo-economias-cards .card-recebido p {
  color: #2e6855;
}

body.light-mode.pagina-resumo-economias .resumo-economias-cards .card-geral {
  background: linear-gradient(145deg, rgba(219, 234, 253, 0.98), rgba(239, 246, 255, 0.98));
  border-color: rgba(74, 119, 184, 0.38);
}

body.light-mode.pagina-resumo-economias .resumo-economias-cards .card-geral h3,
body.light-mode.pagina-resumo-economias .resumo-economias-cards .card-geral p {
  color: #2d578e;
}

@media (max-width: 720px) {
  body.pagina-resumo-economias #titulo-resumo-economias {
    letter-spacing: 1.1px;
  }

  body.pagina-resumo-economias .subtitulo-resumo-economias {
    max-width: 96%;
    font-size: 0.95rem;
  }

  body.pagina-resumo-economias .resumo-economias-cards .card p {
    font-size: clamp(1.35rem, 6.5vw, 1.8rem);
  }
}

/* =========================================
   i18n - seletor de idioma
   ========================================= */
.i18n-locale-slot {
  width: 100%;
}

.i18n-locale-slot-menu {
  margin: 0 0 10px;
}

.i18n-locale-slot-inline {
  width: auto;
  min-width: 170px;
}

.i18n-locale-slot-login {
  margin: 10px 0 14px;
}

.i18n-locale-slot-offline {
  margin: 2px 0 12px;
}

.i18n-locale-control {
  display: flex;
  align-items: center;
  gap: 8px;
  width: 100%;
  border: 1px solid rgba(93, 128, 184, 0.22);
  border-radius: 12px;
  background: linear-gradient(180deg, rgba(10, 20, 37, 0.88), rgba(7, 15, 29, 0.84));
  padding: 7px 8px;
}

.i18n-locale-slot-inline .i18n-locale-control {
  min-height: 42px;
  border-radius: 10px;
  background: rgba(8, 19, 35, 0.78);
}

.i18n-locale-label {
  color: var(--text-muted);
  font-size: 0.78rem;
  font-weight: 800;
  letter-spacing: 0.02em;
  white-space: nowrap;
}

.i18n-locale-select {
  flex: 1;
  min-width: 0;
  height: 30px;
  border-radius: 9px;
  border: 1px solid rgba(110, 147, 206, 0.26);
  background: rgba(6, 13, 25, 0.92);
  color: var(--text-main);
  padding: 0 8px;
  font-family: inherit;
  font-size: 0.84rem;
  font-weight: 700;
  outline: none;
}

.i18n-locale-select:focus {
  border-color: rgba(74, 169, 255, 0.55);
  box-shadow: 0 0 0 3px rgba(45, 129, 218, 0.14);
}

body.light-mode .i18n-locale-control {
  border-color: rgba(97, 122, 162, 0.18);
  background: linear-gradient(180deg, rgba(248, 251, 255, 0.95), rgba(238, 245, 254, 0.93));
}

body.light-mode .i18n-locale-slot-inline .i18n-locale-control {
  background: rgba(246, 250, 255, 0.95);
}

body.light-mode .i18n-locale-select {
  border-color: rgba(119, 142, 177, 0.24);
  background: rgba(255, 255, 255, 0.96);
  color: #1d2a3d;
}

@media (max-width: 640px) {
  .i18n-locale-slot-inline {
    min-width: 150px;
  }

  .i18n-locale-control {
    padding: 6px 7px;
    gap: 7px;
  }

  .i18n-locale-label {
    font-size: 0.73rem;
  }

  .i18n-locale-select {
    height: 28px;
    font-size: 0.8rem;
  }
}

/* =========================================
   Mobile Optimization (Global)
   ========================================= */
@media (max-width: 640px) {
  body {
    font-size: 15px;
  }

  .main-content {
    padding: 18px 14px 120px;
    padding-top: 72px;
  }

  .titulo-mes-nav {
    margin: -26px 0 16px;
    gap: 10px;
  }

  #titulo-pagina {
    font-size: clamp(1.5rem, 6.5vw, 2rem);
    letter-spacing: 1px;
  }

  .dashboard,
  .dashboard-despesas {
    grid-template-columns: 1fr;
    gap: 14px;
  }

  .card {
    border-radius: 16px;
    padding: 16px;
  }

  .card p {
    font-size: clamp(1.35rem, 7vw, 1.8rem);
  }

  .busca-container input,
  .form-grid input,
  .form-edit input,
  select,
  textarea {
    font-size: 16px;
  }

  button,
  .btn-card,
  .tab-btn,
  .btn-acao-principal,
  .btn-salvar-modal {
    min-height: 40px;
  }

  .tabs {
    padding-bottom: 10px;
  }

  .sidebar {
    width: min(88vw, 320px);
  }

  .resumo-ano-tabela-wrap,
  .resumo-economias-tabela-wrap {
    overscroll-behavior-x: contain;
  }
}


/* Popup customizado para nome do backup exportado */
.modal-nome-backup {
  z-index: 2600;
  background: rgba(4, 6, 16, 0.74);
  backdrop-filter: blur(7px);
}

.modal-nome-backup .modal-content {
  width: min(560px, calc(100vw - 20px));
  max-width: 560px;
  padding: 24px 22px 18px;
  border-radius: 14px;
  border: 1px solid rgba(126, 99, 204, 0.34);
  background:
    radial-gradient(120% 120% at 0% 0%, rgba(120, 76, 193, 0.20), transparent 58%),
    radial-gradient(100% 140% at 100% 0%, rgba(42, 91, 166, 0.16), transparent 55%),
    linear-gradient(180deg, rgba(23, 18, 40, 0.98), rgba(17, 14, 31, 0.98));
  box-shadow: 0 22px 46px rgba(2, 5, 14, 0.56), inset 0 1px 0 rgba(255, 255, 255, 0.04);
}

.backup-nome-cabecalho {
  margin: 0 0 14px;
  color: #f7fbff;
  font-size: 0.94rem;
  font-weight: 800;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  line-height: 1.45;
  word-break: break-word;
}

.backup-nome-label {
  display: block;
  margin-bottom: 8px;
  color: #d8ddf1;
  font-size: 0.95rem;
  line-height: 1.35;
}

.backup-nome-input {
  width: 100%;
  height: 42px;
  border-radius: 6px;
  border: 1px solid rgba(104, 78, 164, 0.56);
  background: rgba(5, 7, 16, 0.92);
  color: #f3f7ff;
  padding: 0 10px;
  font-size: 0.95rem;
  font-weight: 600;
  outline: none;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.02);
  transition: border-color 160ms ease, box-shadow 160ms ease, background 160ms ease;
}

.backup-nome-input::selection {
  background: #ff2e78;
  color: #13000a;
}

.backup-nome-input:focus {
  border-color: rgba(255, 76, 138, 0.8);
  box-shadow: 0 0 0 3px rgba(255, 46, 120, 0.18);
  background: rgba(7, 9, 19, 0.96);
}

.backup-nome-acoes {
  display: flex;
  justify-content: flex-end;
  gap: 8px;
  margin-top: 16px;
}

.backup-nome-btn {
  min-width: 92px;
  height: 36px;
  border-radius: 2px;
  border: 1px solid transparent;
  font-size: 0.95rem;
  line-height: 1;
  cursor: pointer;
  transition: transform 160ms ease, filter 160ms ease, border-color 160ms ease;
}

.backup-nome-btn:hover,
.backup-nome-btn:focus-visible {
  transform: translateY(-1px);
  filter: brightness(1.03);
}

.backup-nome-btn:active {
  transform: translateY(0);
}

.backup-nome-btn-confirmar {
  background: linear-gradient(135deg, #ff2f72, #ff2554);
  color: #ffffff;
  border-color: rgba(255, 122, 159, 0.38);
  box-shadow: 0 8px 16px rgba(255, 39, 93, 0.24);
}

.backup-nome-btn-cancelar {
  background: linear-gradient(135deg, rgba(90, 78, 126, 0.9), rgba(76, 65, 110, 0.9));
  color: #d9d5e8;
  border-color: rgba(130, 115, 172, 0.34);
}

body.light-mode .modal-nome-backup {
  background: rgba(17, 22, 34, 0.36);
}

body.light-mode .modal-nome-backup .modal-content {
  border-color: rgba(129, 122, 177, 0.34);
  background:
    radial-gradient(120% 120% at 0% 0%, rgba(168, 149, 224, 0.2), transparent 58%),
    radial-gradient(100% 140% at 100% 0%, rgba(127, 173, 234, 0.16), transparent 55%),
    linear-gradient(180deg, rgba(247, 244, 255, 0.98), rgba(240, 238, 252, 0.98));
  box-shadow: 0 16px 34px rgba(48, 56, 82, 0.2);
}

body.light-mode .backup-nome-cabecalho {
  color: #27273d;
}

body.light-mode .backup-nome-label {
  color: #4e526b;
}

body.light-mode .backup-nome-input {
  border-color: rgba(145, 134, 194, 0.56);
  background: rgba(255, 255, 255, 0.96);
  color: #24233a;
}

body.light-mode .backup-nome-input:focus {
  border-color: rgba(232, 75, 129, 0.72);
  box-shadow: 0 0 0 3px rgba(232, 75, 129, 0.16);
}

body.light-mode .backup-nome-btn-cancelar {
  background: linear-gradient(135deg, rgba(178, 173, 198, 0.95), rgba(161, 155, 183, 0.95));
  color: #2f3248;
  border-color: rgba(136, 132, 161, 0.28);
}

@media (max-width: 560px) {
  .modal-nome-backup .modal-content {
    width: calc(100vw - 14px);
    padding: 18px 14px 14px;
    border-radius: 12px;
  }

  .backup-nome-cabecalho {
    font-size: 0.82rem;
    letter-spacing: 0.05em;
    margin-bottom: 12px;
  }

  .backup-nome-acoes {
    gap: 6px;
  }

  .backup-nome-btn {
    min-width: 84px;
    height: 34px;
    font-size: 0.9rem;
  }
}

/* Forma de pagamento (cards + extrato + modal manual) */
.cliente-forma-pagamento-wrap {
  margin-top: 6px;
  display: flex;
  align-items: center;
}

.badge-forma-pagamento {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  max-width: 100%;
  padding: 4px 8px;
  border-radius: 999px;
  border: 1px solid rgba(126, 171, 236, 0.32);
  background: linear-gradient(135deg, rgba(20, 38, 68, 0.7), rgba(12, 23, 42, 0.78));
  color: #e5f0ff;
  font-size: 0.72rem;
  font-weight: 700;
  line-height: 1;
  white-space: nowrap;
}

.badge-forma-pagamento i {
  font-size: 0.72rem;
  opacity: 0.95;
}

.badge-forma-pagamento-cliente {
  border-color: rgba(194, 239, 216, 0.34);
  background: linear-gradient(135deg, rgba(13, 52, 37, 0.6), rgba(9, 34, 24, 0.76));
  color: #e8fff3;
}

.badge-forma-pagamento-extrato {
  margin-left: auto;
  flex: 0 0 auto;
  padding: 3px 7px;
  font-size: 0.66rem;
}

.badge-forma-pagamento-extrato i {
  font-size: 0.66rem;
}

.item-extrato-descricao-linha {
  display: flex;
  align-items: center;
  gap: 8px;
  min-width: 0;
}

.item-extrato-descricao-linha .item-extrato-descricao {
  flex: 1 1 auto;
  min-width: 0;
}

.modal-forma-pagamento {
  z-index: 2550;
  background: rgba(3, 7, 15, 0.68);
  backdrop-filter: blur(7px);
}

.modal-forma-pagamento .modal-content {
  width: min(560px, calc(100vw - 18px));
  max-width: 560px;
  padding: 22px 18px 16px;
  border-radius: 18px;
  border: 1px solid rgba(112, 150, 212, 0.28);
  background:
    radial-gradient(120% 100% at 0% 0%, rgba(62, 105, 188, 0.18), transparent 55%),
    radial-gradient(100% 120% at 100% -10%, rgba(81, 52, 166, 0.15), transparent 60%),
    linear-gradient(180deg, rgba(16, 22, 36, 0.98), rgba(11, 16, 28, 0.98));
  box-shadow: 0 20px 44px rgba(2, 8, 18, 0.46);
}

.modal-forma-pagamento .close-modal {
  top: 10px;
  right: 10px;
  width: 34px;
  height: 34px;
  border-radius: 10px;
  border: 1px solid rgba(108, 145, 203, 0.36);
  background: rgba(14, 23, 40, 0.86);
  color: #d7e9ff;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 1.18rem;
  line-height: 1;
}

.modal-forma-pagamento .close-modal:hover,
.modal-forma-pagamento .close-modal:focus-visible {
  border-color: rgba(141, 187, 255, 0.58);
  background: rgba(19, 31, 54, 0.92);
  color: #f1f7ff;
}

.modal-forma-pagamento h3 {
  margin: 0 0 8px;
  color: #edf6ff;
  font-size: 1.2rem;
  line-height: 1.15;
  letter-spacing: -0.01em;
  text-align: center;
  padding-inline: 38px;
}

.forma-pagamento-manual-subtitulo {
  margin: 0 0 14px;
  color: rgba(213, 227, 248, 0.84);
  font-size: 0.88rem;
  line-height: 1.35;
  overflow-wrap: anywhere;
  text-align: center;
  padding-inline: 16px;
}

.modal-forma-pagamento .forma-pagamento-manual-opcoes {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 10px;
}

.modal-forma-pagamento .btn-forma-pagamento-opcao {
  appearance: none;
  -webkit-appearance: none;
  width: 100%;
  min-height: 58px;
  padding: 10px 12px;
  margin: 0;
  border: 1px solid rgba(109, 146, 204, 0.28);
  border-radius: 12px;
  background:
    linear-gradient(180deg, rgba(255, 255, 255, 0.03), rgba(255, 255, 255, 0)),
    linear-gradient(135deg, rgba(18, 31, 53, 0.82), rgba(12, 22, 38, 0.88));
  color: #eaf3ff;
  display: grid;
  grid-template-columns: 28px minmax(0, 1fr);
  align-items: center;
  justify-content: stretch;
  column-gap: 10px;
  cursor: pointer;
  text-align: left;
  font-weight: 700;
  line-height: 1.1;
  position: relative;
  overflow: hidden;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.03);
  transition: transform 170ms ease, border-color 170ms ease, background 170ms ease, box-shadow 170ms ease, filter 170ms ease;
}

.modal-forma-pagamento .btn-forma-pagamento-opcao::before {
  content: '';
  position: absolute;
  inset: 0 auto 0 0;
  width: 3px;
  background: var(--forma-pag-accent, rgba(142, 210, 255, 0.85));
  opacity: 0.9;
}

.modal-forma-pagamento .btn-forma-pagamento-opcao i {
  width: 28px;
  height: 28px;
  border-radius: 9px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  color: var(--forma-pag-accent, #8ed2ff);
  background: color-mix(in srgb, var(--forma-pag-accent, #8ed2ff) 12%, rgba(8, 15, 28, 0.88));
  border: 1px solid color-mix(in srgb, var(--forma-pag-accent, #8ed2ff) 26%, rgba(255, 255, 255, 0.04));
}

.modal-forma-pagamento .btn-forma-pagamento-opcao span {
  display: block;
  min-width: 0;
  white-space: normal;
  word-break: break-word;
  font-size: 0.9rem;
  letter-spacing: 0.01em;
}

.modal-forma-pagamento .btn-forma-pagamento-opcao:hover,
.modal-forma-pagamento .btn-forma-pagamento-opcao:focus-visible {
  transform: translateY(-1px);
  border-color: color-mix(in srgb, var(--forma-pag-accent, #8ed2ff) 45%, rgba(126, 180, 255, 0.52));
  box-shadow: 0 10px 20px rgba(9, 18, 36, 0.22), inset 0 1px 0 rgba(255, 255, 255, 0.05);
  filter: saturate(1.06);
}

.modal-forma-pagamento .btn-forma-pagamento-opcao:focus-visible {
  outline: 2px solid color-mix(in srgb, var(--forma-pag-accent, #8ed2ff) 55%, white);
  outline-offset: 2px;
}

.modal-forma-pagamento .btn-forma-pagamento-opcao[data-forma-pagamento="pix"] { --forma-pag-accent: #53e5a7; }
.modal-forma-pagamento .btn-forma-pagamento-opcao[data-forma-pagamento="dinheiro"] { --forma-pag-accent: #f3d46a; }
.modal-forma-pagamento .btn-forma-pagamento-opcao[data-forma-pagamento="debito"] { --forma-pag-accent: #7cc8ff; }
.modal-forma-pagamento .btn-forma-pagamento-opcao[data-forma-pagamento="credito"] { --forma-pag-accent: #ff97c2; }
.modal-forma-pagamento .btn-forma-pagamento-opcao[data-forma-pagamento="transferencia"] { --forma-pag-accent: #b7a6ff; }
.modal-forma-pagamento .btn-forma-pagamento-opcao[data-forma-pagamento="boleto"] { --forma-pag-accent: #ffb174; }

.forma-pagamento-manual-acoes {
  margin-top: 14px;
  display: flex;
  justify-content: flex-end;
}

.modal-forma-pagamento .forma-pagamento-manual-acoes .btn-mini {
  min-width: 96px;
  border-radius: 999px;
  border: 1px solid rgba(103, 137, 188, 0.35);
  background: rgba(14, 23, 40, 0.72);
  color: #dcecff;
}

.modal-forma-pagamento .forma-pagamento-manual-acoes .btn-mini:hover,
.modal-forma-pagamento .forma-pagamento-manual-acoes .btn-mini:focus-visible {
  border-color: rgba(136, 176, 236, 0.54);
  background: rgba(19, 31, 54, 0.84);
}

body.light-mode .badge-forma-pagamento {
  border-color: rgba(103, 137, 188, 0.28);
  background: linear-gradient(135deg, rgba(230, 239, 252, 0.94), rgba(218, 230, 247, 0.9));
  color: #244467;
}

body.light-mode .badge-forma-pagamento-cliente {
  border-color: rgba(99, 163, 129, 0.26);
  background: linear-gradient(135deg, rgba(221, 244, 231, 0.94), rgba(208, 238, 221, 0.92));
  color: #20533c;
}

body.light-mode .modal-forma-pagamento .modal-content {
  border-color: rgba(103, 137, 188, 0.24);
  background:
    radial-gradient(120% 100% at 0% 0%, rgba(143, 181, 235, 0.2), transparent 55%),
    radial-gradient(100% 120% at 100% -10%, rgba(171, 153, 232, 0.16), transparent 60%),
    linear-gradient(180deg, rgba(247, 250, 255, 0.98), rgba(239, 245, 253, 0.98));
  box-shadow: 0 16px 34px rgba(35, 57, 92, 0.18);
}

body.light-mode .modal-forma-pagamento h3 {
  color: #17365b;
}

body.light-mode .forma-pagamento-manual-subtitulo {
  color: rgba(51, 80, 120, 0.8);
}

body.light-mode .modal-forma-pagamento .close-modal {
  border-color: rgba(108, 145, 203, 0.28);
  background: rgba(239, 246, 255, 0.94);
  color: #32557f;
}

body.light-mode .modal-forma-pagamento .close-modal:hover,
body.light-mode .modal-forma-pagamento .close-modal:focus-visible {
  border-color: rgba(93, 137, 203, 0.42);
  background: rgba(227, 238, 253, 0.96);
  color: #1f456f;
}

body.light-mode .modal-forma-pagamento .btn-forma-pagamento-opcao {
  border-color: rgba(103, 137, 188, 0.26);
  background: linear-gradient(135deg, rgba(238, 246, 255, 0.96), rgba(228, 239, 253, 0.95));
  color: #214064;
}

body.light-mode .modal-forma-pagamento .btn-forma-pagamento-opcao i {
  color: var(--forma-pag-accent, #2f6fc0);
  background: color-mix(in srgb, var(--forma-pag-accent, #2f6fc0) 16%, rgba(255, 255, 255, 0.92));
  border-color: color-mix(in srgb, var(--forma-pag-accent, #2f6fc0) 30%, rgba(92, 126, 182, 0.14));
}

body.light-mode .modal-forma-pagamento .btn-forma-pagamento-opcao:hover,
body.light-mode .modal-forma-pagamento .btn-forma-pagamento-opcao:focus-visible {
  border-color: rgba(84, 130, 196, 0.42);
  box-shadow: 0 8px 18px rgba(49, 79, 122, 0.12);
}

body.light-mode .modal-forma-pagamento .forma-pagamento-manual-acoes .btn-mini {
  border-color: rgba(103, 137, 188, 0.28);
  background: rgba(236, 244, 255, 0.96);
  color: #2c4a6f;
}

body.light-mode .modal-forma-pagamento .forma-pagamento-manual-acoes .btn-mini:hover,
body.light-mode .modal-forma-pagamento .forma-pagamento-manual-acoes .btn-mini:focus-visible {
  border-color: rgba(84, 130, 196, 0.42);
  background: rgba(226, 237, 253, 0.98);
}

@media (max-width: 700px) {
  .item-extrato-descricao-linha {
    align-items: flex-start;
    flex-direction: column;
    gap: 5px;
  }

  .badge-forma-pagamento-extrato {
    margin-left: 0;
  }
}

@media (max-width: 520px) {
  .forma-pagamento-manual-opcoes {
    grid-template-columns: 1fr;
  }

  .modal-forma-pagamento .modal-content {
    padding: 18px 12px 14px;
    border-radius: 14px;
  }

  .modal-forma-pagamento h3 {
    font-size: 1.05rem;
    padding-inline: 34px;
  }

  .forma-pagamento-manual-subtitulo {
    font-size: 0.82rem;
    margin-bottom: 12px;
    padding-inline: 6px;
  }

  .modal-forma-pagamento .btn-forma-pagamento-opcao {
    min-height: 50px;
    padding: 10px;
    grid-template-columns: 26px minmax(0, 1fr);
    column-gap: 8px;
  }

  .modal-forma-pagamento .btn-forma-pagamento-opcao i {
    width: 26px;
    height: 26px;
    border-radius: 8px;
  }

  .modal-forma-pagamento .btn-forma-pagamento-opcao span {
    font-size: 0.85rem;
  }
}

/* Extrato: filtro por mtodo + transaes expansveis */
.extrato-carteira-toolbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-top: 6px;
  margin-bottom: 4px;
}

.extrato-carteira-toolbar .titulo-extrato {
  margin: 0;
}

.filtro-forma-pagamento-wrap {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 10px;
  border-radius: 12px;
  border: 1px solid color-mix(in srgb, var(--border-color) 74%, transparent);
  background: linear-gradient(135deg, rgba(14, 24, 39, 0.82), rgba(10, 18, 30, 0.88));
}

.filtro-forma-pagamento-wrap > span {
  font-size: 0.75rem;
  font-weight: 700;
  color: #c8d8ee;
  letter-spacing: 0.02em;
  white-space: nowrap;
}

.filtro-forma-pagamento-wrap select {
  min-width: 170px;
  border-radius: 10px;
  border: 1px solid rgba(104, 140, 194, 0.28);
  background: rgba(15, 25, 41, 0.86);
  color: #ecf4ff;
  padding: 8px 10px;
  font-size: 0.82rem;
  font-weight: 700;
  outline: none;
}

.filtro-forma-pagamento-wrap select:focus {
  border-color: rgba(127, 180, 252, 0.54);
  box-shadow: 0 0 0 3px rgba(77, 133, 209, 0.16);
}

.item-extrato.item-extrato-expansivel {
  display: block;
}

.item-extrato-expansivel .item-extrato-resumo {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 18px;
  cursor: pointer;
  list-style: none;
}

.item-extrato-expansivel .item-extrato-resumo::-webkit-details-marker {
  display: none;
}

.item-extrato-expansivel .item-extrato-resumo::marker {
  content: '';
}

.item-extrato-expansivel .item-extrato-resumo:focus-visible {
  outline: 2px solid color-mix(in srgb, var(--primary) 58%, #d8eeff);
  outline-offset: 4px;
  border-radius: 10px;
}

.item-extrato-valor-bloco {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  flex: 0 0 auto;
}

.item-extrato-expand-indicador {
  width: 26px;
  height: 26px;
  border-radius: 999px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border: 1px solid color-mix(in srgb, var(--border-color) 70%, transparent);
  background: rgba(10, 18, 30, 0.58);
  color: color-mix(in srgb, var(--text-muted) 80%, #d8eeff);
  transition: transform 180ms ease, border-color 180ms ease, background 180ms ease, color 180ms ease;
}

.item-extrato[open] .item-extrato-expand-indicador {
  transform: rotate(180deg);
  border-color: color-mix(in srgb, var(--primary) 56%, transparent);
  background: color-mix(in srgb, var(--primary) 16%, rgba(10, 18, 30, 0.58));
  color: color-mix(in srgb, var(--primary) 82%, #eef7ff);
}

.item-extrato-detalhes {
  margin-top: 12px;
  padding-top: 10px;
  border-top: 1px dashed color-mix(in srgb, var(--border-color) 72%, transparent);
}

.item-extrato-detalhes-grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 8px 10px;
}

.item-extrato-det-row {
  display: grid;
  gap: 2px;
  min-width: 0;
  padding: 8px 10px;
  border-radius: 10px;
  border: 1px solid color-mix(in srgb, var(--border-color) 72%, transparent);
  background: linear-gradient(135deg, rgba(11, 20, 32, 0.66), rgba(9, 16, 27, 0.72));
}

.item-extrato-det-label {
  font-size: 0.68rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  color: color-mix(in srgb, var(--text-muted) 78%, #cfe5ff);
}

.item-extrato-det-value {
  font-size: 0.85rem;
  font-weight: 700;
  color: var(--text-main);
  min-width: 0;
  overflow-wrap: anywhere;
}

body.light-mode .filtro-forma-pagamento-wrap {
  border-color: rgba(92, 127, 178, 0.28);
  background: linear-gradient(135deg, rgba(244, 249, 255, 0.94), rgba(235, 244, 255, 0.92));
}

body.light-mode .filtro-forma-pagamento-wrap > span {
  color: #446389;
}

body.light-mode .filtro-forma-pagamento-wrap select {
  border-color: rgba(101, 135, 182, 0.34);
  background: rgba(255, 255, 255, 0.96);
  color: #233f62;
}

body.light-mode .item-extrato-expand-indicador {
  border-color: rgba(101, 135, 182, 0.26);
  background: rgba(234, 243, 255, 0.9);
  color: #4a6f9c;
}

body.light-mode .item-extrato-detalhes {
  border-top-color: rgba(106, 138, 182, 0.24);
}

body.light-mode .item-extrato-det-row {
  border-color: rgba(106, 138, 182, 0.22);
  background: linear-gradient(135deg, rgba(242, 248, 255, 0.94), rgba(235, 244, 255, 0.92));
}

body.light-mode .item-extrato-det-label {
  color: #6482a9;
}

body.light-mode .item-extrato-det-value {
  color: #234364;
}

/* Resumo economias: recebimentos por mtodo */
.resumo-economias-metodos-wrap {
  margin-top: 18px;
  display: grid;
  gap: 14px;
}

.resumo-eco-metodos-topo {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 14px;
}

.resumo-eco-metodos-topo .resumo-economias-grafico-titulo {
  margin-bottom: 4px;
}

.resumo-eco-metodos-subtitulo {
  margin: 0;
  font-size: 0.88rem;
}

.resumo-eco-metodos-filtro {
  display: grid;
  gap: 6px;
  min-width: min(320px, 100%);
}

.resumo-eco-metodos-filtro > span {
  font-size: 0.78rem;
  font-weight: 700;
  color: #c6d8f2;
  letter-spacing: 0.03em;
}

.resumo-eco-metodos-filtro select {
  width: 100%;
  border-radius: 12px;
  border: 1px solid rgba(108, 145, 203, 0.28);
  background: linear-gradient(135deg, rgba(14, 23, 40, 0.88), rgba(10, 18, 31, 0.92));
  color: #e9f3ff;
  padding: 10px 12px;
  font-weight: 700;
  outline: none;
}

.resumo-eco-metodos-filtro select:focus {
  border-color: rgba(130, 183, 255, 0.52);
  box-shadow: 0 0 0 3px rgba(68, 122, 197, 0.16);
}

.resumo-eco-metodos-cards {
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 10px;
}

.resumo-eco-metodo-card {
  border: 1px solid rgba(109, 146, 204, 0.22);
  border-radius: 14px;
  background: linear-gradient(140deg, rgba(14, 23, 38, 0.92), rgba(10, 18, 30, 0.95));
  color: #e9f3ff;
  padding: 10px 12px;
  display: grid;
  grid-template-columns: 34px minmax(0, 1fr);
  gap: 10px;
  align-items: center;
  text-align: left;
  cursor: pointer;
  transition: transform 170ms ease, border-color 170ms ease, box-shadow 170ms ease, background 170ms ease;
}

.resumo-eco-metodo-card:hover,
.resumo-eco-metodo-card:focus-visible {
  transform: translateY(-1px);
  border-color: rgba(130, 183, 255, 0.4);
  box-shadow: 0 10px 20px rgba(6, 12, 24, 0.22);
}

.resumo-eco-metodo-card.ativo {
  border-color: rgba(142, 209, 255, 0.48);
  background:
    radial-gradient(120% 120% at 0% 0%, rgba(61, 111, 194, 0.18), transparent 60%),
    linear-gradient(140deg, rgba(14, 23, 38, 0.92), rgba(10, 18, 30, 0.95));
  box-shadow: 0 10px 24px rgba(10, 25, 49, 0.24);
}

.resumo-eco-metodo-card-icone {
  width: 34px;
  height: 34px;
  border-radius: 10px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: rgba(20, 36, 61, 0.85);
  border: 1px solid rgba(109, 146, 204, 0.22);
  color: #8fd5ff;
}

.resumo-eco-metodo-card-textos {
  display: grid;
  gap: 4px;
  min-width: 0;
}

.resumo-eco-metodo-card-rotulo {
  font-size: 0.76rem;
  font-weight: 700;
  color: #cfe1f7;
  line-height: 1.15;
}

.resumo-eco-metodo-card-valor {
  font-size: 0.92rem;
  font-weight: 800;
  line-height: 1;
  white-space: nowrap;
}

.resumo-eco-metodo-total {
  justify-self: end;
  padding: 8px 12px;
  border-radius: 999px;
  border: 1px solid rgba(101, 176, 132, 0.32);
  background: linear-gradient(135deg, rgba(17, 64, 46, 0.56), rgba(12, 44, 32, 0.62));
  color: #dffff0;
  font-weight: 800;
  font-size: 0.9rem;
}

.resumo-economias-metodos-tabela-wrap {
  overflow: hidden;
}

.resumo-eco-metodos-tabela th:last-child,
.resumo-eco-metodos-tabela td:last-child {
  text-align: right;
}

body.light-mode .resumo-eco-metodos-filtro > span {
  color: #4e6d95;
}

body.light-mode .resumo-eco-metodos-filtro select {
  border-color: rgba(101, 135, 182, 0.34);
  background: linear-gradient(135deg, rgba(248, 252, 255, 0.98), rgba(239, 246, 255, 0.96));
  color: #26476e;
}

body.light-mode .resumo-eco-metodo-card {
  border-color: rgba(101, 135, 182, 0.22);
  background: linear-gradient(140deg, rgba(246, 250, 255, 0.98), rgba(236, 244, 255, 0.96));
  color: #224265;
}

body.light-mode .resumo-eco-metodo-card.ativo {
  border-color: rgba(91, 142, 210, 0.4);
  background:
    radial-gradient(120% 120% at 0% 0%, rgba(135, 180, 240, 0.18), transparent 60%),
    linear-gradient(140deg, rgba(246, 250, 255, 0.98), rgba(236, 244, 255, 0.96));
}

body.light-mode .resumo-eco-metodo-card-icone {
  border-color: rgba(101, 135, 182, 0.2);
  background: rgba(232, 241, 253, 0.96);
  color: #3170c0;
}

body.light-mode .resumo-eco-metodo-card-rotulo {
  color: #5a779e;
}

body.light-mode .resumo-eco-metodo-total {
  border-color: rgba(88, 152, 116, 0.26);
  background: linear-gradient(135deg, rgba(219, 244, 228, 0.94), rgba(208, 238, 220, 0.92));
  color: #225641;
}

@media (max-width: 900px) {
  .resumo-eco-metodos-cards {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

@media (max-width: 768px) {
  .extrato-carteira-toolbar {
    flex-direction: column;
    align-items: stretch;
    gap: 8px;
  }

  .filtro-forma-pagamento-wrap {
    justify-content: space-between;
  }

  .filtro-forma-pagamento-wrap select {
    min-width: 0;
    width: 100%;
  }

  .item-extrato-expansivel .item-extrato-resumo {
    align-items: flex-start;
    gap: 10px;
  }

  .item-extrato-valor-bloco {
    margin-left: auto;
    gap: 8px;
  }

  .item-extrato-detalhes-grid {
    grid-template-columns: 1fr;
  }

  .resumo-eco-metodos-topo {
    flex-direction: column;
    align-items: stretch;
  }

  .resumo-eco-metodos-filtro {
    min-width: 0;
  }

  .resumo-eco-metodo-total {
    justify-self: stretch;
    text-align: center;
  }
}

@media (max-width: 560px) {
  .resumo-eco-metodos-cards {
    grid-template-columns: 1fr;
  }

  .item-extrato-expansivel .item-extrato-resumo {
    flex-direction: column;
    align-items: stretch;
  }

  .item-extrato-valor-bloco {
    width: 100%;
    justify-content: space-between;
    margin-left: 0;
  }

  .item-extrato-detalhes {
    margin-top: 10px;
    padding-top: 9px;
  }
}

/* PWA install + update UI */
.pwa-ui-root {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 4200;
}

.pwa-install-btn {
  position: fixed;
  left: 14px;
  bottom: calc(14px + env(safe-area-inset-bottom, 0px));
  min-height: 44px;
  border: 1px solid rgba(97, 147, 214, 0.32);
  border-radius: 14px;
  padding: 10px 14px;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  background: linear-gradient(135deg, rgba(8, 25, 46, 0.95), rgba(8, 19, 34, 0.96));
  color: #eaf3ff;
  box-shadow: 0 16px 38px rgba(2, 8, 18, 0.42);
  font-weight: 800;
  font-size: 0.9rem;
  letter-spacing: 0.01em;
  cursor: pointer;
  pointer-events: auto;
  transition: transform 160ms ease, box-shadow 160ms ease, border-color 160ms ease, filter 160ms ease;
}

.pwa-install-btn:hover,
.pwa-install-btn:focus-visible {
  transform: translateY(-1px);
  border-color: rgba(113, 184, 255, 0.44);
  box-shadow: 0 18px 44px rgba(2, 8, 18, 0.48);
  filter: brightness(1.03);
}

.pwa-install-btn:active {
  transform: translateY(0);
}

.pwa-install-btn i {
  width: 18px;
  text-align: center;
  color: #68dcff;
}

.pwa-install-btn[hidden] {
  display: none !important;
}

.pwa-toast-stack {
  position: fixed;
  right: 14px;
  bottom: calc(14px + env(safe-area-inset-bottom, 0px));
  width: min(360px, calc(100vw - 20px));
  display: grid;
  gap: 10px;
  pointer-events: none;
}

.pwa-toast {
  pointer-events: auto;
  opacity: 0;
  transform: translateY(8px) scale(0.985);
  border-radius: 14px;
  border: 1px solid rgba(92, 137, 197, 0.22);
  background:
    radial-gradient(140% 100% at 0% 0%, rgba(70, 148, 255, 0.08), transparent 58%),
    linear-gradient(180deg, rgba(8, 19, 35, 0.97), rgba(7, 15, 28, 0.97));
  box-shadow: 0 18px 38px rgba(1, 6, 14, 0.42);
  padding: 12px 12px 10px;
  transition: opacity 180ms ease, transform 180ms ease;
}

.pwa-toast.visivel {
  opacity: 1;
  transform: translateY(0) scale(1);
}

.pwa-toast.saindo {
  opacity: 0;
  transform: translateY(6px) scale(0.985);
}

.pwa-toast-title {
  margin: 0;
  color: #f3f8ff;
  font-size: 0.92rem;
  font-weight: 800;
  line-height: 1.25;
}

.pwa-toast-msg {
  margin-top: 4px;
  color: #c5d7ef;
  font-size: 0.82rem;
  line-height: 1.38;
}

.pwa-toast-actions {
  margin-top: 10px;
  display: flex;
  justify-content: flex-end;
  gap: 8px;
}

.pwa-toast-btn {
  min-height: 34px;
  border-radius: 10px;
  border: 1px solid rgba(97, 136, 190, 0.26);
  background: rgba(11, 22, 39, 0.72);
  color: #dce9fb;
  padding: 7px 11px;
  font-size: 0.82rem;
  font-weight: 700;
  cursor: pointer;
  transition: transform 140ms ease, filter 140ms ease, border-color 140ms ease;
}

.pwa-toast-btn:hover,
.pwa-toast-btn:focus-visible {
  transform: translateY(-1px);
  filter: brightness(1.03);
}

.pwa-toast-btn:active {
  transform: translateY(0);
}

.pwa-toast-btn-primary {
  border-color: rgba(93, 188, 255, 0.36);
  background: linear-gradient(135deg, rgba(20, 103, 173, 0.94), rgba(16, 77, 132, 0.96));
  color: #f7fbff;
}

.pwa-toast-btn-ghost {
  background: rgba(30, 40, 60, 0.6);
}

.pwa-toast-success {
  border-color: rgba(84, 198, 160, 0.24);
  background:
    radial-gradient(140% 100% at 0% 0%, rgba(70, 255, 189, 0.07), transparent 58%),
    linear-gradient(180deg, rgba(8, 19, 35, 0.97), rgba(7, 15, 28, 0.97));
}

.pwa-toast-success .pwa-toast-title {
  color: #e9fff7;
}

.pwa-toast-success .pwa-toast-msg {
  color: #bdebd9;
}

.pwa-toast-danger {
  border-color: rgba(255, 108, 149, 0.26);
  background:
    radial-gradient(140% 100% at 0% 0%, rgba(255, 76, 140, 0.08), transparent 58%),
    linear-gradient(180deg, rgba(26, 12, 24, 0.97), rgba(20, 10, 19, 0.97));
}

body.light-mode .pwa-install-btn {
  border-color: rgba(113, 148, 189, 0.28);
  background: linear-gradient(135deg, rgba(247, 250, 255, 0.96), rgba(236, 245, 255, 0.96));
  color: #243a58;
  box-shadow: 0 14px 30px rgba(46, 63, 88, 0.18);
}

body.light-mode .pwa-install-btn i {
  color: #0f8fca;
}

body.light-mode .pwa-toast {
  border-color: rgba(111, 145, 190, 0.2);
  background:
    radial-gradient(140% 100% at 0% 0%, rgba(70, 148, 255, 0.08), transparent 58%),
    linear-gradient(180deg, rgba(252, 254, 255, 0.97), rgba(242, 248, 255, 0.97));
  box-shadow: 0 16px 30px rgba(44, 61, 86, 0.16);
}

body.light-mode .pwa-toast-title {
  color: #213450;
}

body.light-mode .pwa-toast-msg {
  color: #567392;
}

body.light-mode .pwa-toast-btn {
  border-color: rgba(111, 145, 190, 0.24);
  background: rgba(234, 242, 252, 0.95);
  color: #244061;
}

body.light-mode .pwa-toast-btn-primary {
  border-color: rgba(68, 132, 208, 0.34);
  background: linear-gradient(135deg, rgba(53, 128, 212, 0.94), rgba(42, 106, 176, 0.96));
  color: #fff;
}

@media (max-width: 700px) {
  .pwa-install-btn {
    left: 10px;
    right: 10px;
    width: auto;
    justify-content: center;
    bottom: calc(10px + env(safe-area-inset-bottom, 0px));
  }

  .pwa-toast-stack {
    left: 10px;
    right: 10px;
    width: auto;
    bottom: calc(64px + env(safe-area-inset-bottom, 0px));
  }

  .pwa-toast-actions {
    justify-content: stretch;
  }

  .pwa-toast-btn {
    flex: 1 1 0;
    justify-content: center;
  }
}

/* Mobile bugfix pack: posicionamento, expansoes, filtros e modais */
@media (max-width: 768px) {
  .item-extrato.item-extrato-expansivel {
    overflow: hidden;
  }

  .item-extrato-expansivel .item-extrato-resumo {
    width: 100%;
    min-width: 0;
    -webkit-tap-highlight-color: transparent;
  }

  .item-extrato-info,
  .item-extrato-textos,
  .item-extrato-descricao-linha,
  .item-extrato-descricao-linha .item-extrato-descricao,
  .item-extrato-valor-bloco {
    min-width: 0;
  }

  .item-extrato-descricao-linha {
    flex-wrap: wrap;
    row-gap: 6px;
  }

  .badge-forma-pagamento-extrato {
    max-width: 100%;
  }

  .badge-forma-pagamento-extrato span {
    min-width: 0;
    max-width: 100%;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  .item-extrato-valor-bloco {
    align-self: flex-start;
  }

  .filtro-forma-pagamento-wrap {
    width: 100%;
    flex-wrap: wrap;
    align-items: flex-start;
    gap: 6px;
  }

  .filtro-forma-pagamento-wrap > span {
    width: 100%;
  }

  .filtro-forma-pagamento-wrap select {
    width: 100%;
  }

  .resumo-eco-metodos-tabela th,
  .resumo-eco-metodos-tabela td {
    padding-left: 10px;
    padding-right: 10px;
  }

  .resumo-eco-metodo-card-valor {
    font-size: 0.88rem;
  }

  .modal-forma-pagamento .modal-content,
  .modal-nome-backup .modal-content {
    max-height: calc(100dvh - 18px - env(safe-area-inset-top, 0px) - env(safe-area-inset-bottom, 0px));
    overflow-y: auto;
    overscroll-behavior: contain;
  }

  .modal-forma-pagamento .close-modal {
    top: 8px;
    right: 8px;
  }

  .backup-nome-input,
  .modal-forma-pagamento .btn-forma-pagamento-opcao,
  .modal-forma-pagamento .forma-pagamento-manual-acoes .btn-mini {
    min-height: 42px;
  }

  body.pagina-economias .btn-resumo-economias-topo {
    max-width: calc(100vw - 132px);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  body.pagina-economias .btn-resumo-economias-topo span {
    min-width: 0;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
}

@media (max-width: 560px) {
  .item-extrato-expansivel .item-extrato-resumo {
    gap: 8px;
  }

  .item-extrato-info {
    gap: 10px;
  }

  .item-extrato-icone {
    width: 34px;
    height: 34px;
    flex: 0 0 34px;
  }

  .item-extrato-descricao-linha .item-extrato-descricao {
    white-space: normal;
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
    line-clamp: 2;
  }

  .item-extrato-valor-bloco {
    width: 100%;
    justify-content: space-between;
    gap: 8px;
  }

  .item-extrato-valor {
    font-size: 0.98rem;
  }

  .item-extrato-expand-indicador {
    width: 24px;
    height: 24px;
    flex: 0 0 24px;
  }

  .item-extrato-det-row {
    padding: 9px 10px;
    border-radius: 9px;
  }

  .item-extrato-det-value {
    font-size: 0.82rem;
  }

  .extrato-carteira-toolbar .titulo-extrato {
    font-size: 0.95rem;
  }

  .filtro-forma-pagamento-wrap {
    padding: 8px;
    border-radius: 10px;
  }

  .filtro-forma-pagamento-wrap > span {
    font-size: 0.72rem;
  }

  .filtro-forma-pagamento-wrap select {
    font-size: 0.8rem;
    padding: 8px 9px;
  }

  .resumo-eco-metodos-topo .resumo-economias-grafico-titulo {
    line-height: 1.2;
  }

  .resumo-eco-metodos-subtitulo {
    font-size: 0.82rem;
    line-height: 1.35;
  }

  .resumo-eco-metodo-card {
    grid-template-columns: 30px minmax(0, 1fr);
    gap: 8px;
    padding: 9px 10px;
    border-radius: 12px;
  }

  .resumo-eco-metodo-card-icone {
    width: 30px;
    height: 30px;
    border-radius: 9px;
  }

  .resumo-eco-metodo-card-rotulo {
    font-size: 0.74rem;
  }

  .resumo-eco-metodo-card-valor {
    font-size: 0.84rem;
    white-space: normal;
    line-height: 1.15;
  }

  .resumo-eco-metodo-total {
    width: 100%;
    text-align: center;
    border-radius: 12px;
    font-size: 0.84rem;
    padding: 8px 10px;
    overflow-wrap: anywhere;
  }

  .backup-nome-acoes {
    flex-wrap: wrap;
    justify-content: stretch;
  }

  .backup-nome-btn {
    flex: 1 1 calc(50% - 4px);
    min-width: 0;
  }

  body.pagina-economias .btn-resumo-economias-topo {
    right: 8px;
    width: 40px;
    min-width: 40px;
    height: 40px;
    padding: 0;
    gap: 0;
    border-radius: 11px;
  }

  body.pagina-economias .btn-resumo-economias-topo span {
    display: none;
  }
}

@media (max-width: 420px) {
  #toggle-sidebar,
  .btn-voltar-flutuante {
    top: max(10px, env(safe-area-inset-top, 0px));
    left: 10px;
    width: 40px;
    height: 40px;
  }

  .sidebar-closed #toggle-sidebar img,
  #toggle-sidebar img {
    width: 52px;
    height: 52px;
  }

  .item-extrato {
    padding: 12px 10px;
  }

  .item-extrato-descricao {
    font-size: 0.88rem;
  }

  .item-extrato-det-label {
    font-size: 0.64rem;
  }

  .modal-forma-pagamento .modal-content {
    padding-left: 10px;
    padding-right: 10px;
  }

  .pwa-toast-actions {
    flex-direction: column;
  }

  .pwa-toast-btn {
    width: 100%;
  }
}

/* PWA modal de confirmacao (atualizacao) */
body.pwa-modal-open {
  overflow: hidden;
}

.pwa-modal-backdrop {
  position: fixed;
  inset: 0;
  display: grid;
  place-items: center;
  padding: 14px;
  background: rgba(4, 7, 17, 0.68);
  backdrop-filter: blur(6px);
  pointer-events: none;
  opacity: 0;
  transition: opacity 180ms ease;
  z-index: 4300;
}

.pwa-modal-backdrop[hidden] {
  display: none !important;
}

.pwa-modal-backdrop.visivel {
  opacity: 1;
  pointer-events: auto;
}

.pwa-modal-card {
  width: min(520px, calc(100vw - 16px));
  max-width: 520px;
  border-radius: 14px;
  border: 1px solid rgba(117, 98, 186, 0.34);
  background:
    radial-gradient(120% 120% at 0% 0%, rgba(118, 81, 200, 0.18), transparent 60%),
    radial-gradient(100% 130% at 100% 0%, rgba(52, 113, 207, 0.12), transparent 58%),
    linear-gradient(180deg, rgba(21, 17, 37, 0.98), rgba(13, 11, 24, 0.98));
  box-shadow: 0 24px 52px rgba(1, 5, 14, 0.48), inset 0 1px 0 rgba(255,255,255,0.04);
  padding: 18px 16px 14px;
  position: relative;
  transform: translateY(8px) scale(0.99);
  transition: transform 180ms ease;
}

.pwa-modal-backdrop.visivel .pwa-modal-card {
  transform: translateY(0) scale(1);
}

.pwa-modal-close {
  position: absolute;
  top: 8px;
  right: 8px;
  width: 32px;
  height: 32px;
  border-radius: 10px;
  border: 1px solid rgba(126, 111, 173, 0.26);
  background: rgba(32, 26, 52, 0.66);
  color: #d8ddf1;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: transform 140ms ease, filter 140ms ease, border-color 140ms ease;
}

.pwa-modal-close:hover,
.pwa-modal-close:focus-visible {
  transform: translateY(-1px);
  filter: brightness(1.05);
  border-color: rgba(168, 150, 220, 0.42);
}

.pwa-modal-title {
  margin: 0;
  padding-right: 40px;
  color: #f4f8ff;
  font-size: 1rem;
  font-weight: 800;
  line-height: 1.25;
}

.pwa-modal-msg {
  margin-top: 8px;
  color: #cfd9ee;
  font-size: 0.9rem;
  line-height: 1.4;
}

.pwa-modal-actions {
  margin-top: 14px;
  display: flex;
  justify-content: flex-end;
  gap: 8px;
}

.pwa-modal-btn {
  min-width: 98px;
  min-height: 36px;
  border-radius: 10px;
  border: 1px solid rgba(131, 118, 176, 0.24);
  background: rgba(45, 40, 64, 0.62);
  color: #dcdaf0;
  font-size: 0.9rem;
  font-weight: 700;
  cursor: pointer;
  transition: transform 140ms ease, filter 140ms ease, border-color 140ms ease;
}

.pwa-modal-btn:hover,
.pwa-modal-btn:focus-visible {
  transform: translateY(-1px);
  filter: brightness(1.03);
}

.pwa-modal-btn:active {
  transform: translateY(0);
}

.pwa-modal-btn-primary {
  border-color: rgba(255, 112, 162, 0.4);
  background: linear-gradient(135deg, #ff3f7b, #ff2e5f);
  color: #fff;
  box-shadow: 0 8px 18px rgba(255, 45, 93, 0.2);
}

.pwa-modal-btn-ghost {
  background: linear-gradient(135deg, rgba(87, 76, 121, 0.88), rgba(74, 65, 107, 0.9));
}

body.light-mode .pwa-modal-backdrop {
  background: rgba(20, 24, 35, 0.34);
}

body.light-mode .pwa-modal-card {
  border-color: rgba(130, 124, 177, 0.28);
  background:
    radial-gradient(120% 120% at 0% 0%, rgba(171, 153, 226, 0.18), transparent 60%),
    radial-gradient(100% 130% at 100% 0%, rgba(117, 168, 237, 0.11), transparent 58%),
    linear-gradient(180deg, rgba(248, 246, 255, 0.98), rgba(240, 239, 252, 0.98));
  box-shadow: 0 18px 36px rgba(46, 57, 79, 0.18);
}

body.light-mode .pwa-modal-close {
  border-color: rgba(132, 126, 161, 0.22);
  background: rgba(229, 226, 241, 0.92);
  color: #3a4061;
}

body.light-mode .pwa-modal-title {
  color: #262842;
}

body.light-mode .pwa-modal-msg {
  color: #515a78;
}

body.light-mode .pwa-modal-btn {
  border-color: rgba(132, 126, 161, 0.22);
  background: rgba(226, 222, 238, 0.95);
  color: #2d334e;
}

body.light-mode .pwa-modal-btn-ghost {
  background: linear-gradient(135deg, rgba(187, 181, 209, 0.96), rgba(170, 164, 193, 0.96));
}

@media (max-width: 560px) {
  .pwa-modal-backdrop {
    padding: 8px;
  }

  .pwa-modal-card {
    width: calc(100vw - 12px);
    padding: 16px 12px 12px;
    border-radius: 12px;
  }

  .pwa-modal-title {
    font-size: 0.95rem;
    text-align: center;
    padding-right: 30px;
    padding-left: 6px;
  }

  .pwa-modal-msg {
    font-size: 0.84rem;
    text-align: center;
    line-height: 1.35;
  }

  .pwa-modal-actions {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 7px;
  }

  .pwa-modal-btn {
    min-width: 0;
    width: 100%;
  }
}

/* =========================================
   ECONOMIAS - BOTAO MODO COMERCIO (TOPO)
   ========================================= */
body.pagina-economias .btn-modo-comercio-topo {
  position: fixed;
  top: max(60px, calc(env(safe-area-inset-top, 0px) + 60px));
  right: 15px;
  z-index: 1101;
  height: 42px;
  padding: 0 14px;
  border-radius: 12px;
  border: 1px solid rgba(99, 210, 178, 0.42);
  background: linear-gradient(145deg, rgba(8, 37, 44, 0.96), rgba(7, 25, 31, 0.94));
  color: #eafffb;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  font-size: 0.84rem;
  font-weight: 700;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  cursor: pointer;
  box-shadow: 0 10px 20px rgba(4, 14, 18, 0.34);
  transition: transform 180ms ease, filter 180ms ease, border-color 180ms ease;
}

body.pagina-economias .btn-modo-comercio-topo i {
  color: #7ff6d3;
}

body.pagina-economias .btn-modo-comercio-topo:hover,
body.pagina-economias .btn-modo-comercio-topo:focus-visible {
  transform: translateY(-1px);
  filter: brightness(1.05);
  border-color: rgba(133, 238, 210, 0.66);
}

body.light-mode.pagina-economias .btn-modo-comercio-topo {
  border-color: rgba(74, 150, 132, 0.45);
  background: linear-gradient(145deg, rgba(228, 253, 248, 0.98), rgba(209, 244, 236, 0.97));
  color: #18584b;
  box-shadow: 0 10px 18px rgba(28, 71, 60, 0.16);
}

body.light-mode.pagina-economias .btn-modo-comercio-topo i {
  color: #177f69;
}

@media (max-width: 768px) {
  body.pagina-economias .btn-modo-comercio-topo {
    right: 10px;
    height: 40px;
    padding: 0 12px;
    font-size: 0.78rem;
    top: max(56px, calc(env(safe-area-inset-top, 0px) + 56px));
  }
}

@media (max-width: 560px) {
  body.pagina-economias .btn-modo-comercio-topo {
    max-width: calc(100vw - 132px);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  body.pagina-economias .btn-modo-comercio-topo span {
    min-width: 0;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
}

@media (max-width: 420px) {
  body.pagina-economias .btn-modo-comercio-topo {
    right: 8px;
    top: max(56px, calc(env(safe-area-inset-top, 0px) + 56px));
    width: 40px;
    min-width: 40px;
    height: 40px;
    padding: 0;
    gap: 0;
    border-radius: 11px;
  }

  body.pagina-economias .btn-modo-comercio-topo span {
    display: none;
  }
}

/* =========================================
   PAGINA MODO COMERCIO
   ========================================= */
body.pagina-comercio {
  min-height: 100vh;
  margin: 0;
  background:
    radial-gradient(95% 120% at 0% 0%, rgba(36, 123, 187, 0.18), transparent 58%),
    radial-gradient(90% 110% at 100% 0%, rgba(28, 189, 158, 0.15), transparent 55%),
    linear-gradient(180deg, #060c16 0%, #081222 100%);
  color: #eaf3ff;
}

body.pagina-comercio .comercio-main {
  width: min(1200px, 100%);
  margin: 0 auto;
  padding: max(14px, env(safe-area-inset-top, 0px)) 14px 24px;
}

body.pagina-comercio .comercio-header,
body.pagina-comercio .comercio-resumo,
body.pagina-comercio .comercio-painel,
body.pagina-comercio .comercio-grid-wrap,
body.pagina-comercio .comercio-vendas-wrap {
  border: 1px solid rgba(114, 150, 209, 0.18);
  border-radius: 18px;
  background: linear-gradient(180deg, rgba(10, 18, 34, 0.96), rgba(8, 14, 27, 0.95));
  box-shadow: 0 12px 28px rgba(2, 6, 13, 0.28);
}

body.pagina-comercio .comercio-header {
  display: grid;
  grid-template-columns: 1.25fr auto;
  gap: 14px;
  align-items: center;
  padding: 16px;
  margin-bottom: 14px;
}

body.pagina-comercio .comercio-kicker {
  margin: 0 0 4px;
  color: #7dd6ff;
  font-size: 0.82rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  font-weight: 800;
}

body.pagina-comercio .comercio-header h1 {
  margin: 0;
  font-size: clamp(1.25rem, 2.8vw, 2rem);
  line-height: 1.12;
}

body.pagina-comercio .comercio-subtitulo {
  margin: 8px 0 0;
  color: #bfd0e8;
  line-height: 1.4;
}

body.pagina-comercio .comercio-header-acoes {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  justify-content: flex-end;
}

.comercio-btn {
  border: 1px solid rgba(118, 150, 207, 0.28);
  background: rgba(16, 27, 49, 0.9);
  color: #edf4ff;
  border-radius: 12px;
  min-height: 40px;
  padding: 8px 12px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  font-weight: 700;
  cursor: pointer;
  transition: transform 160ms ease, filter 160ms ease, border-color 160ms ease;
}

.comercio-btn:hover,
.comercio-btn:focus-visible {
  transform: translateY(-1px);
  filter: brightness(1.04);
}

.comercio-btn-primary {
  border-color: rgba(96, 197, 170, 0.4);
  background: linear-gradient(135deg, rgba(15, 110, 91, 0.95), rgba(10, 89, 74, 0.95));
  color: #e8fff8;
}

.comercio-btn-ghost {
  background: rgba(12, 21, 38, 0.85);
}

.comercio-btn-add {
  border-color: rgba(102, 156, 230, 0.36);
  background: linear-gradient(135deg, rgba(24, 68, 129, 0.96), rgba(17, 54, 104, 0.95));
}

body.pagina-comercio .comercio-resumo {
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 10px;
  padding: 12px;
  margin-bottom: 14px;
}

body.pagina-comercio .comercio-resumo-card {
  border: 1px solid rgba(120, 153, 207, 0.16);
  border-radius: 14px;
  background: rgba(255, 255, 255, 0.02);
  padding: 12px;
  display: grid;
  gap: 6px;
}

body.pagina-comercio .comercio-resumo-card span {
  color: #a8bedc;
  font-size: 0.83rem;
}

body.pagina-comercio .comercio-resumo-card strong {
  color: #f1f7ff;
  font-size: 1.15rem;
  line-height: 1.15;
}

body.pagina-comercio .comercio-painel {
  padding: 14px;
  margin-bottom: 14px;
  display: grid;
  gap: 14px;
}

.comercio-painel-linha {
  display: flex;
  align-items: center;
  gap: 10px;
}

.comercio-label {
  color: #c7d6ea;
  font-weight: 700;
  font-size: 0.92rem;
}

.comercio-select,
.comercio-input {
  height: 40px;
  border-radius: 10px;
  border: 1px solid rgba(120, 151, 203, 0.26);
  background: rgba(7, 14, 27, 0.86);
  color: #eef5ff;
  padding: 0 12px;
  box-sizing: border-box;
  line-height: 1.15;
  font-size: 0.95rem;
}

.comercio-select {
  min-width: 210px;
  width: 100%;
}

.comercio-input {
  width: 100%;
}

.comercio-form-item {
  display: grid;
  gap: 8px;
}

.comercio-form-item-campos {
  display: grid;
  grid-template-columns: minmax(0, 1.2fr) minmax(120px, 0.55fr) minmax(140px, 0.6fr) auto;
  gap: 10px;
}

.comercio-input-preco {
  text-align: right;
  font-weight: 700;
}

body.pagina-comercio .comercio-grid-wrap,
body.pagina-comercio .comercio-vendas-wrap {
  padding: 14px;
  margin-bottom: 14px;
}

.comercio-section-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 10px;
  margin-bottom: 12px;
}

.comercio-section-header h2 {
  margin: 0;
  font-size: 1.05rem;
  color: #e9f3ff;
}

.comercio-section-header p {
  margin: 4px 0 0;
  color: #aabedb;
  line-height: 1.35;
}

.comercio-section-header-vendas {
  align-items: center;
}

body.pagina-comercio .comercio-grid-wrap > .comercio-section-header {
  display: grid;
  grid-template-columns: minmax(0, 1fr) minmax(240px, 340px);
  grid-template-areas:
    "titulo busca"
    "texto busca";
  align-items: start;
  column-gap: 14px;
  row-gap: 4px;
}

body.pagina-comercio .comercio-grid-wrap > .comercio-section-header > h2 {
  grid-area: titulo;
}

body.pagina-comercio .comercio-grid-wrap > .comercio-section-header > p {
  grid-area: texto;
  margin-top: 0;
}

.comercio-catalogo-header-acoes {
  grid-area: busca;
  min-width: 0;
  width: 100%;
}

.comercio-catalogo-header-acoes .comercio-label-inline {
  width: 100%;
  gap: 6px;
}

.comercio-catalogo-busca-wrap {
  position: relative;
  display: flex;
  align-items: center;
  width: 100%;
}

.comercio-catalogo-busca-wrap > i {
  position: absolute;
  left: 11px;
  color: #93afd1;
  font-size: 0.86rem;
  pointer-events: none;
  opacity: 0.95;
}

.comercio-catalogo-busca-input {
  width: 100%;
  min-width: 0;
  padding-left: 34px;
  padding-right: 38px;
}

.comercio-catalogo-busca-limpar {
  position: absolute;
  right: 6px;
  width: 28px;
  height: 28px;
  border-radius: 9px;
  border: 1px solid rgba(113, 146, 202, 0.2);
  background: rgba(12, 20, 35, 0.84);
  color: #dbe8fb;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: filter 160ms ease, transform 160ms ease, border-color 160ms ease;
}

.comercio-catalogo-busca-limpar:hover,
.comercio-catalogo-busca-limpar:focus-visible {
  filter: brightness(1.06);
  transform: translateY(-1px);
  border-color: rgba(131, 167, 227, 0.3);
}

.comercio-catalogo-grid {
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 12px;
}

.comercio-item-card {
  border: 1px solid rgba(108, 147, 207, 0.2);
  border-radius: 14px;
  background: linear-gradient(180deg, rgba(12, 22, 39, 0.95), rgba(8, 16, 28, 0.95));
  overflow: hidden;
  box-shadow: 0 10px 18px rgba(2, 5, 12, 0.22);
  display: flex;
  flex-direction: column;
}

.comercio-item-adicionar {
  width: 100%;
  border: 0;
  background: transparent;
  color: inherit;
  cursor: pointer;
  text-align: left;
  padding: 13px 12px 11px;
  display: grid;
  grid-template-rows: minmax(2.35em, auto) auto auto auto;
  align-content: start;
  gap: 5px;
  flex: 1 1 auto;
}

.comercio-item-adicionar:hover,
.comercio-item-adicionar:focus-visible {
  background: rgba(69, 122, 232, 0.08);
}

.comercio-item-nome {
  font-weight: 800;
  line-height: 1.2;
  color: #f1f7ff;
  min-height: 2.35em;
  display: block;
}

.comercio-item-preco {
  color: #7df3d3;
  font-size: 1.02rem;
  font-weight: 800;
}

.comercio-item-custo {
  color: #afc8e8;
  font-size: 0.76rem;
  line-height: 1.2;
  min-height: 1.2em;
}

.comercio-item-hint {
  color: #adc4e7;
  font-size: 0.78rem;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  line-height: 1.15;
}

.comercio-item-card-acoes {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px;
  padding: 10px;
  border-top: 1px solid rgba(255, 255, 255, 0.05);
  margin-top: auto;
}

.comercio-item-card-acoes .comercio-mini-btn {
  width: 100%;
  min-width: 0;
  padding-inline: 10px;
  justify-content: center;
}

.comercio-item-card-acoes .comercio-mini-btn i {
  width: 12px;
  min-width: 12px;
  text-align: center;
  line-height: 1;
}

.comercio-item-card-acoes .comercio-mini-btn span {
  line-height: 1;
}

.comercio-mini-btn {
  min-height: 32px;
  border-radius: 9px;
  border: 1px solid rgba(113, 146, 202, 0.24);
  background: rgba(15, 24, 42, 0.9);
  color: #dfeaff;
  cursor: pointer;
  font-size: 0.8rem;
  font-weight: 700;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  padding: 0 8px;
  line-height: 1;
  white-space: nowrap;
}

.comercio-mini-btn[disabled] {
  opacity: 0.45;
  cursor: not-allowed;
}

.comercio-mini-btn-danger {
  border-color: rgba(210, 105, 125, 0.26);
  color: #ffd6dd;
}

.comercio-vendas-lista {
  margin: 0;
  padding: 0;
  list-style: none;
  display: grid;
  gap: 10px;
}

.comercio-venda-item {
  display: grid;
  grid-template-columns: minmax(0, 1fr) auto;
  gap: 10px;
  align-items: center;
  border: 1px solid rgba(114, 147, 201, 0.18);
  border-radius: 14px;
  background: rgba(255, 255, 255, 0.02);
  padding: 10px;
}

.comercio-venda-item.is-pendente {
  border-color: rgba(101, 186, 163, 0.28);
}

.comercio-venda-item.is-exportado {
  opacity: 0.82;
}

.comercio-venda-topo {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 8px;
  margin-bottom: 4px;
}

.comercio-venda-nome {
  color: #eff6ff;
}

.comercio-badge-forma {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  border: 1px solid rgba(121, 152, 202, 0.24);
  border-radius: 999px;
  padding: 3px 8px;
  font-size: 0.75rem;
  color: #b9d4fb;
  background: rgba(255, 255, 255, 0.02);
}

.comercio-venda-status {
  margin-left: auto;
  border-radius: 999px;
  padding: 3px 9px;
  font-size: 0.72rem;
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  border: 1px solid rgba(120, 154, 205, 0.18);
  color: #c8d8ef;
  background: rgba(255, 255, 255, 0.02);
}

.comercio-venda-item.is-pendente .comercio-venda-status {
  color: #d9fff4;
  border-color: rgba(85, 192, 162, 0.28);
  background: rgba(28, 121, 103, 0.18);
}

.comercio-venda-item.is-exportado .comercio-venda-status {
  color: #cde5ff;
  border-color: rgba(95, 151, 235, 0.24);
  background: rgba(33, 78, 149, 0.18);
}

.comercio-venda-meta {
  color: #9fb4d3;
  font-size: 0.82rem;
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  align-items: center;
}

.comercio-venda-lado {
  display: grid;
  justify-items: end;
  gap: 8px;
}

.comercio-venda-valor {
  font-size: 1rem;
  font-weight: 800;
  color: #7ef1d5;
}

.comercio-venda-acoes {
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
  justify-content: flex-end;
}

.comercio-feedback {
  margin: 6px 2px 0;
  min-height: 22px;
  color: #a9bfde;
  opacity: 0;
  transition: opacity 180ms ease;
}

.comercio-feedback.visivel {
  opacity: 1;
}

.comercio-feedback[data-tipo="success"] {
  color: #8cf3d5;
}

.comercio-feedback[data-tipo="danger"] {
  color: #ffb3c2;
}

.comercio-vazio {
  margin: 0;
  padding: 14px;
  border-radius: 12px;
  border: 1px dashed rgba(122, 152, 201, 0.2);
  color: #aec3e0;
  background: rgba(255, 255, 255, 0.02);
}

body.light-mode.pagina-comercio {
  background:
    radial-gradient(95% 120% at 0% 0%, rgba(88, 154, 222, 0.18), transparent 58%),
    radial-gradient(90% 110% at 100% 0%, rgba(48, 179, 153, 0.14), transparent 55%),
    linear-gradient(180deg, #eaf2fb 0%, #e3edf9 100%);
  color: #1f2f45;
}

body.light-mode.pagina-comercio .comercio-header,
body.light-mode.pagina-comercio .comercio-resumo,
body.light-mode.pagina-comercio .comercio-painel,
body.light-mode.pagina-comercio .comercio-grid-wrap,
body.light-mode.pagina-comercio .comercio-vendas-wrap {
  border-color: rgba(112, 142, 189, 0.22);
  background: linear-gradient(180deg, rgba(246, 250, 255, 0.97), rgba(237, 244, 253, 0.96));
  box-shadow: 0 10px 22px rgba(46, 67, 102, 0.14);
}

body.light-mode.pagina-comercio .comercio-subtitulo,
body.light-mode.pagina-comercio .comercio-section-header p,
body.light-mode.pagina-comercio .comercio-resumo-card span,
body.light-mode.pagina-comercio .comercio-venda-meta {
  color: #5f738f;
}

body.light-mode.pagina-comercio .comercio-header h1,
body.light-mode.pagina-comercio .comercio-section-header h2,
body.light-mode.pagina-comercio .comercio-item-nome {
  color: #1d3049;
}

body.light-mode.pagina-comercio .comercio-select,
body.light-mode.pagina-comercio .comercio-input {
  background: rgba(255, 255, 255, 0.95);
  color: #1f2e44;
  border-color: rgba(112, 144, 191, 0.28);
}

body.light-mode.pagina-comercio .comercio-catalogo-busca-wrap > i {
  color: #6682a6;
}

body.light-mode.pagina-comercio .comercio-catalogo-busca-limpar {
  background: rgba(247, 251, 255, 0.94);
  color: #315173;
  border-color: rgba(112, 144, 191, 0.26);
}

body.light-mode.pagina-comercio .comercio-item-card {
  border-color: rgba(117, 149, 196, 0.2);
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.94), rgba(245, 249, 255, 0.94));
}

body.light-mode.pagina-comercio .comercio-mini-btn {
  background: rgba(246, 250, 255, 0.95);
  border-color: rgba(116, 147, 194, 0.28);
  color: #28415f;
}

body.light-mode.pagina-comercio .comercio-venda-item {
  border-color: rgba(112, 144, 191, 0.2);
  background: rgba(255, 255, 255, 0.58);
}

body.light-mode.pagina-comercio .comercio-badge-forma {
  background: rgba(233, 242, 255, 0.8);
  border-color: rgba(112, 144, 191, 0.24);
  color: #35527a;
}

body.light-mode.pagina-comercio .comercio-vazio {
  background: rgba(255, 255, 255, 0.55);
  border-color: rgba(120, 150, 197, 0.24);
  color: #55708f;
}

@media (max-width: 980px) {
  body.pagina-comercio .comercio-header {
    grid-template-columns: 1fr;
  }

  body.pagina-comercio .comercio-header-acoes {
    justify-content: flex-start;
  }

  body.pagina-comercio .comercio-resumo {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .comercio-catalogo-grid {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
}

@media (max-width: 760px) {
  .comercio-form-item-campos {
    grid-template-columns: 1fr;
  }

  .comercio-painel-linha {
    flex-direction: column;
    align-items: stretch;
  }

  .comercio-select {
    width: 100%;
    min-width: 0;
  }

  .comercio-catalogo-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .comercio-venda-item {
    grid-template-columns: 1fr;
    align-items: stretch;
  }

  .comercio-venda-lado {
    justify-items: stretch;
  }

  .comercio-venda-acoes {
    justify-content: flex-start;
  }

  .comercio-section-header,
  .comercio-section-header-vendas {
    flex-direction: column;
    align-items: stretch;
  }
}

@media (max-width: 520px) {
  body.pagina-comercio .comercio-main {
    padding-inline: 10px;
  }

  body.pagina-comercio .comercio-resumo {
    grid-template-columns: 1fr;
  }

  .comercio-catalogo-grid {
    grid-template-columns: 1fr;
  }

  .comercio-btn {
    width: 100%;
  }

  body.pagina-comercio .comercio-header-acoes {
    display: grid;
    grid-template-columns: 1fr;
  }
}

/* Modo Comercio - comanda, filtros e relatorios (upgrade) */
body.pagina-comercio .comercio-operacao-layout {
  display: grid;
  grid-template-columns: minmax(0, 1.12fr) minmax(0, 1fr);
  grid-template-areas: "catalogo comanda";
  gap: 22px;
  align-items: start;
  margin-bottom: 14px;
}

body.pagina-comercio .comercio-operacao-layout > .comercio-comanda-wrap {
  grid-area: comanda;
  margin-bottom: 0;
  box-shadow: 0 14px 26px rgba(2, 5, 12, 0.26);
  position: sticky;
  top: calc(env(safe-area-inset-top, 0px) + 10px);
  align-self: start;
}

body.pagina-comercio .comercio-operacao-layout > .comercio-grid-wrap {
  grid-area: catalogo;
  margin-bottom: 0;
  box-shadow: 0 14px 26px rgba(2, 5, 12, 0.22);
}

body.pagina-comercio .comercio-operacao-layout > .comercio-grid-wrap .comercio-catalogo-grid {
  grid-template-columns: repeat(3, minmax(0, 1fr));
}

body.pagina-comercio .comercio-operacao-layout.sem-comanda {
  grid-template-columns: 1fr;
  grid-template-areas: "catalogo";
}

body.pagina-comercio .comercio-operacao-layout.sem-comanda > .comercio-grid-wrap .comercio-catalogo-grid {
  grid-template-columns: repeat(4, minmax(0, 1fr));
}

body.pagina-comercio .comercio-relatorios-wrap,
body.pagina-comercio .comercio-comanda-wrap {
  border: 1px solid rgba(110, 143, 198, 0.18);
  border-radius: 16px;
  background: linear-gradient(180deg, rgba(10, 18, 31, 0.97), rgba(8, 14, 26, 0.96));
  box-shadow: 0 12px 24px rgba(2, 5, 12, 0.2);
  padding: 14px;
  margin-bottom: 14px;
}

.comercio-label-inline {
  display: inline-flex;
  flex-direction: column;
  gap: 6px;
  align-items: flex-start;
}

.comercio-select-inline {
  min-width: 190px;
}

.comercio-vendas-header-acoes {
  display: flex;
  align-items: flex-end;
  gap: 10px;
  flex-wrap: wrap;
  justify-content: flex-end;
}

.comercio-relatorio-cards {
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 10px;
  margin-bottom: 12px;
}

.comercio-relatorio-card {
  border: 1px solid rgba(113, 147, 202, 0.18);
  border-radius: 14px;
  background: rgba(255, 255, 255, 0.02);
  padding: 11px 12px;
  display: grid;
  gap: 4px;
}

.comercio-relatorio-card span {
  color: #aabedb;
  font-size: 0.78rem;
}

.comercio-relatorio-card strong {
  color: #ecf6ff;
  font-size: 1.02rem;
  line-height: 1.15;
}

.comercio-relatorio-card small {
  color: #9fb4d3;
  font-size: 0.76rem;
  line-height: 1.25;
}

.comercio-relatorio-formas-wrap {
  border: 1px solid rgba(113, 147, 202, 0.16);
  border-radius: 14px;
  background: rgba(255, 255, 255, 0.015);
  padding: 10px;
}

.comercio-relatorio-formas-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  margin-bottom: 8px;
}

.comercio-relatorio-formas-header h3 {
  margin: 0;
  color: #eef7ff;
  font-size: 0.96rem;
  line-height: 1.25;
}

.comercio-relatorio-formas-header > span {
  color: #9fb4d3;
  font-size: 0.8rem;
  white-space: nowrap;
}

.comercio-relatorio-formas-lista {
  margin: 0;
  padding: 0;
  list-style: none;
  display: grid;
  gap: 8px;
}

.comercio-relatorio-forma-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  border: 1px solid rgba(113, 147, 202, 0.15);
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.02);
  padding: 9px 10px;
}

.comercio-relatorio-forma-label {
  display: inline-flex;
  align-items: center;
  gap: 7px;
  color: #d8e9ff;
  min-width: 0;
}

.comercio-relatorio-forma-label i {
  color: #7fd8ff;
}

.comercio-relatorio-forma-label span:last-child {
  overflow-wrap: anywhere;
}

.comercio-relatorio-forma-item strong {
  color: #88f0d3;
  font-size: 0.92rem;
  white-space: nowrap;
}

.comercio-comanda-acoes-topo {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  justify-content: flex-end;
  align-self: flex-start;
}

.comercio-comanda-config {
  display: grid;
  gap: 12px;
  margin-bottom: 14px;
}

.comercio-comanda-config-grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 12px;
  align-items: end;
}

.comercio-comanda-config-campo {
  display: grid;
  gap: 7px;
  min-width: 0;
}

.comercio-comanda-config-campo .comercio-label {
  line-height: 1.15;
}

.comercio-comanda-config-grid .comercio-select,
.comercio-comanda-config-grid .comercio-input {
  height: 42px;
  min-width: 0;
}

body.pagina-comercio .comercio-comanda-wrap .comercio-section-header {
  align-items: flex-start;
  gap: 14px;
  margin-bottom: 14px;
}

body.pagina-comercio .comercio-comanda-wrap .comercio-section-header > div:first-child {
  min-width: 0;
  display: grid;
  gap: 4px;
}

body.pagina-comercio .comercio-comanda-wrap .comercio-section-header > div:first-child p {
  margin: 0;
}

.comercio-comanda-itens {
  margin: 0 0 12px;
  padding: 0;
  list-style: none;
  display: grid;
  gap: 8px;
}

.comercio-comanda-item {
  display: grid;
  grid-template-columns: minmax(0, 1fr) auto;
  gap: 10px;
  align-items: center;
  border: 1px solid rgba(114, 147, 201, 0.16);
  border-radius: 13px;
  background: rgba(255, 255, 255, 0.018);
  padding: 9px 10px;
}

.comercio-comanda-item-main {
  display: grid;
  gap: 2px;
  min-width: 0;
}

.comercio-comanda-item-main strong {
  color: #eef7ff;
  line-height: 1.2;
  overflow-wrap: anywhere;
}

.comercio-comanda-item-main small {
  color: #9fb4d3;
  font-size: 0.78rem;
}

.comercio-comanda-item-lado {
  display: grid;
  gap: 6px;
  justify-items: end;
}

.comercio-comanda-item-total {
  color: #7ef2d5;
  font-weight: 800;
  font-size: 0.93rem;
}

.comercio-comanda-item-acoes {
  display: flex;
  gap: 6px;
  align-items: center;
  flex-wrap: wrap;
  justify-content: flex-end;
}

.comercio-comanda-item-acoes .comercio-mini-btn {
  min-height: 30px;
  padding-inline: 10px;
}

.comercio-comanda-item-qtd {
  min-width: 28px;
  text-align: center;
  font-weight: 800;
  color: #dbeaff;
}

.comercio-comanda-totais {
  border-top: 1px solid rgba(255, 255, 255, 0.06);
  padding-top: 12px;
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 10px;
}

.comercio-comanda-totais > div {
  border: 1px solid rgba(114, 147, 201, 0.14);
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.015);
  padding: 10px 12px;
  display: grid;
  gap: 4px;
  align-content: start;
  min-height: 70px;
}

.comercio-comanda-totais > div > span {
  color: #aabedb;
  font-size: 0.75rem;
  line-height: 1.1;
}

.comercio-comanda-totais > div > strong {
  color: #eaf5ff;
  font-size: 0.9rem;
  line-height: 1.15;
}

.comercio-comanda-total-final {
  border-color: rgba(84, 204, 172, 0.26) !important;
  background: rgba(35, 115, 97, 0.12) !important;
}

.comercio-comanda-total-final > strong {
  color: #86f1d3 !important;
  font-size: 1rem !important;
}

.comercio-venda-main {
  min-width: 0;
}

.comercio-venda-itens-detalhe {
  margin: 8px 0 0;
  padding: 8px 9px;
  list-style: none;
  border-radius: 11px;
  border: 1px solid rgba(114, 147, 201, 0.14);
  background: rgba(255, 255, 255, 0.015);
  display: grid;
  gap: 6px;
}

.comercio-venda-itens-detalhe li {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 8px;
  color: #d6e8ff;
  font-size: 0.83rem;
}

.comercio-venda-itens-detalhe li span {
  min-width: 0;
  overflow-wrap: anywhere;
}

.comercio-venda-itens-detalhe li strong {
  color: #bfe8ff;
  white-space: nowrap;
  font-size: 0.81rem;
}

body.light-mode.pagina-comercio .comercio-relatorios-wrap,
body.light-mode.pagina-comercio .comercio-comanda-wrap {
  border-color: rgba(112, 142, 189, 0.22);
  background: linear-gradient(180deg, rgba(246, 250, 255, 0.97), rgba(237, 244, 253, 0.96));
  box-shadow: 0 10px 22px rgba(46, 67, 102, 0.14);
}

body.light-mode.pagina-comercio .comercio-relatorio-card,
body.light-mode.pagina-comercio .comercio-relatorio-formas-wrap,
body.light-mode.pagina-comercio .comercio-relatorio-forma-item,
body.light-mode.pagina-comercio .comercio-comanda-item,
body.light-mode.pagina-comercio .comercio-comanda-totais > div,
body.light-mode.pagina-comercio .comercio-venda-itens-detalhe {
  border-color: rgba(112, 144, 191, 0.18);
  background: rgba(255, 255, 255, 0.55);
}

body.light-mode.pagina-comercio .comercio-relatorio-card span,
body.light-mode.pagina-comercio .comercio-relatorio-card small,
body.light-mode.pagina-comercio .comercio-relatorio-formas-header > span,
body.light-mode.pagina-comercio .comercio-comanda-totais > div > span {
  color: #5f738f;
}

body.light-mode.pagina-comercio .comercio-relatorio-card strong,
body.light-mode.pagina-comercio .comercio-relatorio-formas-header h3,
body.light-mode.pagina-comercio .comercio-relatorio-forma-label,
body.light-mode.pagina-comercio .comercio-comanda-item-main strong,
body.light-mode.pagina-comercio .comercio-comanda-item-qtd,
body.light-mode.pagina-comercio .comercio-comanda-totais > div > strong,
body.light-mode.pagina-comercio .comercio-venda-itens-detalhe li {
  color: #21344f;
}

body.light-mode.pagina-comercio .comercio-relatorio-forma-item strong,
body.light-mode.pagina-comercio .comercio-comanda-total-final > strong {
  color: #156e57 !important;
}

body.light-mode.pagina-comercio .comercio-comanda-item-main small {
  color: #637995;
}

body.light-mode.pagina-comercio .comercio-comanda-total-final {
  background: rgba(76, 183, 144, 0.14) !important;
  border-color: rgba(67, 167, 131, 0.24) !important;
}

@media (max-width: 980px) {
  body.pagina-comercio .comercio-operacao-layout {
    grid-template-columns: 1fr;
    grid-template-areas:
      "catalogo"
      "comanda";
    gap: 14px;
  }

  body.pagina-comercio .comercio-operacao-layout > .comercio-comanda-wrap {
    position: static;
    top: auto;
  }

  body.pagina-comercio .comercio-operacao-layout > .comercio-grid-wrap .comercio-catalogo-grid {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }

  .comercio-relatorio-cards {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .comercio-comanda-config-grid {
    grid-template-columns: 1fr 1fr;
  }

  .comercio-comanda-config-grid .comercio-comanda-config-campo:first-child {
    grid-column: 1 / -1;
  }

  .comercio-comanda-totais {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

@media (max-width: 760px) {
  body.pagina-comercio .comercio-operacao-layout > .comercio-grid-wrap .comercio-catalogo-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .comercio-vendas-header-acoes,
  .comercio-comanda-acoes-topo {
    width: 100%;
    justify-content: flex-start;
  }

  .comercio-vendas-header-acoes > * {
    width: 100%;
  }

  .comercio-label-inline {
    width: 100%;
  }

  body.pagina-comercio .comercio-grid-wrap > .comercio-section-header {
    grid-template-columns: 1fr;
    grid-template-areas:
      "titulo"
      "texto"
      "busca";
    row-gap: 8px;
  }

  .comercio-catalogo-header-acoes {
    width: 100%;
  }

  .comercio-select-inline {
    width: 100%;
    min-width: 0;
  }

  .comercio-comanda-config-grid {
    grid-template-columns: 1fr;
  }

  .comercio-comanda-item {
    grid-template-columns: 1fr;
    align-items: stretch;
  }

  .comercio-comanda-item-lado {
    justify-items: stretch;
  }

  .comercio-comanda-item-total {
    text-align: left;
  }

  .comercio-comanda-item-acoes {
    justify-content: flex-start;
  }
}

@media (max-width: 520px) {
  body.pagina-comercio .comercio-operacao-layout > .comercio-grid-wrap .comercio-catalogo-grid {
    grid-template-columns: 1fr;
  }

  .comercio-relatorio-cards,
  .comercio-comanda-totais {
    grid-template-columns: 1fr;
  }

  .comercio-relatorio-formas-header {
    flex-direction: column;
    align-items: flex-start;
  }

  .comercio-relatorio-forma-item {
    align-items: flex-start;
    flex-direction: column;
  }

  .comercio-relatorio-forma-item strong {
    align-self: flex-end;
  }

  .comercio-comanda-item-acoes .comercio-mini-btn {
    flex: 1 1 auto;
  }
}

body.pagina-comercio .comercio-extrato-wrap {
  border: 1px solid rgba(110, 143, 198, 0.18);
  border-radius: 16px;
  background: linear-gradient(180deg, rgba(10, 18, 31, 0.97), rgba(8, 14, 26, 0.96));
  box-shadow: 0 12px 24px rgba(2, 5, 12, 0.2);
  padding: 14px;
  margin-bottom: 14px;
}

.comercio-extrato-meta {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  color: #a9c0df;
  font-size: 0.84rem;
}

.comercio-extrato-header-acoes {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: 10px;
  flex-wrap: wrap;
}

.comercio-extrato-header-acoes .comercio-btn {
  min-height: 38px;
}

.comercio-extrato-resumo {
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 10px;
  margin-bottom: 12px;
}

.comercio-extrato-resumo-card {
  border: 1px solid rgba(113, 147, 202, 0.18);
  border-radius: 13px;
  background: rgba(255, 255, 255, 0.02);
  padding: 10px;
  display: grid;
  gap: 4px;
}

.comercio-extrato-resumo-card span {
  color: #aabedb;
  font-size: 0.77rem;
}

.comercio-extrato-resumo-card strong {
  color: #edf7ff;
  font-size: 0.98rem;
  line-height: 1.15;
}

.comercio-extrato-lista {
  margin: 0;
  padding: 0;
  list-style: none;
  display: grid;
  gap: 8px;
}

.comercio-extrato-item {
  border: 1px solid rgba(114, 147, 201, 0.17);
  border-radius: 14px;
  background: rgba(255, 255, 255, 0.02);
  overflow: hidden;
}

.comercio-extrato-item details {
  display: block;
}

.comercio-extrato-item details > summary {
  list-style: none;
}

.comercio-extrato-item details > summary::-webkit-details-marker {
  display: none;
}

.comercio-extrato-summary {
  display: grid;
  grid-template-columns: minmax(0, 1fr) auto;
  gap: 10px;
  align-items: center;
  cursor: pointer;
  padding: 10px;
}

.comercio-extrato-summary:hover,
.comercio-extrato-summary:focus-visible {
  background: rgba(67, 112, 194, 0.05);
}

.comercio-extrato-summary-main {
  min-width: 0;
  display: grid;
  gap: 4px;
}

.comercio-extrato-titulo {
  color: #eef7ff;
  line-height: 1.2;
  overflow-wrap: anywhere;
}

.comercio-extrato-meta-linha {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  align-items: center;
  color: #9eb4d4;
  font-size: 0.81rem;
}

.comercio-extrato-meta-linha .comercio-badge-forma {
  margin-left: 2px;
  padding: 2px 7px;
  font-size: 0.72rem;
}

.comercio-extrato-status-badge {
  border-radius: 999px;
  border: 1px solid rgba(114, 147, 201, 0.2);
  background: rgba(255, 255, 255, 0.02);
  padding: 2px 8px;
  font-size: 0.7rem;
  font-weight: 800;
  letter-spacing: 0.04em;
  text-transform: uppercase;
}

.comercio-extrato-item.is-pendente .comercio-extrato-status-badge {
  color: #d9fff4;
  border-color: rgba(85, 192, 162, 0.28);
  background: rgba(28, 121, 103, 0.18);
}

.comercio-extrato-item.is-exportado .comercio-extrato-status-badge {
  color: #cfe6ff;
  border-color: rgba(95, 151, 235, 0.24);
  background: rgba(33, 78, 149, 0.18);
}

.comercio-extrato-summary-valores {
  display: grid;
  justify-items: end;
  gap: 3px;
}

.comercio-extrato-summary-valores strong {
  color: #83f0d3;
  font-size: 0.95rem;
}

.comercio-extrato-summary-valores small {
  color: #b7cce8;
  font-size: 0.76rem;
}

.comercio-extrato-body {
  border-top: 1px solid rgba(255, 255, 255, 0.05);
  padding: 9px 10px 10px;
  display: grid;
  gap: 8px;
}

.comercio-extrato-totais-linha {
  display: flex;
  flex-wrap: wrap;
  gap: 6px 12px;
  color: #b4cae8;
  font-size: 0.81rem;
}

.comercio-extrato-totais-linha strong {
  color: #e7f4ff;
}

.comercio-extrato-totais-linha strong.ok {
  color: #87f0d3;
}

.comercio-extrato-totais-linha strong.neg {
  color: #ffb7c8;
}

body.light-mode.pagina-comercio .comercio-item-custo {
  color: #617a99;
}

body.light-mode.pagina-comercio .comercio-extrato-wrap,
body.light-mode.pagina-comercio .comercio-extrato-resumo-card,
body.light-mode.pagina-comercio .comercio-extrato-item {
  border-color: rgba(112, 144, 191, 0.18);
  background: rgba(255, 255, 255, 0.55);
}

body.light-mode.pagina-comercio .comercio-extrato-meta,
body.light-mode.pagina-comercio .comercio-extrato-resumo-card span,
body.light-mode.pagina-comercio .comercio-extrato-meta-linha,
body.light-mode.pagina-comercio .comercio-extrato-summary-valores small,
body.light-mode.pagina-comercio .comercio-extrato-totais-linha {
  color: #5f738f;
}

body.light-mode.pagina-comercio .comercio-extrato-resumo-card strong,
body.light-mode.pagina-comercio .comercio-extrato-titulo,
body.light-mode.pagina-comercio .comercio-extrato-totais-linha strong {
  color: #21344f;
}

body.light-mode.pagina-comercio .comercio-extrato-summary-valores strong,
body.light-mode.pagina-comercio .comercio-extrato-totais-linha strong.ok {
  color: #166f58;
}

body.light-mode.pagina-comercio .comercio-extrato-totais-linha strong.neg {
  color: #b33b55;
}

body.light-mode.pagina-comercio .comercio-extrato-body {
  border-top-color: rgba(112, 144, 191, 0.12);
}

@media (max-width: 980px) {
  .comercio-extrato-resumo {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

@media (max-width: 760px) {
  .comercio-extrato-summary {
    grid-template-columns: 1fr;
    align-items: stretch;
  }

  .comercio-extrato-summary-valores {
    justify-items: start;
  }
}

@media (max-width: 520px) {
  .comercio-extrato-resumo {
    grid-template-columns: 1fr;
  }

  .comercio-extrato-header-acoes {
    width: 100%;
    justify-content: flex-start;
  }

  .comercio-extrato-meta {
    width: 100%;
    justify-content: flex-start;
  }

  .comercio-extrato-header-acoes .comercio-btn {
    width: 100%;
  }
}

/* Modo Comercio - popups customizados */
.comercio-ui-modal-backdrop[hidden] {
  display: none !important;
}

.comercio-ui-modal-backdrop {
  position: fixed;
  inset: 0;
  z-index: 4200;
  display: grid;
  place-items: center;
  padding: 14px;
  background: rgba(5, 9, 18, 0.66);
  backdrop-filter: blur(7px);
}

.comercio-ui-modal-card {
  position: relative;
  width: min(520px, calc(100vw - 20px));
  border-radius: 16px;
  border: 1px solid rgba(111, 142, 198, 0.28);
  background:
    radial-gradient(115% 120% at 0% 0%, rgba(83, 120, 199, 0.16), transparent 60%),
    radial-gradient(90% 120% at 100% 0%, rgba(42, 164, 138, 0.12), transparent 56%),
    linear-gradient(180deg, rgba(10, 18, 31, 0.98), rgba(7, 13, 24, 0.98));
  box-shadow: 0 18px 40px rgba(2, 6, 14, 0.42);
  padding: 16px 16px 14px;
  color: #eaf5ff;
}

.comercio-ui-modal-fechar {
  position: absolute;
  top: 10px;
  right: 10px;
  width: 34px;
  height: 34px;
  border-radius: 10px;
  border: 1px solid rgba(116, 149, 206, 0.22);
  background: rgba(255, 255, 255, 0.03);
  color: #d5e6ff;
  cursor: pointer;
  display: grid;
  place-items: center;
}

.comercio-ui-modal-fechar:hover,
.comercio-ui-modal-fechar:focus-visible {
  background: rgba(93, 135, 220, 0.09);
  border-color: rgba(124, 160, 224, 0.32);
}

.comercio-ui-modal-titulo {
  margin: 0 40px 6px 0;
  font-size: 1.12rem;
  line-height: 1.2;
  color: #f1f8ff;
}

.comercio-ui-modal-texto {
  margin: 0 0 12px;
  color: #aec4e2;
  font-size: 0.92rem;
  line-height: 1.35;
  white-space: pre-line;
}

.comercio-ui-modal-form {
  display: grid;
  gap: 12px;
}

.comercio-ui-modal-campos {
  display: grid;
  gap: 10px;
}

.comercio-ui-modal-campo {
  display: grid;
  gap: 5px;
}

.comercio-ui-modal-campo-label {
  color: #c8dbf3;
  font-size: 0.82rem;
  font-weight: 700;
}

.comercio-ui-modal-input {
  width: 100%;
  min-height: 40px;
  border-radius: 10px;
  border: 1px solid rgba(112, 145, 200, 0.26);
  background: rgba(11, 18, 31, 0.94);
  color: #ecf6ff;
  padding: 0 10px;
  font: inherit;
  outline: none;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.03);
}

textarea.comercio-ui-modal-input {
  min-height: 84px;
  resize: vertical;
  padding-block: 8px;
}

.comercio-ui-modal-input:focus {
  border-color: rgba(104, 181, 208, 0.55);
  box-shadow: 0 0 0 3px rgba(76, 169, 205, 0.14);
}

.comercio-ui-modal-acoes {
  display: flex;
  gap: 8px;
  justify-content: flex-end;
  flex-wrap: wrap;
}

.comercio-ui-modal-btn {
  min-height: 36px;
  min-width: 96px;
  border-radius: 10px;
  border: 1px solid rgba(114, 147, 202, 0.22);
  background: rgba(17, 27, 46, 0.9);
  color: #e1edff;
  font: inherit;
  font-weight: 700;
  cursor: pointer;
  padding: 0 12px;
}

.comercio-ui-modal-btn:hover,
.comercio-ui-modal-btn:focus-visible {
  filter: brightness(1.04);
  transform: translateY(-1px);
}

.comercio-ui-modal-btn-pri {
  background: linear-gradient(135deg, #2b7cff, #2365d1);
  border-color: rgba(115, 166, 247, 0.34);
  color: #fff;
}

.comercio-ui-modal-btn-pri.is-danger {
  background: linear-gradient(135deg, #ff517f, #e63f6b);
  border-color: rgba(255, 128, 158, 0.34);
}

.comercio-ui-modal-btn-sec {
  background: rgba(255, 255, 255, 0.03);
}

body.light-mode.pagina-comercio .comercio-ui-modal-backdrop {
  background: rgba(27, 37, 58, 0.28);
}

body.light-mode.pagina-comercio .comercio-ui-modal-card {
  border-color: rgba(120, 146, 191, 0.24);
  background:
    radial-gradient(110% 120% at 0% 0%, rgba(129, 167, 236, 0.16), transparent 58%),
    radial-gradient(80% 120% at 100% 0%, rgba(77, 193, 167, 0.12), transparent 55%),
    linear-gradient(180deg, rgba(248, 251, 255, 0.98), rgba(239, 245, 253, 0.98));
  box-shadow: 0 16px 34px rgba(45, 62, 93, 0.18);
  color: #21344f;
}

body.light-mode.pagina-comercio .comercio-ui-modal-fechar {
  background: rgba(255, 255, 255, 0.82);
  border-color: rgba(118, 146, 191, 0.2);
  color: #355073;
}

body.light-mode.pagina-comercio .comercio-ui-modal-titulo {
  color: #20324a;
}

body.light-mode.pagina-comercio .comercio-ui-modal-texto,
body.light-mode.pagina-comercio .comercio-ui-modal-campo-label {
  color: #5d7290;
}

body.light-mode.pagina-comercio .comercio-ui-modal-input {
  background: rgba(255, 255, 255, 0.94);
  color: #23364f;
  border-color: rgba(116, 146, 191, 0.24);
}

body.light-mode.pagina-comercio .comercio-ui-modal-btn {
  background: rgba(255, 255, 255, 0.8);
  color: #243850;
  border-color: rgba(118, 147, 191, 0.22);
}

@media (max-width: 560px) {
  .comercio-ui-modal-card {
    width: calc(100vw - 14px);
    padding: 14px 12px 12px;
    border-radius: 14px;
  }

  .comercio-ui-modal-acoes {
    display: grid;
    grid-template-columns: 1fr 1fr;
  }

  .comercio-ui-modal-btn {
    width: 100%;
    min-width: 0;
  }
}

/* Modo Comercio - botao add com menu popup */
.comercio-form-item-wrap {
  position: relative;
  display: flex;
  justify-content: flex-start;
}

.comercio-btn-add-trigger {
  min-height: 42px;
}

.comercio-form-item-popover[hidden] {
  display: none !important;
}

.comercio-form-item-popover {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 2600;
  width: min(440px, calc(100vw - 24px));
  max-height: min(86vh, 720px);
  overflow-y: auto;
  border: 1px solid rgba(116, 156, 226, 0.26);
  border-radius: 16px;
  background:
    radial-gradient(120% 120% at 0% 0%, rgba(74, 126, 224, 0.18), transparent 58%),
    radial-gradient(90% 110% at 100% 0%, rgba(45, 181, 154, 0.12), transparent 56%),
    linear-gradient(180deg, rgba(11, 20, 35, 0.985), rgba(7, 13, 24, 0.985));
  box-shadow:
    0 24px 46px rgba(2, 6, 14, 0.44),
    inset 0 1px 0 rgba(255, 255, 255, 0.03),
    0 0 0 9999px rgba(3, 8, 16, 0.58);
  padding: 14px 14px 13px;
  display: grid;
  gap: 12px;
  animation: comercio-pop-item-in 180ms ease-out;
}

.comercio-form-item-wrap.is-open .comercio-btn-add-trigger {
  border-color: rgba(102, 162, 241, 0.34);
  box-shadow: 0 0 0 3px rgba(70, 150, 223, 0.14);
}

.comercio-form-item-popover-header {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  position: relative;
  padding: 2px 40px 8px;
  border-bottom: 1px solid rgba(121, 154, 206, 0.14);
}

.comercio-form-item-popover-header > div:first-child {
  width: 100%;
  text-align: center;
}

.comercio-form-item-popover-header strong {
  color: #edf7ff;
  font-size: 1rem;
  line-height: 1.15;
  display: block;
  letter-spacing: 0.01em;
}

.comercio-form-item-popover-header p {
  margin: 5px 0 0;
  color: #a9c0df;
  font-size: 0.79rem;
  line-height: 1.25;
}

.comercio-form-item-popover-fechar {
  width: 32px;
  height: 32px;
  border-radius: 10px;
  border: 1px solid rgba(113, 147, 202, 0.22);
  background: rgba(255, 255, 255, 0.03);
  color: #d5e7ff;
  display: grid;
  place-items: center;
  cursor: pointer;
  flex: 0 0 auto;
  position: absolute;
  top: 1px;
  right: 0;
  transition: background 150ms ease, border-color 150ms ease, transform 150ms ease;
}

.comercio-form-item-popover-fechar:hover,
.comercio-form-item-popover-fechar:focus-visible {
  background: rgba(83, 127, 214, 0.08);
  border-color: rgba(124, 160, 224, 0.32);
  transform: translateY(-1px);
}

.comercio-form-item-campos-popover {
  grid-template-columns: 1fr;
  gap: 10px;
  margin-top: 2px;
}

.comercio-form-item-popover .comercio-input {
  height: 44px;
  border-radius: 12px;
  padding-inline: 14px;
  border-color: rgba(117, 151, 208, 0.2);
  background: linear-gradient(180deg, rgba(4, 10, 20, 0.94), rgba(5, 11, 22, 0.94));
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.02);
}

.comercio-form-item-popover .comercio-input-preco {
  text-align: left;
}

.comercio-form-item-popover .comercio-input::placeholder {
  color: #a8bfdc;
  opacity: 0.78;
}

.comercio-form-item-popover .comercio-input:hover {
  border-color: rgba(127, 165, 228, 0.28);
}

.comercio-form-item-popover .comercio-input:focus {
  outline: none;
  border-color: rgba(88, 163, 255, 0.52);
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.03),
    0 0 0 3px rgba(73, 145, 238, 0.14);
  background: linear-gradient(180deg, rgba(6, 12, 24, 0.96), rgba(6, 12, 24, 0.96));
}

.comercio-form-item-acoes {
  display: grid;
  grid-template-columns: 1fr;
  gap: 8px;
  margin-top: 2px;
}

.comercio-form-item-acoes .comercio-btn {
  width: 100%;
  min-height: 42px;
  border-radius: 12px;
  font-size: 0.92rem;
}

.comercio-form-item-acoes .comercio-btn-ghost {
  border-color: rgba(118, 148, 201, 0.2);
  background: linear-gradient(180deg, rgba(10, 18, 34, 0.82), rgba(8, 14, 27, 0.82));
}

.comercio-form-item-acoes .comercio-btn-ghost:hover,
.comercio-form-item-acoes .comercio-btn-ghost:focus-visible {
  border-color: rgba(126, 159, 217, 0.3);
}

.comercio-form-item-acoes .comercio-btn-add {
  border-color: rgba(86, 147, 232, 0.34);
  background: linear-gradient(135deg, rgba(34, 85, 154, 0.98), rgba(24, 68, 129, 0.98));
  box-shadow: 0 8px 16px rgba(17, 53, 102, 0.3);
}

body.light-mode.pagina-comercio .comercio-form-item-popover {
  border-color: rgba(116, 147, 191, 0.26);
  background:
    radial-gradient(110% 110% at 0% 0%, rgba(129, 167, 236, 0.13), transparent 60%),
    radial-gradient(90% 110% at 100% 0%, rgba(77, 193, 167, 0.10), transparent 58%),
    linear-gradient(180deg, rgba(248, 251, 255, 0.98), rgba(239, 245, 253, 0.98));
  box-shadow:
    0 14px 28px rgba(46, 66, 98, 0.16),
    0 0 0 9999px rgba(19, 28, 43, 0.28);
}

body.light-mode.pagina-comercio .comercio-form-item-popover-header strong {
  color: #20334d;
}

body.light-mode.pagina-comercio .comercio-form-item-popover-header p {
  color: #5f7492;
}

body.light-mode.pagina-comercio .comercio-form-item-popover .comercio-input::placeholder {
  color: #667d9d;
}

body.light-mode.pagina-comercio .comercio-form-item-popover .comercio-input {
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.96), rgba(248, 251, 255, 0.96));
  border-color: rgba(116, 147, 191, 0.22);
}

body.light-mode.pagina-comercio .comercio-form-item-popover .comercio-input:focus {
  border-color: rgba(74, 136, 220, 0.5);
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.5),
    0 0 0 3px rgba(83, 146, 227, 0.12);
  background: rgba(255, 255, 255, 0.98);
}

body.light-mode.pagina-comercio .comercio-form-item-popover-fechar {
  background: rgba(255, 255, 255, 0.85);
  color: #355276;
  border-color: rgba(116, 147, 191, 0.2);
}

body.light-mode.pagina-comercio .comercio-form-item-acoes .comercio-btn-ghost {
  background: linear-gradient(180deg, rgba(248, 251, 255, 0.94), rgba(241, 246, 253, 0.94));
}

@keyframes comercio-pop-item-in {
  from {
    opacity: 0;
    transform: translate(-50%, calc(-50% + 10px)) scale(0.985);
  }
  to {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }
}

@media (max-width: 760px) {
  .comercio-form-item-popover {
    width: min(440px, calc(100vw - 16px));
    max-height: min(90vh, 720px);
    padding: 12px;
  }
}

/* Modo Comercio - abas (vendas x extrato) */
body.pagina-comercio .comercio-secoes-tabs-wrap {
  margin-bottom: 14px;
}

.comercio-secoes-tabs {
  display: flex;
  gap: 8px;
  align-items: stretch;
  padding: 6px;
  border-radius: 14px;
  border: 1px solid rgba(112, 145, 201, 0.16);
  background: rgba(255, 255, 255, 0.02);
}

.comercio-secoes-tab {
  flex: 1 1 0;
  min-height: 40px;
  border-radius: 11px;
  border: 1px solid transparent;
  background: transparent;
  color: #c6dcf7;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 0 12px;
  font: inherit;
  font-weight: 700;
  text-align: center;
}

.comercio-secoes-tab:hover,
.comercio-secoes-tab:focus-visible {
  background: rgba(80, 128, 218, 0.08);
  border-color: rgba(120, 157, 222, 0.2);
}

.comercio-secoes-tab.is-active {
  color: #eef7ff;
  border-color: rgba(108, 165, 246, 0.28);
  background:
    linear-gradient(180deg, rgba(42, 90, 173, 0.24), rgba(29, 66, 130, 0.18));
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.04);
}

.comercio-secoes-tab i {
  color: #7fd8ff;
}

.comercio-secoes-tab.is-active i {
  color: #90f2d8;
}

body.light-mode.pagina-comercio .comercio-secoes-tabs {
  border-color: rgba(112, 144, 191, 0.18);
  background: rgba(255, 255, 255, 0.55);
}

body.light-mode.pagina-comercio .comercio-secoes-tab {
  color: #496583;
}

body.light-mode.pagina-comercio .comercio-secoes-tab:hover,
body.light-mode.pagina-comercio .comercio-secoes-tab:focus-visible {
  background: rgba(93, 139, 214, 0.08);
  border-color: rgba(118, 150, 201, 0.22);
}

body.light-mode.pagina-comercio .comercio-secoes-tab.is-active {
  color: #20344f;
  border-color: rgba(109, 150, 214, 0.24);
  background: linear-gradient(180deg, rgba(188, 217, 255, 0.55), rgba(167, 204, 251, 0.38));
}

@media (max-width: 760px) {
  .comercio-secoes-tabs {
    overflow-x: auto;
    scrollbar-width: thin;
  }

  .comercio-secoes-tab {
    flex: 0 0 auto;
    min-width: 210px;
  }
}

@media (max-width: 520px) {
  .comercio-secoes-tab {
    min-width: 188px;
    font-size: 0.88rem;
  }
}

/* Modo Comercio - relatorio de itens */
body.pagina-comercio .comercio-itens-insights-wrap {
  border: 1px solid rgba(110, 143, 198, 0.18);
  border-radius: 16px;
  background: linear-gradient(180deg, rgba(10, 18, 31, 0.97), rgba(8, 14, 26, 0.96));
  box-shadow: 0 12px 24px rgba(2, 5, 12, 0.2);
  padding: 14px;
  margin-bottom: 14px;
}

.comercio-itens-insights-header-acoes {
  display: flex;
  align-items: flex-end;
  gap: 10px;
  justify-content: flex-end;
  flex-wrap: wrap;
}

.comercio-itens-insights-cards {
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 10px;
  margin-bottom: 12px;
}

.comercio-itens-insights-card {
  border: 1px solid rgba(113, 147, 202, 0.18);
  border-radius: 13px;
  background: rgba(255, 255, 255, 0.02);
  padding: 10px 11px;
  display: grid;
  gap: 4px;
}

.comercio-itens-insights-card span {
  color: #aabedb;
  font-size: 0.77rem;
}

.comercio-itens-insights-card strong {
  color: #edf7ff;
  font-size: 0.95rem;
  line-height: 1.2;
  overflow-wrap: anywhere;
}

.comercio-itens-insights-card small {
  color: #9fb4d3;
  font-size: 0.77rem;
  line-height: 1.25;
}

.comercio-itens-insights-grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 10px;
}

.comercio-itens-insights-bloco {
  border: 1px solid rgba(113, 147, 202, 0.16);
  border-radius: 14px;
  background: rgba(255, 255, 255, 0.015);
  padding: 10px;
  min-width: 0;
}

.comercio-itens-insights-bloco-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  margin-bottom: 8px;
}

.comercio-itens-insights-bloco-header h3 {
  margin: 0;
  color: #eef7ff;
  font-size: 0.92rem;
  line-height: 1.2;
}

.comercio-itens-insights-bloco-header span {
  color: #9fb4d3;
  font-size: 0.76rem;
  white-space: nowrap;
}

.comercio-itens-insights-lista {
  margin: 0;
  padding: 0;
  list-style: none;
  display: grid;
  gap: 7px;
}

.comercio-itens-insights-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  border: 1px solid rgba(113, 147, 202, 0.14);
  border-radius: 11px;
  background: rgba(255, 255, 255, 0.02);
  padding: 8px 9px;
}

.comercio-itens-insights-item-main {
  display: flex;
  align-items: center;
  gap: 8px;
  min-width: 0;
}

.comercio-itens-insights-rank {
  width: 22px;
  height: 22px;
  border-radius: 999px;
  border: 1px solid rgba(118, 154, 214, 0.2);
  background: rgba(255, 255, 255, 0.02);
  color: #cfe2ff;
  display: grid;
  place-items: center;
  font-size: 0.72rem;
  font-weight: 800;
  flex: 0 0 auto;
}

.comercio-itens-insights-item-textos {
  min-width: 0;
  display: grid;
  gap: 2px;
}

.comercio-itens-insights-item-textos strong {
  color: #eaf4ff;
  font-size: 0.86rem;
  line-height: 1.2;
  overflow-wrap: anywhere;
}

.comercio-itens-insights-item-textos small {
  color: #9fb4d3;
  font-size: 0.75rem;
  line-height: 1.2;
}

.comercio-itens-insights-item-lado {
  flex: 0 0 auto;
  text-align: right;
}

.comercio-itens-insights-item-lado strong {
  color: #86efd4;
  font-size: 0.84rem;
  white-space: nowrap;
}

.comercio-itens-insights-item.is-resumo .comercio-itens-insights-rank {
  display: none;
}

.comercio-itens-insights-item.is-resumo .comercio-itens-insights-item-main {
  gap: 0;
}

.comercio-itens-insights-lista-resumo .comercio-itens-insights-item-lado strong {
  color: #dff0ff;
}

body.light-mode.pagina-comercio .comercio-itens-insights-wrap,
body.light-mode.pagina-comercio .comercio-itens-insights-card,
body.light-mode.pagina-comercio .comercio-itens-insights-bloco,
body.light-mode.pagina-comercio .comercio-itens-insights-item {
  border-color: rgba(112, 144, 191, 0.18);
  background: rgba(255, 255, 255, 0.55);
}

body.light-mode.pagina-comercio .comercio-itens-insights-card span,
body.light-mode.pagina-comercio .comercio-itens-insights-card small,
body.light-mode.pagina-comercio .comercio-itens-insights-bloco-header span,
body.light-mode.pagina-comercio .comercio-itens-insights-item-textos small {
  color: #5f738f;
}

body.light-mode.pagina-comercio .comercio-itens-insights-card strong,
body.light-mode.pagina-comercio .comercio-itens-insights-bloco-header h3,
body.light-mode.pagina-comercio .comercio-itens-insights-item-textos strong,
body.light-mode.pagina-comercio .comercio-itens-insights-lista-resumo .comercio-itens-insights-item-lado strong {
  color: #21344f;
}

body.light-mode.pagina-comercio .comercio-itens-insights-item-lado strong {
  color: #166f58;
}

body.light-mode.pagina-comercio .comercio-itens-insights-rank {
  color: #3f618a;
  border-color: rgba(116, 147, 191, 0.2);
  background: rgba(255, 255, 255, 0.82);
}

@media (max-width: 980px) {
  .comercio-itens-insights-cards {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

@media (max-width: 760px) {
  .comercio-itens-insights-header-acoes {
    width: 100%;
    justify-content: flex-start;
  }

  .comercio-itens-insights-header-acoes > * {
    width: 100%;
  }

  .comercio-itens-insights-grid {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 520px) {
  .comercio-itens-insights-cards {
    grid-template-columns: 1fr;
  }

  .comercio-itens-insights-item {
    align-items: flex-start;
    flex-direction: column;
  }

  .comercio-itens-insights-item-lado {
    width: 100%;
    text-align: left;
  }
}

/* Sidebar mobile: botoes maiores (area de toque) */
@media (max-width: 640px) {
  .sidebar {
    width: min(92vw, 360px);
    padding-left: 16px;
    padding-right: 16px;
  }

  .sidebar-usuario-menu {
    margin-bottom: 16px;
  }

  .sidebar-usuario-toggle {
    min-height: 50px;
    padding: 7px 40px 7px 10px;
    border-radius: 12px;
  }

  .sidebar-usuario-identidade > i {
    width: 24px;
    height: 24px;
  }

  .sidebar-usuario-nome {
    font-size: 0.88rem;
  }

  .sidebar-usuario-textos small {
    font-size: 0.6rem;
  }

  .sidebar .botoes-financeiros {
    gap: 12px;
    margin-bottom: 18px;
  }

  .sidebar .botoes-financeiros .btn-card {
    height: 46px;
    min-height: 46px;
    border-radius: 10px;
    font-size: 0.9rem;
    letter-spacing: 1.5px;
    gap: 10px;
    padding: 0 12px;
  }

  .sidebar .botoes-financeiros .btn-card i {
    font-size: 0.92rem;
  }

  .sidebar #menu-meses {
    margin-bottom: 18px;
  }

  .sidebar .menu-meses-grid button,
  .sidebar .menu-meses-lista button,
  .sidebar .menu-ano-toggle,
  .sidebar .menu-meses-grid .menu-ano-link {
    min-height: 44px;
    border-radius: 10px;
    padding: 12px 14px;
    font-size: 0.86rem;
  }

  .sidebar .backup-area {
    padding-top: 14px;
  }

  .sidebar .backup-area .btn-backup,
  .sidebar .backup-area .btn-tema-toggle,
  .sidebar .backup-area .btn-configuracoes-toggle,
  .sidebar .backup-area .btn-reset {
    width: min(230px, 96%);
    min-height: 46px;
    font-size: 0.9rem;
  }

  .sidebar .backup-area .btn-backup,
  .sidebar .backup-area .btn-reset {
    padding: 11px 14px;
  }

  .sidebar .backup-area .btn-configuracoes-toggle {
    padding: 11px 12px;
    border-radius: 12px;
  }

  .sidebar .backup-area .btn-configuracoes-principal {
    gap: 8px;
  }

  .sidebar .backup-area .btn-tema-toggle {
    min-height: 46px;
    padding-top: 11px;
    padding-bottom: 11px;
    margin-bottom: 14px;
  }

  .sidebar .backup-area .btn-tema-toggle::before {
    width: 24px;
    height: 24px;
    left: 9px;
  }

  body.light-mode .sidebar .backup-area .btn-tema-toggle::before {
    left: calc(100% - 35px);
  }
}

/* =========================================================
   MENU GERAL DE PAGINAS (menu.html)
   ========================================================= */
body.pagina-menu-app {
  min-height: 100vh;
  margin: 0;
  background:
    radial-gradient(110% 140% at 0% 0%, rgba(51, 146, 242, 0.16), transparent 58%),
    radial-gradient(95% 120% at 100% 0%, rgba(46, 198, 160, 0.12), transparent 56%),
    radial-gradient(120% 120% at 50% 100%, rgba(217, 149, 54, 0.10), transparent 62%),
    linear-gradient(180deg, #050b14 0%, #071120 100%);
  color: #e9f3ff;
}

body.pagina-menu-app .menu-app-shell {
  width: min(1240px, 100%);
  margin: 0 auto;
  padding: max(16px, env(safe-area-inset-top, 0px)) 16px max(24px, env(safe-area-inset-bottom, 0px));
  display: grid;
  gap: 16px;
}

body.pagina-menu-app .menu-app-hero {
  border: 1px solid rgba(113, 147, 202, 0.18);
  border-radius: 22px;
  background:
    radial-gradient(120% 120% at 0% 0%, rgba(76, 119, 214, 0.16), transparent 58%),
    radial-gradient(120% 120% at 100% 0%, rgba(26, 160, 135, 0.14), transparent 58%),
    linear-gradient(180deg, rgba(10, 18, 32, 0.97), rgba(7, 13, 25, 0.96));
  box-shadow: 0 20px 42px rgba(2, 6, 13, 0.26), inset 0 1px 0 rgba(255, 255, 255, 0.03);
  padding: 18px;
  display: grid;
  grid-template-columns: minmax(0, 1fr) minmax(320px, 390px);
  gap: 16px;
  align-items: stretch;
}

.menu-app-hero-main {
  min-width: 0;
  display: grid;
  align-content: start;
}

.menu-app-kicker {
  margin: 0 0 6px;
  color: #89d6ff;
  font-size: 0.78rem;
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: 0.12em;
}

.menu-app-hero-main h1 {
  margin: 0;
  font-size: clamp(1.25rem, 2.6vw, 2rem);
  line-height: 1.05;
  letter-spacing: -0.02em;
}

.menu-app-subtitulo {
  margin: 10px 0 0;
  color: #b6cae7;
  font-size: 0.95rem;
  line-height: 1.45;
  max-width: 58ch;
}

.menu-app-usuario {
  margin-top: 0;
  display: inline-grid;
  grid-template-columns: auto minmax(0, 1fr);
  gap: 10px;
  align-items: center;
  border: 1px solid rgba(112, 148, 204, 0.18);
  background: rgba(255, 255, 255, 0.02);
  border-radius: 14px;
  padding: 9px 11px;
  max-width: min(100%, 460px);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.02);
}

.menu-app-usuario-icone {
  width: 34px;
  height: 34px;
  border-radius: 999px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: #ddedff;
  border: 1px solid rgba(132, 171, 230, 0.36);
  background: linear-gradient(145deg, rgba(32, 63, 107, 0.68), rgba(24, 52, 89, 0.72));
}

.menu-app-usuario-textos {
  min-width: 0;
  display: grid;
  gap: 2px;
}

.menu-app-usuario-textos small {
  color: #9fb7d8;
  font-size: 0.72rem;
  line-height: 1.1;
  letter-spacing: 0.06em;
  text-transform: uppercase;
}

.menu-app-usuario-textos strong {
  color: #f1f7ff;
  font-size: 0.92rem;
  line-height: 1.2;
  overflow-wrap: anywhere;
}

.menu-app-hero-actions {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  grid-template-areas:
    "user user"
    "locale locale"
    "install install"
    "theme logout";
  align-content: start;
  gap: 10px;
  width: min(100%, 390px);
  padding: 10px;
  border-radius: 16px;
  border: 1px solid rgba(115, 148, 205, 0.16);
  background:
    radial-gradient(140% 120% at 0% 0%, rgba(67, 118, 212, 0.08), transparent 62%),
    linear-gradient(180deg, rgba(8, 17, 31, 0.76), rgba(6, 13, 25, 0.72));
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.02);
  justify-self: end;
}

.menu-app-hero-actions > .i18n-locale-slot-inline {
  grid-area: locale;
  grid-column: 1 / -1;
  width: 100%;
  min-width: 0;
}

.menu-app-hero-actions > .i18n-locale-slot-inline .i18n-locale-control {
  min-height: 44px;
  border-radius: 12px;
  border-color: rgba(115, 148, 205, 0.2);
  background: rgba(10, 20, 36, 0.84);
  padding: 6px 8px;
}

.menu-app-hero-actions > .i18n-locale-slot-inline .i18n-locale-select {
  height: 31px;
}

.menu-app-hero-actions > .menu-app-btn {
  width: 100%;
  min-height: 44px;
  border-radius: 11px;
}

.menu-app-hero-actions > #menu-app-btn-tema {
  grid-area: theme;
}

.menu-app-hero-actions > #menu-app-btn-instalar {
  grid-area: install;
}

.menu-app-hero-actions > #menu-app-btn-sair {
  grid-area: logout;
}

.menu-app-hero-actions > #menu-app-btn-instalar.is-disabled {
  opacity: 0.72;
}

.menu-app-hero-actions > .menu-app-btn span {
  white-space: nowrap;
}

.menu-app-hero-actions > .menu-app-usuario {
  grid-area: user;
  grid-column: 1 / -1;
  width: 100%;
  max-width: none;
  margin-top: 2px;
  padding: 10px 11px;
  border-radius: 12px;
  border-color: rgba(116, 149, 205, 0.2);
  background:
    radial-gradient(120% 130% at 0% 0%, rgba(58, 112, 201, 0.08), transparent 62%),
    rgba(255, 255, 255, 0.02);
}

.menu-app-hero-actions > .menu-app-usuario .menu-app-usuario-textos strong {
  font-size: 0.9rem;
}

.menu-app-btn {
  min-height: 40px;
  border-radius: 12px;
  border: 1px solid rgba(115, 148, 205, 0.24);
  background: rgba(13, 24, 42, 0.9);
  color: #edf4ff;
  padding: 8px 12px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  font-weight: 700;
  cursor: pointer;
  transition: transform 160ms ease, filter 160ms ease, border-color 160ms ease;
}

.menu-app-btn:hover,
.menu-app-btn:focus-visible {
  transform: translateY(-1px);
  filter: brightness(1.05);
}

.menu-app-btn-ghost {
  background: rgba(14, 24, 42, 0.8);
}

.menu-app-btn-danger {
  border-color: rgba(226, 111, 133, 0.28);
  background: linear-gradient(135deg, rgba(98, 28, 42, 0.92), rgba(134, 40, 57, 0.9));
  color: #ffe8ed;
}

.menu-app-destaques {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}

.menu-app-destaque-card {
  border-radius: 18px;
  border: 1px solid rgba(113, 147, 202, 0.18);
  background: rgba(255, 255, 255, 0.02);
  padding: 14px;
  color: inherit;
  text-decoration: none;
  display: grid;
  grid-template-columns: 42px minmax(0, 1fr);
  gap: 12px;
  align-items: center;
  box-shadow: 0 10px 22px rgba(2, 5, 12, 0.18);
  transition: transform 160ms ease, border-color 160ms ease, box-shadow 160ms ease;
}

.menu-app-destaque-card:hover,
.menu-app-destaque-card:focus-visible {
  transform: translateY(-2px);
  border-color: rgba(136, 172, 231, 0.3);
  box-shadow: 0 14px 26px rgba(2, 5, 12, 0.24);
}

.menu-app-destaque-card > i {
  width: 42px;
  height: 42px;
  border-radius: 12px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 1.05rem;
  color: #eaf4ff;
  border: 1px solid rgba(134, 169, 227, 0.26);
  background: rgba(255, 255, 255, 0.03);
}

.menu-app-destaque-card div {
  min-width: 0;
  display: grid;
  gap: 4px;
}

.menu-app-destaque-card strong {
  line-height: 1.15;
  font-size: 0.96rem;
}

.menu-app-destaque-card span {
  color: #adc3e3;
  line-height: 1.3;
  font-size: 0.82rem;
}

.menu-app-destaque-card.is-primary {
  background:
    radial-gradient(110% 120% at 0% 0%, rgba(71, 129, 238, 0.14), transparent 60%),
    linear-gradient(180deg, rgba(11, 20, 37, 0.94), rgba(8, 15, 28, 0.94));
}

.menu-app-destaque-card.is-secondary {
  background:
    radial-gradient(110% 120% at 0% 0%, rgba(31, 170, 143, 0.14), transparent 60%),
    linear-gradient(180deg, rgba(11, 20, 37, 0.94), rgba(8, 15, 28, 0.94));
}

.menu-app-groups {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 14px;
}

.menu-app-group {
  --menu-accent: #5da7ff;
  --menu-accent-soft: rgba(93, 167, 255, 0.14);
  border-radius: 18px;
  border: 1px solid rgba(113, 147, 202, 0.16);
  background:
    radial-gradient(120% 120% at 0% 0%, var(--menu-accent-soft), transparent 58%),
    linear-gradient(180deg, rgba(10, 18, 32, 0.96), rgba(7, 13, 25, 0.95));
  box-shadow: 0 12px 26px rgba(2, 6, 13, 0.2);
  padding: 14px;
  display: grid;
  gap: 12px;
}

.menu-app-group--operacao {
  --menu-accent: #2fd3b1;
  --menu-accent-soft: rgba(47, 211, 177, 0.14);
}

.menu-app-group--relatorios {
  --menu-accent: #f4c15a;
  --menu-accent-soft: rgba(244, 193, 90, 0.12);
}

.menu-app-group--acesso {
  --menu-accent: #b38dff;
  --menu-accent-soft: rgba(179, 141, 255, 0.12);
}

.menu-app-group--sistema {
  --menu-accent: #ff8f70;
  --menu-accent-soft: rgba(255, 143, 112, 0.12);
}

.menu-app-group-header {
  display: grid;
  grid-template-columns: auto minmax(0, 1fr);
  gap: 10px;
  align-items: start;
}

.menu-app-group-icon {
  width: 36px;
  height: 36px;
  border-radius: 12px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: #081120;
  background: linear-gradient(135deg, color-mix(in srgb, var(--menu-accent) 90%, #ffffff), var(--menu-accent));
  box-shadow: 0 8px 18px color-mix(in srgb, var(--menu-accent) 28%, transparent);
}

.menu-app-group-textos {
  min-width: 0;
  display: grid;
  gap: 4px;
}

.menu-app-group-textos h2 {
  margin: 0;
  font-size: 1rem;
  line-height: 1.15;
}

.menu-app-group-textos p {
  margin: 0;
  color: #aac0de;
  font-size: 0.82rem;
  line-height: 1.35;
}

.menu-app-group-links {
  display: grid;
  gap: 9px;
}

.menu-app-card {
  border-radius: 14px;
  border: 1px solid rgba(114, 149, 208, 0.16);
  background: rgba(255, 255, 255, 0.02);
  color: inherit;
  text-decoration: none;
  padding: 10px;
  display: grid;
  grid-template-columns: 36px minmax(0, 1fr) auto;
  gap: 10px;
  align-items: center;
  transition: transform 150ms ease, border-color 150ms ease, background 150ms ease;
}

.menu-app-card:hover,
.menu-app-card:focus-visible {
  transform: translateY(-1px);
  border-color: color-mix(in srgb, var(--menu-accent) 30%, rgba(114, 149, 208, 0.18));
  background:
    linear-gradient(180deg, rgba(255, 255, 255, 0.03), rgba(255, 255, 255, 0.02)),
    radial-gradient(120% 120% at 0% 0%, var(--menu-accent-soft), transparent 65%);
}

.menu-app-card-icon {
  width: 36px;
  height: 36px;
  border-radius: 10px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: color-mix(in srgb, var(--menu-accent) 82%, #ffffff);
  border: 1px solid color-mix(in srgb, var(--menu-accent) 26%, rgba(113, 147, 202, 0.18));
  background: color-mix(in srgb, var(--menu-accent) 12%, transparent);
}

.menu-app-card-body {
  min-width: 0;
  display: grid;
  gap: 4px;
}

.menu-app-card-body strong {
  font-size: 0.9rem;
  line-height: 1.15;
  color: #f1f7ff;
}

.menu-app-card-body p {
  margin: 0;
  color: #aec4e3;
  font-size: 0.78rem;
  line-height: 1.32;
}

.menu-app-card-arrow {
  color: #9ab5d8;
  font-size: 0.78rem;
  align-self: start;
  padding-top: 3px;
}

.menu-app-card-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
}

.menu-app-tag {
  border-radius: 999px;
  border: 1px solid rgba(115, 148, 205, 0.18);
  background: rgba(255, 255, 255, 0.02);
  color: #cfe0f7;
  font-size: 0.68rem;
  font-weight: 700;
  line-height: 1;
  padding: 5px 7px;
  letter-spacing: 0.03em;
}

/* Menu page - Patch notes modal */
body.pagina-menu-app.menu-app-modal-open {
  overflow: hidden;
}

.menu-app-modal[hidden] {
  display: none !important;
}

.menu-app-modal {
  position: fixed;
  inset: 0;
  z-index: 2300;
  display: grid;
  place-items: center;
  padding: 18px;
  background: rgba(4, 8, 16, 0.72);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
}

.menu-app-modal-card {
  width: min(920px, calc(100vw - 18px));
  max-height: min(84vh, 760px);
  overflow: auto;
  border-radius: 18px;
  border: 1px solid rgba(114, 149, 208, 0.18);
  background:
    radial-gradient(120% 120% at 0% 0%, rgba(80, 131, 233, 0.12), transparent 60%),
    radial-gradient(120% 120% at 100% 0%, rgba(42, 182, 154, 0.10), transparent 62%),
    linear-gradient(180deg, rgba(9, 16, 29, 0.98), rgba(7, 13, 24, 0.97));
  box-shadow: 0 28px 56px rgba(1, 4, 10, 0.44), inset 0 1px 0 rgba(255, 255, 255, 0.03);
  padding: 16px;
  position: relative;
  display: grid;
  gap: 12px;
}

.menu-app-modal-close {
  position: sticky;
  top: 0;
  margin-left: auto;
  width: 34px;
  height: 34px;
  border-radius: 10px;
  border: 1px solid rgba(114, 149, 208, 0.2);
  background: rgba(10, 19, 34, 0.88);
  color: #d8e8ff;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: transform 160ms ease, border-color 160ms ease, filter 160ms ease;
  z-index: 1;
}

.menu-app-modal-close:hover,
.menu-app-modal-close:focus-visible {
  transform: translateY(-1px);
  border-color: rgba(129, 171, 238, 0.38);
  filter: brightness(1.06);
}

.menu-app-modal-header {
  margin-top: -4px;
  display: grid;
  gap: 6px;
  justify-items: center;
  text-align: center;
}

.menu-app-modal-kicker {
  margin: 0;
  color: #8fd7ff;
  font-size: 0.75rem;
  font-weight: 800;
  letter-spacing: 0.12em;
  text-transform: uppercase;
}

.menu-app-modal-header h2 {
  margin: 0;
  color: #eef6ff;
  font-size: clamp(1.05rem, 2.1vw, 1.35rem);
  line-height: 1.08;
}

.menu-app-modal-subtitulo {
  margin: 0;
  color: #aec3e2;
  font-size: 0.88rem;
  line-height: 1.4;
  max-width: 72ch;
  margin-inline: auto;
}

.menu-app-patchnotes-list {
  display: grid;
  gap: 10px;
}

.menu-app-patchnotes-admin {
  border: 1px solid rgba(113, 147, 202, 0.15);
  border-radius: 14px;
  background: rgba(255, 255, 255, 0.015);
  padding: 10px;
  display: grid;
  gap: 10px;
}

.menu-app-patchnotes-admin[hidden] {
  display: none !important;
}

.menu-app-patchnotes-admin-bar {
  display: grid;
  gap: 8px;
}

.menu-app-patchnotes-admin-title {
  color: #d7e8ff;
  font-size: 0.8rem;
  letter-spacing: 0.06em;
  text-transform: uppercase;
}

.menu-app-patchnotes-admin-acoes {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.menu-app-patchnotes-admin-acoes .menu-app-btn {
  min-height: 38px;
  padding: 8px 10px;
  font-size: 0.82rem;
  border-radius: 10px;
}

.menu-app-patchnotes-form {
  border: 1px dashed rgba(116, 149, 205, 0.2);
  border-radius: 12px;
  padding: 10px;
  display: grid;
  gap: 10px;
}

.menu-app-patchnotes-form[hidden] {
  display: none !important;
}

.menu-app-patchnotes-form-grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 10px;
}

.menu-app-patchnotes-field {
  min-width: 0;
  display: grid;
  gap: 6px;
}

.menu-app-patchnotes-field > span {
  color: #cddff8;
  font-size: 0.76rem;
  font-weight: 700;
  letter-spacing: 0.04em;
  text-transform: uppercase;
}

.menu-app-patchnotes-field input,
.menu-app-patchnotes-field textarea {
  width: 100%;
  border-radius: 10px;
  border: 1px solid rgba(113, 147, 202, 0.2);
  background: rgba(8, 16, 29, 0.84);
  color: #ecf5ff;
  padding: 10px 11px;
  font-family: inherit;
  font-size: 0.86rem;
  outline: none;
}

.menu-app-patchnotes-field textarea {
  resize: vertical;
  min-height: 88px;
  line-height: 1.35;
}

.menu-app-patchnotes-field input:focus,
.menu-app-patchnotes-field textarea:focus {
  border-color: rgba(94, 175, 255, 0.42);
  box-shadow: 0 0 0 3px rgba(62, 139, 219, 0.12);
}

.menu-app-patchnotes-form-hint {
  margin: -2px 0 0;
  color: #9fb7d8;
  font-size: 0.78rem;
}

.menu-app-patchnotes-form-feedback {
  margin: 0;
  border-radius: 10px;
  border: 1px solid rgba(113, 147, 202, 0.18);
  background: rgba(255, 255, 255, 0.02);
  color: #dbeaff;
  padding: 8px 10px;
  font-size: 0.82rem;
}

.menu-app-patchnotes-form-feedback.is-error {
  border-color: rgba(225, 111, 131, 0.25);
  background: rgba(174, 55, 82, 0.10);
  color: #ffd4dd;
}

.menu-app-patchnotes-form-feedback.is-ok {
  border-color: rgba(76, 203, 157, 0.22);
  background: rgba(41, 170, 129, 0.10);
  color: #bbf4df;
}

.menu-app-patchnotes-form-acoes {
  display: flex;
  justify-content: flex-end;
  flex-wrap: wrap;
  gap: 8px;
}

.menu-app-patchnotes-form-acoes .menu-app-btn {
  min-height: 40px;
  border-radius: 10px;
  font-size: 0.84rem;
}

.menu-app-patchnotes-empty {
  margin: 4px 0 0;
  color: #b1c7e6;
  font-size: 0.9rem;
  opacity: 0.9;
}

.menu-app-patchnotes-item {
  border-radius: 14px;
  border: 1px solid rgba(113, 147, 202, 0.16);
  background:
    linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0.015)),
    radial-gradient(120% 120% at 0% 0%, rgba(92, 159, 255, 0.08), transparent 68%);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.02);
  padding: 12px;
  display: grid;
  gap: 9px;
}

.menu-app-patchnotes-item-head {
  display: grid;
  grid-template-columns: minmax(0, 1fr) auto;
  align-items: start;
  gap: 8px;
}

.menu-app-patchnotes-item-titulos {
  min-width: 0;
  display: grid;
  gap: 6px;
}

.menu-app-patchnotes-item-titulos h3 {
  margin: 0;
  color: #edf6ff;
  font-size: 0.95rem;
  line-height: 1.15;
}

.menu-app-patchnotes-meta {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 6px;
}

.menu-app-patchnotes-meta time {
  color: #9db7da;
  font-size: 0.76rem;
  line-height: 1.2;
}

.menu-app-patchnotes-item-acoes {
  display: inline-flex;
  flex-wrap: wrap;
  justify-content: flex-end;
  gap: 6px;
}

.menu-app-patchnotes-item-btn {
  min-height: 30px;
  border-radius: 9px;
  border: 1px solid rgba(113, 147, 202, 0.18);
  background: rgba(255, 255, 255, 0.02);
  color: #d9e8ff;
  padding: 0 9px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  cursor: pointer;
  font-size: 0.76rem;
  font-weight: 700;
}

.menu-app-patchnotes-item-btn:hover,
.menu-app-patchnotes-item-btn:focus-visible {
  filter: brightness(1.05);
  border-color: rgba(132, 171, 238, 0.32);
}

.menu-app-patchnotes-item-btn.is-danger {
  border-color: rgba(225, 111, 131, 0.22);
  color: #ffd6df;
  background: rgba(174, 55, 82, 0.08);
}

.menu-app-patchnotes-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-height: 24px;
  border-radius: 999px;
  border: 1px solid rgba(116, 149, 205, 0.2);
  background: rgba(255, 255, 255, 0.03);
  color: #d8e7ff;
  font-size: 0.69rem;
  font-weight: 800;
  letter-spacing: 0.03em;
  padding: 0 8px;
}

.menu-app-patchnotes-badge.is-latest {
  border-color: rgba(79, 227, 181, 0.28);
  background: rgba(46, 204, 156, 0.12);
  color: #8ff3d6;
}

.menu-app-patchnotes-body {
  display: grid;
  gap: 6px;
}

.menu-app-patchnotes-section-title {
  color: #cfe0f7;
  font-size: 0.76rem;
  font-weight: 800;
  letter-spacing: 0.06em;
  text-transform: uppercase;
}

.menu-app-patchnotes-changes {
  margin: 0;
  padding-left: 18px;
  display: grid;
  gap: 4px;
}

.menu-app-patchnotes-changes li {
  color: #b8cce9;
  font-size: 0.84rem;
  line-height: 1.35;
}

.menu-app-patchnotes-empty-inline {
  margin: 0;
  color: #9fb7d8;
  font-size: 0.83rem;
}

body.light-mode.pagina-menu-app {
  background:
    radial-gradient(110% 140% at 0% 0%, rgba(76, 152, 230, 0.18), transparent 58%),
    radial-gradient(95% 120% at 100% 0%, rgba(62, 185, 157, 0.14), transparent 56%),
    radial-gradient(120% 120% at 50% 100%, rgba(214, 167, 74, 0.11), transparent 62%),
    linear-gradient(180deg, #e8f1fb 0%, #e1ecf9 100%);
  color: #1d3049;
}

body.light-mode.pagina-menu-app .menu-app-hero,
body.light-mode.pagina-menu-app .menu-app-group {
  border-color: rgba(112, 142, 189, 0.2);
  background:
    radial-gradient(120% 120% at 0% 0%, rgba(121, 160, 224, 0.12), transparent 58%),
    linear-gradient(180deg, rgba(248, 251, 255, 0.97), rgba(239, 245, 253, 0.96));
  box-shadow: 0 12px 24px rgba(46, 67, 102, 0.14);
}

body.light-mode.pagina-menu-app .menu-app-subtitulo,
body.light-mode.pagina-menu-app .menu-app-usuario-textos small,
body.light-mode.pagina-menu-app .menu-app-destaque-card span,
body.light-mode.pagina-menu-app .menu-app-group-textos p,
body.light-mode.pagina-menu-app .menu-app-card-body p {
  color: #5f7390;
}

body.light-mode.pagina-menu-app .menu-app-hero-main h1,
body.light-mode.pagina-menu-app .menu-app-usuario-textos strong,
body.light-mode.pagina-menu-app .menu-app-destaque-card strong,
body.light-mode.pagina-menu-app .menu-app-group-textos h2,
body.light-mode.pagina-menu-app .menu-app-card-body strong {
  color: #20344d;
}

body.light-mode.pagina-menu-app .menu-app-usuario {
  border-color: rgba(115, 146, 194, 0.2);
  background: rgba(255, 255, 255, 0.58);
}

body.light-mode.pagina-menu-app .menu-app-hero-actions > .menu-app-usuario {
  border-color: rgba(114, 146, 194, 0.2);
  background:
    radial-gradient(120% 120% at 0% 0%, rgba(100, 146, 217, 0.09), transparent 64%),
    rgba(255, 255, 255, 0.72);
}

body.light-mode.pagina-menu-app .menu-app-hero-actions {
  border-color: rgba(114, 146, 194, 0.18);
  background:
    radial-gradient(120% 120% at 0% 0%, rgba(96, 148, 221, 0.1), transparent 64%),
    linear-gradient(180deg, rgba(247, 251, 255, 0.86), rgba(240, 247, 255, 0.82));
}

body.light-mode.pagina-menu-app .menu-app-hero-actions > .i18n-locale-slot-inline .i18n-locale-control {
  background: rgba(244, 249, 255, 0.95);
  border-color: rgba(114, 146, 194, 0.2);
}

body.light-mode.pagina-menu-app .menu-app-usuario-icone {
  color: #19446f;
  border-color: rgba(106, 152, 216, 0.34);
  background: linear-gradient(145deg, rgba(171, 209, 252, 0.85), rgba(146, 193, 246, 0.84));
}

body.light-mode.pagina-menu-app .menu-app-btn {
  background: rgba(247, 251, 255, 0.88);
  border-color: rgba(114, 146, 194, 0.24);
  color: #24415f;
}

body.light-mode.pagina-menu-app .menu-app-btn-danger {
  background: linear-gradient(135deg, rgba(255, 232, 236, 0.96), rgba(255, 221, 227, 0.96));
  border-color: rgba(212, 118, 137, 0.28);
  color: #7c2638;
}

body.light-mode.pagina-menu-app .menu-app-destaque-card {
  border-color: rgba(113, 146, 194, 0.18);
  background: rgba(255, 255, 255, 0.6);
  box-shadow: 0 10px 18px rgba(47, 72, 110, 0.1);
}

body.light-mode.pagina-menu-app .menu-app-destaque-card > i {
  color: #2a4c76;
  border-color: rgba(112, 144, 191, 0.2);
  background: rgba(255, 255, 255, 0.78);
}

body.light-mode.pagina-menu-app .menu-app-card {
  border-color: rgba(113, 146, 194, 0.16);
  background: rgba(255, 255, 255, 0.52);
}

body.light-mode.pagina-menu-app .menu-app-card-arrow {
  color: #6983a4;
}

body.light-mode.pagina-menu-app .menu-app-tag {
  border-color: rgba(112, 144, 191, 0.16);
  background: rgba(255, 255, 255, 0.7);
  color: #446280;
}

body.light-mode.pagina-menu-app .menu-app-modal {
  background: rgba(18, 28, 43, 0.34);
}

body.light-mode.pagina-menu-app .menu-app-modal-card {
  border-color: rgba(113, 146, 194, 0.2);
  background:
    radial-gradient(120% 120% at 0% 0%, rgba(121, 160, 224, 0.14), transparent 58%),
    linear-gradient(180deg, rgba(248, 251, 255, 0.98), rgba(240, 247, 255, 0.97));
  box-shadow: 0 20px 36px rgba(46, 67, 102, 0.18);
}

body.light-mode.pagina-menu-app .menu-app-modal-close {
  border-color: rgba(114, 146, 194, 0.2);
  background: rgba(246, 250, 255, 0.96);
  color: #315171;
}

body.light-mode.pagina-menu-app .menu-app-modal-header h2,
body.light-mode.pagina-menu-app .menu-app-patchnotes-item-titulos h3 {
  color: #20344d;
}

body.light-mode.pagina-menu-app .menu-app-modal-subtitulo,
body.light-mode.pagina-menu-app .menu-app-patchnotes-empty,
body.light-mode.pagina-menu-app .menu-app-patchnotes-meta time,
body.light-mode.pagina-menu-app .menu-app-patchnotes-empty-inline,
body.light-mode.pagina-menu-app .menu-app-patchnotes-changes li {
  color: #5f7390;
}

body.light-mode.pagina-menu-app .menu-app-patchnotes-admin {
  border-color: rgba(113, 146, 194, 0.18);
  background: rgba(255, 255, 255, 0.56);
}

body.light-mode.pagina-menu-app .menu-app-patchnotes-admin-title,
body.light-mode.pagina-menu-app .menu-app-patchnotes-field > span {
  color: #36516f;
}

body.light-mode.pagina-menu-app .menu-app-patchnotes-form {
  border-color: rgba(112, 144, 191, 0.22);
}

body.light-mode.pagina-menu-app .menu-app-patchnotes-field input,
body.light-mode.pagina-menu-app .menu-app-patchnotes-field textarea {
  border-color: rgba(113, 146, 194, 0.2);
  background: rgba(248, 251, 255, 0.92);
  color: #21344f;
}

body.light-mode.pagina-menu-app .menu-app-patchnotes-form-hint {
  color: #5f7390;
}

body.light-mode.pagina-menu-app .menu-app-patchnotes-form-feedback {
  border-color: rgba(113, 146, 194, 0.18);
  background: rgba(255, 255, 255, 0.72);
  color: #35506f;
}

body.light-mode.pagina-menu-app .menu-app-patchnotes-item-btn {
  border-color: rgba(113, 146, 194, 0.16);
  background: rgba(255, 255, 255, 0.74);
  color: #325173;
}

body.light-mode.pagina-menu-app .menu-app-patchnotes-item {
  border-color: rgba(113, 146, 194, 0.18);
  background:
    radial-gradient(120% 120% at 0% 0%, rgba(102, 149, 221, 0.10), transparent 68%),
    rgba(255, 255, 255, 0.62);
}

body.light-mode.pagina-menu-app .menu-app-patchnotes-badge {
  border-color: rgba(112, 144, 191, 0.18);
  background: rgba(255, 255, 255, 0.72);
  color: #446280;
}

body.light-mode.pagina-menu-app .menu-app-patchnotes-badge.is-latest {
  border-color: rgba(52, 163, 128, 0.28);
  background: rgba(52, 163, 128, 0.10);
  color: #1d755c;
}

@media (max-width: 980px) {
  body.pagina-menu-app .menu-app-hero {
    grid-template-columns: 1fr;
  }

  .menu-app-hero-actions {
    justify-self: stretch;
    width: 100%;
  }

  .menu-app-destaques {
    grid-template-columns: 1fr;
  }

  .menu-app-groups {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 640px) {
  body.pagina-menu-app .menu-app-shell {
    padding-inline: 12px;
    gap: 12px;
  }

  body.pagina-menu-app .menu-app-hero {
    padding: 14px;
    border-radius: 18px;
    gap: 12px;
  }

  .menu-app-kicker {
    font-size: 0.72rem;
  }

  .menu-app-subtitulo {
    font-size: 0.88rem;
  }

  .menu-app-hero-actions {
    display: grid;
    grid-template-columns: 1fr;
    grid-template-areas:
      "user"
      "locale"
      "install"
      "theme"
      "logout";
    width: 100%;
    padding: 9px;
    gap: 8px;
    border-radius: 14px;
  }

  .menu-app-btn {
    min-height: 42px;
    width: 100%;
  }

  .menu-app-hero-actions > .menu-app-btn {
    min-height: 42px;
  }

  .menu-app-hero-actions > .i18n-locale-slot-inline {
    min-width: 0;
  }

  .menu-app-destaque-card {
    grid-template-columns: 38px minmax(0, 1fr);
    gap: 10px;
    padding: 12px;
    border-radius: 16px;
  }

  .menu-app-destaque-card > i {
    width: 38px;
    height: 38px;
    border-radius: 11px;
    font-size: 0.96rem;
  }

  .menu-app-group {
    padding: 12px;
    border-radius: 16px;
  }

  .menu-app-card {
    grid-template-columns: 34px minmax(0, 1fr);
    grid-template-areas:
      "icon body"
      "icon arrow";
    align-items: start;
    row-gap: 6px;
    column-gap: 9px;
  }

  .menu-app-card-icon {
    grid-area: icon;
    width: 34px;
    height: 34px;
    border-radius: 10px;
  }

  .menu-app-card-body {
    grid-area: body;
  }

  .menu-app-card-arrow {
    grid-area: arrow;
    justify-self: end;
    align-self: center;
    padding-top: 0;
  }

  .menu-app-modal {
    padding: 10px;
  }

  .menu-app-modal-card {
    width: min(100vw - 12px, 920px);
    max-height: min(88vh, 760px);
    padding: 12px;
    border-radius: 16px;
    gap: 10px;
  }

  .menu-app-modal-close {
    width: 32px;
    height: 32px;
    border-radius: 9px;
  }

  .menu-app-patchnotes-item {
    padding: 10px;
  }

  .menu-app-patchnotes-admin-acoes {
    display: grid;
    grid-template-columns: 1fr;
  }

  .menu-app-patchnotes-admin-acoes .menu-app-btn {
    width: 100%;
  }

  .menu-app-patchnotes-form-grid {
    grid-template-columns: 1fr;
    gap: 8px;
  }

  .menu-app-patchnotes-form-acoes {
    display: grid;
    grid-template-columns: 1fr;
  }

  .menu-app-patchnotes-form-acoes .menu-app-btn {
    width: 100%;
  }

  .menu-app-patchnotes-item-head {
    grid-template-columns: 1fr;
  }

  .menu-app-patchnotes-item-acoes {
    justify-content: flex-start;
  }

  .menu-app-patchnotes-changes {
    padding-left: 16px;
  }
}

@media (max-width: 640px) {
  body:not(.pagina-despesas):not(.pagina-economias):not(.pagina-resumo-ano):not(.pagina-resumo-economias) .tabs:not(.tabs-despesas) {
    justify-content: flex-start;
    align-items: center;
    gap: 8px;
    padding-inline: 8px;
    scroll-padding-inline: 8px;
    overflow-x: auto;
    overflow-y: hidden;
    -webkit-overflow-scrolling: touch;
  }

  body:not(.pagina-despesas):not(.pagina-economias):not(.pagina-resumo-ano):not(.pagina-resumo-economias) .tabs:not(.tabs-despesas) .tab-btn {
    flex: 0 0 auto;
    min-width: max-content;
  }

  body:not(.pagina-despesas):not(.pagina-economias):not(.pagina-resumo-ano):not(.pagina-resumo-economias) .tabs:not(.tabs-despesas) .tab-btn.active {
    transform: none !important;
  }
}

/* Reordenacao manual da lista principal de clientes */
#listaPrincipal > li[data-grupo-key] {
  position: relative;
}

#listaPrincipal[data-reorder-enabled="1"] > li[data-grupo-key] {
  transition: transform 180ms ease, opacity 140ms ease, box-shadow 160ms ease;
  cursor: grab;
}

#listaPrincipal[data-reorder-enabled="1"] > li[data-grupo-key]:active {
  cursor: grabbing;
}

#listaPrincipal[data-reorder-enabled="1"] > li[data-grupo-key] .acoes button {
  cursor: pointer;
}

#listaPrincipal[data-reorder-enabled="1"] > li[data-grupo-key].is-dragging {
  opacity: 0.62;
  transform: scale(0.992);
}

#listaPrincipal[data-reorder-enabled="1"] > li[data-grupo-key].is-drop-before::before,
#listaPrincipal[data-reorder-enabled="1"] > li[data-grupo-key].is-drop-after::after {
  content: '';
  position: absolute;
  left: 12px;
  right: 12px;
  height: 3px;
  border-radius: 999px;
  background: linear-gradient(90deg, color-mix(in srgb, var(--primary) 92%, #ffffff), color-mix(in srgb, var(--primary-soft) 84%, #ffffff));
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--primary) 24%, transparent);
  z-index: 5;
}

#listaPrincipal[data-reorder-enabled="1"] > li[data-grupo-key].is-drop-before::before {
  top: -2px;
}

#listaPrincipal[data-reorder-enabled="1"] > li[data-grupo-key].is-drop-after::after {
  bottom: -2px;
}

@keyframes reorderCarouselOrigem {
  0% {
    transform: translateX(0) scale(1) rotateY(0deg);
  }
  35% {
    transform: translateX(-10px) scale(0.985) rotateY(-8deg);
  }
  100% {
    transform: translateX(0) scale(1) rotateY(0deg);
  }
}

@keyframes reorderCarouselAlvo {
  0% {
    transform: translateX(0) scale(1) rotateY(0deg);
  }
  35% {
    transform: translateX(10px) scale(0.985) rotateY(8deg);
  }
  100% {
    transform: translateX(0) scale(1) rotateY(0deg);
  }
}

#listaPrincipal[data-reorder-enabled="1"] > li[data-grupo-key].is-carousel-origem {
  animation: reorderCarouselOrigem 320ms cubic-bezier(0.23, 0.78, 0.33, 1);
}

#listaPrincipal[data-reorder-enabled="1"] > li[data-grupo-key].is-carousel-alvo {
  animation: reorderCarouselAlvo 320ms cubic-bezier(0.23, 0.78, 0.33, 1);
}

.pasta-header-grupo-titulo {
  display: inline-flex;
  align-items: center;
  min-width: 0;
}

.pasta-header-grupo-titulo > span {
  min-width: 0;
}
